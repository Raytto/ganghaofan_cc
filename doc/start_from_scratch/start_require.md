# 1. 工程需求综述
## 1.1 罡好饭小程序背景
公司内同事G，其家人为了让他每天中午和晚上在公司能吃上家里制作的健康餐，开启了罡好饭。
当前模式是有意愿吃罡好饭的同事在一个微信群里，G的家人每天在合适时间发布明天的菜单，群里同事通过接龙的方式报名，并且在接龙的时候备注一些预设要求（加1个鸡腿，加2个鸡腿，不要米饭等等）。
但这样整体上管理起来还是比较麻烦：无论是统计餐费还是统计每个人的要求（经常格式不一致）；每天午餐晚餐也是限量的，但目前得人工在群进行提醒也很麻烦。
为了让让同事G的家人能够更轻松发布和处理订单，也为了让更多同事能吃上健康的罡好饭。考虑制作一个熟人间的罡好饭点单微信小程序。

## 1.2 需求描述
### 1.2.1 整体简述
分前端和后端。
* 前端：
    * 代码上用的微信小程序的 TS+Skyline
    * 整体上用谷歌的扁平现代风格。
    * 主界面分顶部、中间核心部分、底部三大块区域
    * 顶部
        * 展示一个"TODAY"按钮,点击后核心部分滚动到当前月份
        * 接着按钮展示当前核心部分对应的月份：XX年XX月
        * 右方展示一句话：和罡子哥一起健康每一天！
        * 如果当前微信是管理员
            * 且当前在管理员模式（管理员的默认模式），在最右方显示一个小按钮“切换用户模式”，点击可以切换为用户模式。
            * 且当前在用户模式，则最右方小按钮“切换管理模式”，点击可以切换为管理模式。
    * 核心部分：是一个日历按类似谷歌日历的方式展示本月的每天。
        * 日历最上方是周一、周二到周日
        * 下方5行则对应本月的每天（头尾可能会参杂上个月末的日子和下个月初的日子）
            * 每天的格子被分割成顶、上、下三部分，顶部高度相对小，上部分和下部分高度一致
                * 顶部仅居中有一个数字对应此天的日子
                    * 当天的顶可以填充一个特殊颜色，和特殊数字颜色，使其高亮
                * 上部对应当前的午餐，下部对应当天的晚餐
                    * 上部下部的状态独立（各对应一餐）：
                        * 状态：
                            * 灰色，还没有餐发布
                                * 用户模式下点击给提示“还没有餐发布”
                                * 管理员模式下显示一个齿轮图标，点击进入发布页面（可编辑餐描述、和一些可选项（加鸡腿等等，与选项的价格）、基础价格）
                            * 白色，已发布但没点餐，用图标进行状态细分
                                * 一个饭相关的图标：可点餐
                                    * 点击后进入点餐页面，可查看餐的描述、可选那些可选项、可查看当前已经点了多少份，以及总共有多少份，可选择点多份（不超上限的话）
                                * 一个代表没了的图标：已达点餐上限
                                * 管理员模式下显示一个齿轮图标，点击进入修改发布信息页面
                                    * 可以选择取消此餐，同时也把已点的人的单取消掉
                                    * 可选择锁定订单
                                    * 可选择标记完成
                            * 绿色，已点餐。再用几个图标进行细分
                                * 未上锁状态
                                    * 用户模式下没图标，此时可修改订单，可取消
                                * 锁的图标，代表已锁单，不可修改或取消
                                * 打勾，代表已成为过去
        * 上滑可以切换看下个月，允许一直滑动
        * 下滑可以切换看上个月，允许一直滑动
    * 下方有个人中心，可点击进入个人中心页面
        * 可以查看余额（允许负）
        * 包含个人日志log入口，点击后可查看个人log
            * 点单、充值、取消单、修改单等等历史信息
            * 默认显示最近的10条，往上滑则请求更老的10条，允许一直滑查看所有日志
* 后端
    * 用python fastAPI 和 duckDB 实现相关服务
* 开发和部署
    * 开发时前端和后端都在本地运行
    * 部署时需要把后端放到个人的云服务器上（需要有个文档对部署进行说明（包括相关环境依赖等等））

### 1.2.2 执行
我需要你先进行整体的分析和思考，先当自己是产品经理，把任务拆成一步一步的（包含设计的细化），每一步的描述都写成一个文档，放在doc下的agent_to_do中，如step_1_build_frameword.md。拆任务和设计时不确定的地方都和我先确认