2025-08-22 16:31:24,340 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:31:24,355 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 16:31:24,373 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 16:31:24,376 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:31:24,382 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:32:15,209 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:32:15,225 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-22 16:32:15,225 - api.main - INFO - [main.py:35] - 环境: development
2025-08-22 16:32:15,225 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-22 16:32:24,834 - api.middleware.logging - INFO - [logging.py:31] - [2411084b] GET / - Client: 127.0.0.1
2025-08-22 16:32:24,835 - api.middleware.logging - INFO - [logging.py:44] - [2411084b] 200 - Time: 0.001s
2025-08-22 16:32:29,685 - api.middleware.logging - INFO - [logging.py:31] - [cb602fbf] GET /health - Client: 127.0.0.1
2025-08-22 16:32:29,686 - api.middleware.logging - INFO - [logging.py:44] - [cb602fbf] 200 - Time: 0.001s
2025-08-22 16:32:29,859 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-22 16:32:45,834 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:32:45,850 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-22 16:32:45,850 - api.main - INFO - [main.py:35] - 环境: development
2025-08-22 16:32:45,851 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-22 16:32:48,326 - api.middleware.logging - INFO - [logging.py:31] - [ce8a08ce] GET /api/info - Client: 127.0.0.1
2025-08-22 16:32:48,327 - api.middleware.logging - INFO - [logging.py:44] - [ce8a08ce] 200 - Time: 0.001s
2025-08-22 16:32:48,458 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-22 16:39:33,488 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:39:33,619 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,621 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,625 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933625135，包含 1 个操作
2025-08-22 16:39:33,625 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933625135 中的操作 1/1
2025-08-22 16:39:33,629 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933625135 提交成功
2025-08-22 16:39:33,631 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933631371，包含 1 个操作
2025-08-22 16:39:33,631 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933631371 中的操作 1/1
2025-08-22 16:39:33,634 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933631371 提交成功
2025-08-22 16:39:33,637 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,648 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,649 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,652 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933652149，包含 1 个操作
2025-08-22 16:39:33,652 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933652149 中的操作 1/1
2025-08-22 16:39:33,656 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933652149 提交成功
2025-08-22 16:39:33,657 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933657504，包含 1 个操作
2025-08-22 16:39:33,657 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933657504 中的操作 1/1
2025-08-22 16:39:33,661 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933657504 提交成功
2025-08-22 16:39:33,662 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933662033，包含 1 个操作
2025-08-22 16:39:33,662 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933662033 中的操作 1/1
2025-08-22 16:39:33,663 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163933662033 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-22 16:39:33,663 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163933662033 已回滚
2025-08-22 16:39:33,666 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,676 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,677 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,679 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933679877，包含 1 个操作
2025-08-22 16:39:33,680 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933679877 中的操作 1/1
2025-08-22 16:39:33,683 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933679877 提交成功
2025-08-22 16:39:33,684 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933684805，包含 1 个操作
2025-08-22 16:39:33,685 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933684805 中的操作 1/1
2025-08-22 16:39:33,688 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933684805 提交成功
2025-08-22 16:39:33,688 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933688735，包含 1 个操作
2025-08-22 16:39:33,688 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933688735 中的操作 1/1
2025-08-22 16:39:33,691 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933688735 提交成功
2025-08-22 16:39:33,693 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,704 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,705 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,707 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933707434，包含 1 个操作
2025-08-22 16:39:33,707 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933707434 中的操作 1/1
2025-08-22 16:39:33,711 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933707434 提交成功
2025-08-22 16:39:33,712 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933712470，包含 1 个操作
2025-08-22 16:39:33,712 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933712470 中的操作 1/1
2025-08-22 16:39:33,715 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933712470 提交成功
2025-08-22 16:39:33,716 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933716329，包含 1 个操作
2025-08-22 16:39:33,716 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933716329 中的操作 1/1
2025-08-22 16:39:33,721 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933716329 提交成功
2025-08-22 16:39:33,723 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,734 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,734 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,737 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933737175，包含 1 个操作
2025-08-22 16:39:33,737 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933737175 中的操作 1/1
2025-08-22 16:39:33,741 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933737175 提交成功
2025-08-22 16:39:33,742 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933742496，包含 1 个操作
2025-08-22 16:39:33,742 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933742496 中的操作 1/1
2025-08-22 16:39:33,746 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933742496 提交成功
2025-08-22 16:39:33,746 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933746160，包含 1 个操作
2025-08-22 16:39:33,746 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933746160 中的操作 1/1
2025-08-22 16:39:33,751 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933746160 提交成功
2025-08-22 16:39:33,751 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933751567，包含 1 个操作
2025-08-22 16:39:33,751 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933751567 中的操作 1/1
2025-08-22 16:39:33,753 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933751567 提交成功
2025-08-22 16:39:33,756 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,767 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,768 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,771 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933771175，包含 1 个操作
2025-08-22 16:39:33,771 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933771175 中的操作 1/1
2025-08-22 16:39:33,775 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933771175 提交成功
2025-08-22 16:39:33,776 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933776609，包含 1 个操作
2025-08-22 16:39:33,776 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933776609 中的操作 1/1
2025-08-22 16:39:33,780 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933776609 提交成功
2025-08-22 16:39:33,780 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933780486，包含 1 个操作
2025-08-22 16:39:33,780 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933780486 中的操作 1/1
2025-08-22 16:39:33,785 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933780486 提交成功
2025-08-22 16:39:33,785 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933785923，包含 1 个操作
2025-08-22 16:39:33,786 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933785923 中的操作 1/1
2025-08-22 16:39:33,789 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933785923 提交成功
2025-08-22 16:39:33,791 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,802 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,803 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,805 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933805310，包含 1 个操作
2025-08-22 16:39:33,805 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933805310 中的操作 1/1
2025-08-22 16:39:33,809 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933805310 提交成功
2025-08-22 16:39:33,810 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933810606，包含 1 个操作
2025-08-22 16:39:33,810 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933810606 中的操作 1/1
2025-08-22 16:39:33,814 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933810606 提交成功
2025-08-22 16:39:33,837 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,849 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,849 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,852 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933852415，包含 1 个操作
2025-08-22 16:39:33,852 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933852415 中的操作 1/1
2025-08-22 16:39:33,856 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933852415 提交成功
2025-08-22 16:39:33,857 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933857723，包含 1 个操作
2025-08-22 16:39:33,858 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933857723 中的操作 1/1
2025-08-22 16:39:33,861 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933857723 提交成功
2025-08-22 16:39:33,862 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933862322，包含 1 个操作
2025-08-22 16:39:33,862 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933862322 中的操作 1/1
2025-08-22 16:39:33,869 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933862322 提交成功
2025-08-22 16:39:33,869 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933869349，包含 1 个操作
2025-08-22 16:39:33,869 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933869349 中的操作 1/1
2025-08-22 16:39:33,876 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933869349 提交成功
2025-08-22 16:39:33,879 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,889 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,890 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,892 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933892915，包含 1 个操作
2025-08-22 16:39:33,894 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933892915 中的操作 1/1
2025-08-22 16:39:33,898 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933892915 提交成功
2025-08-22 16:39:33,898 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933898896，包含 1 个操作
2025-08-22 16:39:33,899 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933898896 中的操作 1/1
2025-08-22 16:39:33,902 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933898896 提交成功
2025-08-22 16:39:33,903 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933903772，包含 1 个操作
2025-08-22 16:39:33,903 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933903772 中的操作 1/1
2025-08-22 16:39:33,907 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933903772 提交成功
2025-08-22 16:39:33,907 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933907619，包含 1 个操作
2025-08-22 16:39:33,907 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933907619 中的操作 1/1
2025-08-22 16:39:33,912 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933907619 提交成功
2025-08-22 16:39:33,913 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933913014，包含 1 个操作
2025-08-22 16:39:33,913 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933913014 中的操作 1/1
2025-08-22 16:39:33,913 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163933913014 执行失败: 用户不是管理员或账户已停用
2025-08-22 16:39:33,914 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163933913014 已回滚
2025-08-22 16:39:33,939 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,950 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,951 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,954 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933954136，包含 1 个操作
2025-08-22 16:39:33,954 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933954136 中的操作 1/1
2025-08-22 16:39:33,958 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933954136 提交成功
2025-08-22 16:39:33,958 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933958709，包含 1 个操作
2025-08-22 16:39:33,958 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933958709 中的操作 1/1
2025-08-22 16:39:33,962 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933958709 提交成功
2025-08-22 16:39:33,963 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933963539，包含 1 个操作
2025-08-22 16:39:33,963 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933963539 中的操作 1/1
2025-08-22 16:39:33,966 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933963539 提交成功
2025-08-22 16:39:33,967 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933967081，包含 1 个操作
2025-08-22 16:39:33,967 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933967081 中的操作 1/1
2025-08-22 16:39:33,972 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933967081 提交成功
2025-08-22 16:39:33,972 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933972679，包含 1 个操作
2025-08-22 16:39:33,972 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933972679 中的操作 1/1
2025-08-22 16:39:33,974 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163933972679 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-22 16:39:33,974 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163933972679 已回滚
2025-08-22 16:39:33,977 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:33,988 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:33,988 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:33,991 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933991204，包含 1 个操作
2025-08-22 16:39:33,991 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933991204 中的操作 1/1
2025-08-22 16:39:33,995 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933991204 提交成功
2025-08-22 16:39:33,995 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163933995504，包含 1 个操作
2025-08-22 16:39:33,995 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163933995504 中的操作 1/1
2025-08-22 16:39:33,999 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163933995504 提交成功
2025-08-22 16:39:34,000 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934000310，包含 1 个操作
2025-08-22 16:39:34,000 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934000310 中的操作 1/1
2025-08-22 16:39:34,003 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934000310 提交成功
2025-08-22 16:39:34,003 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934003959，包含 1 个操作
2025-08-22 16:39:34,004 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934003959 中的操作 1/1
2025-08-22 16:39:34,008 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934003959 提交成功
2025-08-22 16:39:34,009 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934009222，包含 1 个操作
2025-08-22 16:39:34,009 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934009222 中的操作 1/1
2025-08-22 16:39:34,010 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934009222 执行失败: 用户不是管理员或账户已停用
2025-08-22 16:39:34,010 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934009222 已回滚
2025-08-22 16:39:34,033 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,046 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,047 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,049 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934049698，包含 1 个操作
2025-08-22 16:39:34,049 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934049698 中的操作 1/1
2025-08-22 16:39:34,054 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934049698 提交成功
2025-08-22 16:39:34,054 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934054493，包含 1 个操作
2025-08-22 16:39:34,054 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934054493 中的操作 1/1
2025-08-22 16:39:34,055 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934054493 执行失败: 用户不是管理员或账户已停用
2025-08-22 16:39:34,055 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934054493 已回滚
2025-08-22 16:39:34,057 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,068 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,068 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,071 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934071342，包含 1 个操作
2025-08-22 16:39:34,071 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934071342 中的操作 1/1
2025-08-22 16:39:34,075 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934071342 提交成功
2025-08-22 16:39:34,076 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934076553，包含 1 个操作
2025-08-22 16:39:34,076 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934076553 中的操作 1/1
2025-08-22 16:39:34,080 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934076553 提交成功
2025-08-22 16:39:34,080 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934080762，包含 1 个操作
2025-08-22 16:39:34,080 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934080762 中的操作 1/1
2025-08-22 16:39:34,085 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934080762 提交成功
2025-08-22 16:39:34,085 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934085452，包含 1 个操作
2025-08-22 16:39:34,085 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934085452 中的操作 1/1
2025-08-22 16:39:34,092 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934085452 提交成功
2025-08-22 16:39:34,092 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934092465，包含 1 个操作
2025-08-22 16:39:34,092 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934092465 中的操作 1/1
2025-08-22 16:39:34,102 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934092465 提交成功
2025-08-22 16:39:34,104 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934104835，包含 1 个操作
2025-08-22 16:39:34,105 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934104835 中的操作 1/1
2025-08-22 16:39:34,106 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934104835 执行失败: 餐次已满，无法下单
2025-08-22 16:39:34,107 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934104835 已回滚
2025-08-22 16:39:34,109 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,120 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,121 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,124 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934124019，包含 1 个操作
2025-08-22 16:39:34,124 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934124019 中的操作 1/1
2025-08-22 16:39:34,128 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934124019 提交成功
2025-08-22 16:39:34,129 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934129027，包含 1 个操作
2025-08-22 16:39:34,129 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934129027 中的操作 1/1
2025-08-22 16:39:34,133 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934129027 提交成功
2025-08-22 16:39:34,133 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934133184，包含 1 个操作
2025-08-22 16:39:34,133 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934133184 中的操作 1/1
2025-08-22 16:39:34,136 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934133184 提交成功
2025-08-22 16:39:34,136 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934136830，包含 1 个操作
2025-08-22 16:39:34,137 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934136830 中的操作 1/1
2025-08-22 16:39:34,141 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934136830 提交成功
2025-08-22 16:39:34,142 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934142119，包含 1 个操作
2025-08-22 16:39:34,142 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934142119 中的操作 1/1
2025-08-22 16:39:34,149 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934142119 提交成功
2025-08-22 16:39:34,149 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934149126，包含 1 个操作
2025-08-22 16:39:34,149 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934149126 中的操作 1/1
2025-08-22 16:39:34,159 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934149126 提交成功
2025-08-22 16:39:34,159 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934159567，包含 1 个操作
2025-08-22 16:39:34,159 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934159567 中的操作 1/1
2025-08-22 16:39:34,161 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934159567 执行失败: 用户已有该餐次的有效订单 1
2025-08-22 16:39:34,161 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934159567 已回滚
2025-08-22 16:39:34,165 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,176 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,177 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,179 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934179467，包含 1 个操作
2025-08-22 16:39:34,179 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934179467 中的操作 1/1
2025-08-22 16:39:34,183 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934179467 提交成功
2025-08-22 16:39:34,184 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934184442，包含 1 个操作
2025-08-22 16:39:34,184 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934184442 中的操作 1/1
2025-08-22 16:39:34,188 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934184442 提交成功
2025-08-22 16:39:34,188 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934188401，包含 1 个操作
2025-08-22 16:39:34,188 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934188401 中的操作 1/1
2025-08-22 16:39:34,193 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934188401 提交成功
2025-08-22 16:39:34,193 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934193324，包含 1 个操作
2025-08-22 16:39:34,193 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934193324 中的操作 1/1
2025-08-22 16:39:34,198 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934193324 提交成功
2025-08-22 16:39:34,204 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,215 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,216 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,218 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934218691，包含 1 个操作
2025-08-22 16:39:34,218 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934218691 中的操作 1/1
2025-08-22 16:39:34,223 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934218691 提交成功
2025-08-22 16:39:34,223 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934223922，包含 1 个操作
2025-08-22 16:39:34,224 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934223922 中的操作 1/1
2025-08-22 16:39:34,227 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934223922 提交成功
2025-08-22 16:39:34,227 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934227624，包含 1 个操作
2025-08-22 16:39:34,227 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934227624 中的操作 1/1
2025-08-22 16:39:34,232 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934227624 提交成功
2025-08-22 16:39:34,233 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934233141，包含 1 个操作
2025-08-22 16:39:34,233 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934233141 中的操作 1/1
2025-08-22 16:39:34,237 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934233141 提交成功
2025-08-22 16:39:34,237 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934237450，包含 1 个操作
2025-08-22 16:39:34,237 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934237450 中的操作 1/1
2025-08-22 16:39:34,244 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934237450 提交成功
2025-08-22 16:39:34,244 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934244303，包含 1 个操作
2025-08-22 16:39:34,244 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934244303 中的操作 1/1
2025-08-22 16:39:34,254 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934244303 提交成功
2025-08-22 16:39:34,260 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,272 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,273 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,275 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934275615，包含 1 个操作
2025-08-22 16:39:34,275 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934275615 中的操作 1/1
2025-08-22 16:39:34,280 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934275615 提交成功
2025-08-22 16:39:34,282 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934281981，包含 1 个操作
2025-08-22 16:39:34,282 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934281981 中的操作 1/1
2025-08-22 16:39:34,285 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934281981 提交成功
2025-08-22 16:39:34,286 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934286129，包含 1 个操作
2025-08-22 16:39:34,286 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934286129 中的操作 1/1
2025-08-22 16:39:34,289 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934286129 提交成功
2025-08-22 16:39:34,289 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934289727，包含 1 个操作
2025-08-22 16:39:34,289 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934289727 中的操作 1/1
2025-08-22 16:39:34,294 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934289727 提交成功
2025-08-22 16:39:34,294 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934294762，包含 1 个操作
2025-08-22 16:39:34,294 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934294762 中的操作 1/1
2025-08-22 16:39:34,301 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934294762 提交成功
2025-08-22 16:39:34,301 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934301220，包含 1 个操作
2025-08-22 16:39:34,301 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934301220 中的操作 1/1
2025-08-22 16:39:34,311 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934301220 提交成功
2025-08-22 16:39:34,321 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,333 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,333 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,336 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934336300，包含 1 个操作
2025-08-22 16:39:34,336 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934336300 中的操作 1/1
2025-08-22 16:39:34,340 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934336300 提交成功
2025-08-22 16:39:34,340 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934340753，包含 1 个操作
2025-08-22 16:39:34,340 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934340753 中的操作 1/1
2025-08-22 16:39:34,344 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934340753 提交成功
2025-08-22 16:39:34,345 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934345453，包含 1 个操作
2025-08-22 16:39:34,345 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934345453 中的操作 1/1
2025-08-22 16:39:34,348 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934345453 提交成功
2025-08-22 16:39:34,349 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934349047，包含 1 个操作
2025-08-22 16:39:34,349 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934349047 中的操作 1/1
2025-08-22 16:39:34,354 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934349047 提交成功
2025-08-22 16:39:34,363 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,375 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,376 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,378 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934378619，包含 1 个操作
2025-08-22 16:39:34,378 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934378619 中的操作 1/1
2025-08-22 16:39:34,382 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934378619 提交成功
2025-08-22 16:39:34,383 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934383895，包含 1 个操作
2025-08-22 16:39:34,384 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934383895 中的操作 1/1
2025-08-22 16:39:34,387 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934383895 提交成功
2025-08-22 16:39:34,388 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934388176，包含 1 个操作
2025-08-22 16:39:34,388 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934388176 中的操作 1/1
2025-08-22 16:39:34,395 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934388176 提交成功
2025-08-22 16:39:34,395 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934395125，包含 1 个操作
2025-08-22 16:39:34,395 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934395125 中的操作 1/1
2025-08-22 16:39:34,402 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934395125 提交成功
2025-08-22 16:39:34,409 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,420 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,421 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,423 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934423695，包含 1 个操作
2025-08-22 16:39:34,423 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934423695 中的操作 1/1
2025-08-22 16:39:34,427 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934423695 提交成功
2025-08-22 16:39:34,428 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934428854，包含 1 个操作
2025-08-22 16:39:34,429 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934428854 中的操作 1/1
2025-08-22 16:39:34,432 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934428854 提交成功
2025-08-22 16:39:34,432 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934432909，包含 1 个操作
2025-08-22 16:39:34,433 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934432909 中的操作 1/1
2025-08-22 16:39:34,436 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934432909 提交成功
2025-08-22 16:39:34,436 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934436728，包含 1 个操作
2025-08-22 16:39:34,436 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934436728 中的操作 1/1
2025-08-22 16:39:34,441 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934436728 提交成功
2025-08-22 16:39:34,442 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934442150，包含 1 个操作
2025-08-22 16:39:34,442 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934442150 中的操作 1/1
2025-08-22 16:39:34,448 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934442150 提交成功
2025-08-22 16:39:34,448 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934448694，包含 1 个操作
2025-08-22 16:39:34,448 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934448694 中的操作 1/1
2025-08-22 16:39:34,459 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934448694 提交成功
2025-08-22 16:39:34,464 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,476 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,476 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,479 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934479230，包含 1 个操作
2025-08-22 16:39:34,479 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934479230 中的操作 1/1
2025-08-22 16:39:34,483 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934479230 提交成功
2025-08-22 16:39:34,484 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934484497，包含 1 个操作
2025-08-22 16:39:34,484 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934484497 中的操作 1/1
2025-08-22 16:39:34,488 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934484497 提交成功
2025-08-22 16:39:34,488 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934488984，包含 1 个操作
2025-08-22 16:39:34,489 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934488984 中的操作 1/1
2025-08-22 16:39:34,495 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934488984 提交成功
2025-08-22 16:39:34,495 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934495914，包含 1 个操作
2025-08-22 16:39:34,496 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934495914 中的操作 1/1
2025-08-22 16:39:34,502 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934495914 提交成功
2025-08-22 16:39:34,506 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,517 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,518 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,520 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934520708，包含 1 个操作
2025-08-22 16:39:34,520 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934520708 中的操作 1/1
2025-08-22 16:39:34,524 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934520708 提交成功
2025-08-22 16:39:34,525 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934525868，包含 1 个操作
2025-08-22 16:39:34,526 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934525868 中的操作 1/1
2025-08-22 16:39:34,529 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934525868 提交成功
2025-08-22 16:39:34,530 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934530030，包含 1 个操作
2025-08-22 16:39:34,530 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934530030 中的操作 1/1
2025-08-22 16:39:34,533 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934530030 提交成功
2025-08-22 16:39:34,533 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934533642，包含 1 个操作
2025-08-22 16:39:34,533 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934533642 中的操作 1/1
2025-08-22 16:39:34,538 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934533642 提交成功
2025-08-22 16:39:34,539 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934539004，包含 1 个操作
2025-08-22 16:39:34,539 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934539004 中的操作 1/1
2025-08-22 16:39:34,545 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934539004 提交成功
2025-08-22 16:39:34,545 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934545720，包含 1 个操作
2025-08-22 16:39:34,545 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934545720 中的操作 1/1
2025-08-22 16:39:34,556 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934545720 提交成功
2025-08-22 16:39:34,563 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,573 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,574 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,577 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934577307，包含 1 个操作
2025-08-22 16:39:34,577 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934577307 中的操作 1/1
2025-08-22 16:39:34,581 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934577307 提交成功
2025-08-22 16:39:34,582 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934582322，包含 1 个操作
2025-08-22 16:39:34,582 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934582322 中的操作 1/1
2025-08-22 16:39:34,586 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934582322 提交成功
2025-08-22 16:39:34,586 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934586384，包含 1 个操作
2025-08-22 16:39:34,586 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934586384 中的操作 1/1
2025-08-22 16:39:34,591 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934586384 提交成功
2025-08-22 16:39:34,591 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934591410，包含 1 个操作
2025-08-22 16:39:34,591 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934591410 中的操作 1/1
2025-08-22 16:39:34,596 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934591410 提交成功
2025-08-22 16:39:34,596 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934596539，包含 1 个操作
2025-08-22 16:39:34,596 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934596539 中的操作 1/1
2025-08-22 16:39:34,601 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934596539 提交成功
2025-08-22 16:39:34,601 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934601594，包含 1 个操作
2025-08-22 16:39:34,601 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934601594 中的操作 1/1
2025-08-22 16:39:34,606 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934601594 提交成功
2025-08-22 16:39:34,606 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934606424，包含 1 个操作
2025-08-22 16:39:34,606 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934606424 中的操作 1/1
2025-08-22 16:39:34,611 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934606424 提交成功
2025-08-22 16:39:34,620 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,631 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,632 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,637 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,647 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,649 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,654 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,665 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,665 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,669 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,680 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,681 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,684 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934684113，包含 1 个操作
2025-08-22 16:39:34,684 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934684113 中的操作 1/1
2025-08-22 16:39:34,688 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934684113 提交成功
2025-08-22 16:39:34,694 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,705 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,706 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,708 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934708798，包含 1 个操作
2025-08-22 16:39:34,709 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934708798 中的操作 1/1
2025-08-22 16:39:34,712 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934708798 提交成功
2025-08-22 16:39:34,713 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934713062，包含 1 个操作
2025-08-22 16:39:34,713 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934713062 中的操作 1/1
2025-08-22 16:39:34,713 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934713062 执行失败: 用户OpenID duplicate_test 已存在
2025-08-22 16:39:34,714 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934713062 已回滚
2025-08-22 16:39:34,716 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,726 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,727 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,729 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934729707，包含 1 个操作
2025-08-22 16:39:34,729 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934729707 中的操作 1/1
2025-08-22 16:39:34,734 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934729707 提交成功
2025-08-22 16:39:34,734 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934734286，包含 1 个操作
2025-08-22 16:39:34,734 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934734286 中的操作 1/1
2025-08-22 16:39:34,738 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934734286 提交成功
2025-08-22 16:39:34,744 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,755 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,756 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,759 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934759059，包含 1 个操作
2025-08-22 16:39:34,759 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934759059 中的操作 1/1
2025-08-22 16:39:34,761 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934759059 执行失败: Constraint Error: NOT NULL constraint failed: users.user_id
2025-08-22 16:39:34,761 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934759059 已回滚
2025-08-22 16:39:34,777 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,788 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,789 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,792 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934792078，包含 1 个操作
2025-08-22 16:39:34,792 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934792078 中的操作 1/1
2025-08-22 16:39:34,796 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934792078 提交成功
2025-08-22 16:39:34,798 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,809 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,810 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,814 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,825 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,825 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,828 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934828112，包含 1 个操作
2025-08-22 16:39:34,828 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934828112 中的操作 1/1
2025-08-22 16:39:34,832 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934828112 提交成功
2025-08-22 16:39:34,833 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934833131，包含 1 个操作
2025-08-22 16:39:34,833 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934833131 中的操作 1/1
2025-08-22 16:39:34,837 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934833131 提交成功
2025-08-22 16:39:34,837 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934837329，包含 1 个操作
2025-08-22 16:39:34,837 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934837329 中的操作 1/1
2025-08-22 16:39:34,839 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934837329 提交成功
2025-08-22 16:39:34,840 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934840344，包含 1 个操作
2025-08-22 16:39:34,840 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934840344 中的操作 1/1
2025-08-22 16:39:34,842 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934840344 提交成功
2025-08-22 16:39:34,844 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,855 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,856 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,859 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934859140，包含 1 个操作
2025-08-22 16:39:34,859 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934859140 中的操作 1/1
2025-08-22 16:39:34,863 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934859140 提交成功
2025-08-22 16:39:34,864 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934864223，包含 1 个操作
2025-08-22 16:39:34,864 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934864223 中的操作 1/1
2025-08-22 16:39:34,868 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934864223 提交成功
2025-08-22 16:39:34,868 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934868655，包含 1 个操作
2025-08-22 16:39:34,868 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934868655 中的操作 1/1
2025-08-22 16:39:34,870 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934868655 提交成功
2025-08-22 16:39:34,872 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,883 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,884 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,886 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934886961，包含 1 个操作
2025-08-22 16:39:34,887 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934886961 中的操作 1/1
2025-08-22 16:39:34,891 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934886961 提交成功
2025-08-22 16:39:34,892 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934892234，包含 1 个操作
2025-08-22 16:39:34,892 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934892234 中的操作 1/1
2025-08-22 16:39:34,896 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934892234 提交成功
2025-08-22 16:39:34,896 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934896488，包含 1 个操作
2025-08-22 16:39:34,896 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934896488 中的操作 1/1
2025-08-22 16:39:34,899 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934896488 提交成功
2025-08-22 16:39:34,899 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934899691，包含 1 个操作
2025-08-22 16:39:34,899 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934899691 中的操作 1/1
2025-08-22 16:39:34,902 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934899691 提交成功
2025-08-22 16:39:34,906 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,917 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,918 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,920 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934920213，包含 1 个操作
2025-08-22 16:39:34,920 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934920213 中的操作 1/1
2025-08-22 16:39:34,924 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934920213 提交成功
2025-08-22 16:39:34,925 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934925841，包含 1 个操作
2025-08-22 16:39:34,926 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934925841 中的操作 1/1
2025-08-22 16:39:34,927 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934925841 执行失败: 管理员不能停用自己的账户
2025-08-22 16:39:34,927 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934925841 已回滚
2025-08-22 16:39:34,929 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,939 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,940 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,942 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934942954，包含 1 个操作
2025-08-22 16:39:34,943 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934942954 中的操作 1/1
2025-08-22 16:39:34,946 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934942954 提交成功
2025-08-22 16:39:34,947 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934947293，包含 1 个操作
2025-08-22 16:39:34,947 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934947293 中的操作 1/1
2025-08-22 16:39:34,951 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934947293 提交成功
2025-08-22 16:39:34,951 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934951507，包含 1 个操作
2025-08-22 16:39:34,951 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934951507 中的操作 1/1
2025-08-22 16:39:34,952 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163934951507 执行失败: 操作用户不是管理员或账户已停用
2025-08-22 16:39:34,952 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163934951507 已回滚
2025-08-22 16:39:34,954 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,965 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,966 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,968 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934968677，包含 1 个操作
2025-08-22 16:39:34,968 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934968677 中的操作 1/1
2025-08-22 16:39:34,972 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934968677 提交成功
2025-08-22 16:39:34,973 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934973656，包含 1 个操作
2025-08-22 16:39:34,973 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934973656 中的操作 1/1
2025-08-22 16:39:34,977 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934973656 提交成功
2025-08-22 16:39:34,982 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:34,992 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:34,993 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:34,996 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163934996104，包含 1 个操作
2025-08-22 16:39:34,996 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163934996104 中的操作 1/1
2025-08-22 16:39:35,000 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163934996104 提交成功
2025-08-22 16:39:35,004 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:35,015 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:35,016 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:35,018 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935018946，包含 1 个操作
2025-08-22 16:39:35,019 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935018946 中的操作 1/1
2025-08-22 16:39:35,023 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935018946 提交成功
2025-08-22 16:39:35,024 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935023996，包含 1 个操作
2025-08-22 16:39:35,024 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935023996 中的操作 1/1
2025-08-22 16:39:35,027 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935023996 提交成功
2025-08-22 16:39:35,028 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935028316，包含 1 个操作
2025-08-22 16:39:35,028 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935028316 中的操作 1/1
2025-08-22 16:39:35,030 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935028316 提交成功
2025-08-22 16:39:35,036 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:35,048 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:35,051 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:35,053 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935053725，包含 1 个操作
2025-08-22 16:39:35,053 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935053725 中的操作 1/1
2025-08-22 16:39:35,058 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935053725 提交成功
2025-08-22 16:39:35,058 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935058171，包含 1 个操作
2025-08-22 16:39:35,058 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935058171 中的操作 1/1
2025-08-22 16:39:35,062 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935058171 提交成功
2025-08-22 16:39:35,062 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935062141，包含 1 个操作
2025-08-22 16:39:35,062 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935062141 中的操作 1/1
2025-08-22 16:39:35,065 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935062141 提交成功
2025-08-22 16:39:35,066 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935066059，包含 1 个操作
2025-08-22 16:39:35,066 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935066059 中的操作 1/1
2025-08-22 16:39:35,069 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935066059 提交成功
2025-08-22 16:39:35,069 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935069950，包含 1 个操作
2025-08-22 16:39:35,070 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935069950 中的操作 1/1
2025-08-22 16:39:35,073 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935069950 提交成功
2025-08-22 16:39:35,079 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:35,091 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:35,092 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:35,094 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935094519，包含 1 个操作
2025-08-22 16:39:35,094 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935094519 中的操作 1/1
2025-08-22 16:39:35,094 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163935094519 执行失败: 微信OpenID不能为空
2025-08-22 16:39:35,095 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163935094519 已回滚
2025-08-22 16:39:35,096 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:35,107 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:35,107 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:35,110 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935110273，包含 1 个操作
2025-08-22 16:39:35,110 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935110273 中的操作 1/1
2025-08-22 16:39:35,110 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163935110273 执行失败: 微信昵称长度不能超过100字符
2025-08-22 16:39:35,110 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163935110273 已回滚
2025-08-22 16:39:35,112 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:35,122 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:35,123 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:35,125 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935125789，包含 1 个操作
2025-08-22 16:39:35,126 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935125789 中的操作 1/1
2025-08-22 16:39:35,130 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935125789 提交成功
2025-08-22 16:39:35,131 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935131071，包含 1 个操作
2025-08-22 16:39:35,131 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935131071 中的操作 1/1
2025-08-22 16:39:35,135 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822163935131071 提交成功
2025-08-22 16:39:35,135 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822163935135386，包含 1 个操作
2025-08-22 16:39:35,135 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822163935135386 中的操作 1/1
2025-08-22 16:39:35,136 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822163935135386 执行失败: 状态值必须为 active 或 suspended
2025-08-22 16:39:35,136 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822163935135386 已回滚
2025-08-22 16:39:35,138 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:39:35,148 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:39:35,149 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:39:35,153 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:41:13,870 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:41:13,913 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:41:13,916 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:41:13,919 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164113919279，包含 1 个操作
2025-08-22 16:41:13,919 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164113919279 中的操作 1/1
2025-08-22 16:41:13,923 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164113919279 提交成功
2025-08-22 16:41:13,945 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:22,912 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:42:22,989 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:22,992 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:22,995 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164222995183，包含 1 个操作
2025-08-22 16:42:22,995 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164222995183 中的操作 1/1
2025-08-22 16:42:23,000 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164222995183 提交成功
2025-08-22 16:42:23,002 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:23,013 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:23,014 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:23,017 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164223017406，包含 1 个操作
2025-08-22 16:42:23,017 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164223017406 中的操作 1/1
2025-08-22 16:42:23,022 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164223017406 提交成功
2025-08-22 16:42:23,022 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164223022307，包含 1 个操作
2025-08-22 16:42:23,022 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164223022307 中的操作 1/1
2025-08-22 16:42:23,026 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164223022307 提交成功
2025-08-22 16:42:23,029 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:23,040 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:23,041 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:23,044 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164223044444，包含 1 个操作
2025-08-22 16:42:23,044 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164223044444 中的操作 1/1
2025-08-22 16:42:23,045 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164223044444 提交成功
2025-08-22 16:42:23,047 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:28,660 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:42:28,706 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:28,709 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:28,713 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228713138，包含 1 个操作
2025-08-22 16:42:28,713 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228713138 中的操作 1/1
2025-08-22 16:42:28,717 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228713138 提交成功
2025-08-22 16:42:28,719 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228719211，包含 1 个操作
2025-08-22 16:42:28,719 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228719211 中的操作 1/1
2025-08-22 16:42:28,723 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228719211 提交成功
2025-08-22 16:42:28,723 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228723929，包含 1 个操作
2025-08-22 16:42:28,724 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228723929 中的操作 1/1
2025-08-22 16:42:28,728 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228723929 提交成功
2025-08-22 16:42:28,750 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:28,762 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:28,763 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:28,765 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228765552，包含 1 个操作
2025-08-22 16:42:28,765 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228765552 中的操作 1/1
2025-08-22 16:42:28,770 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228765552 提交成功
2025-08-22 16:42:28,770 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228770628，包含 1 个操作
2025-08-22 16:42:28,770 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228770628 中的操作 1/1
2025-08-22 16:42:28,774 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228770628 提交成功
2025-08-22 16:42:28,775 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228775809，包含 1 个操作
2025-08-22 16:42:28,776 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228775809 中的操作 1/1
2025-08-22 16:42:28,779 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228775809 提交成功
2025-08-22 16:42:28,779 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228779759，包含 1 个操作
2025-08-22 16:42:28,779 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228779759 中的操作 1/1
2025-08-22 16:42:28,784 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228779759 提交成功
2025-08-22 16:42:28,785 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228785257，包含 1 个操作
2025-08-22 16:42:28,785 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228785257 中的操作 1/1
2025-08-22 16:42:28,786 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164228785257 执行失败: 用户不是管理员或账户已停用
2025-08-22 16:42:28,786 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164228785257 已回滚
2025-08-22 16:42:28,810 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:28,821 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:28,822 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:28,824 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228824665，包含 1 个操作
2025-08-22 16:42:28,824 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228824665 中的操作 1/1
2025-08-22 16:42:28,829 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228824665 提交成功
2025-08-22 16:42:28,829 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228829412，包含 1 个操作
2025-08-22 16:42:28,829 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228829412 中的操作 1/1
2025-08-22 16:42:28,834 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228829412 提交成功
2025-08-22 16:42:28,835 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228835678，包含 1 个操作
2025-08-22 16:42:28,835 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228835678 中的操作 1/1
2025-08-22 16:42:28,839 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228835678 提交成功
2025-08-22 16:42:28,839 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228839710，包含 1 个操作
2025-08-22 16:42:28,839 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228839710 中的操作 1/1
2025-08-22 16:42:28,844 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164228839710 提交成功
2025-08-22 16:42:28,845 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164228845236，包含 1 个操作
2025-08-22 16:42:28,845 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164228845236 中的操作 1/1
2025-08-22 16:42:28,846 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164228845236 执行失败: 用户不是管理员或账户已停用
2025-08-22 16:42:28,846 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164228845236 已回滚
2025-08-22 16:42:28,872 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:57,099 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:42:57,165 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:57,168 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:57,170 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257170454，包含 1 个操作
2025-08-22 16:42:57,170 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257170454 中的操作 1/1
2025-08-22 16:42:57,175 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257170454 提交成功
2025-08-22 16:42:57,176 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257176711，包含 1 个操作
2025-08-22 16:42:57,176 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257176711 中的操作 1/1
2025-08-22 16:42:57,181 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257176711 提交成功
2025-08-22 16:42:57,181 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257181459，包含 1 个操作
2025-08-22 16:42:57,181 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257181459 中的操作 1/1
2025-08-22 16:42:57,186 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257181459 提交成功
2025-08-22 16:42:57,188 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:57,199 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:57,200 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:57,203 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257203222，包含 1 个操作
2025-08-22 16:42:57,203 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257203222 中的操作 1/1
2025-08-22 16:42:57,207 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257203222 提交成功
2025-08-22 16:42:57,208 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257208571，包含 1 个操作
2025-08-22 16:42:57,208 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257208571 中的操作 1/1
2025-08-22 16:42:57,212 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257208571 提交成功
2025-08-22 16:42:57,213 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257213001，包含 1 个操作
2025-08-22 16:42:57,213 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257213001 中的操作 1/1
2025-08-22 16:42:57,216 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257213001 提交成功
2025-08-22 16:42:57,216 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257216877，包含 1 个操作
2025-08-22 16:42:57,217 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257216877 中的操作 1/1
2025-08-22 16:42:57,222 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257216877 提交成功
2025-08-22 16:42:57,222 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257222818，包含 1 个操作
2025-08-22 16:42:57,223 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257222818 中的操作 1/1
2025-08-22 16:42:57,230 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257222818 提交成功
2025-08-22 16:42:57,230 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257230298，包含 1 个操作
2025-08-22 16:42:57,230 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257230298 中的操作 1/1
2025-08-22 16:42:57,242 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257230298 提交成功
2025-08-22 16:42:57,246 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:42:57,258 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:42:57,259 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:42:57,261 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257261805，包含 1 个操作
2025-08-22 16:42:57,262 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257261805 中的操作 1/1
2025-08-22 16:42:57,266 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257261805 提交成功
2025-08-22 16:42:57,267 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257267659，包含 1 个操作
2025-08-22 16:42:57,267 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257267659 中的操作 1/1
2025-08-22 16:42:57,271 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257267659 提交成功
2025-08-22 16:42:57,272 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257272050，包含 1 个操作
2025-08-22 16:42:57,272 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257272050 中的操作 1/1
2025-08-22 16:42:57,275 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257272050 提交成功
2025-08-22 16:42:57,275 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257275776，包含 1 个操作
2025-08-22 16:42:57,275 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257275776 中的操作 1/1
2025-08-22 16:42:57,280 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257275776 提交成功
2025-08-22 16:42:57,281 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257281365，包含 1 个操作
2025-08-22 16:42:57,281 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257281365 中的操作 1/1
2025-08-22 16:42:57,288 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257281365 提交成功
2025-08-22 16:42:57,288 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257288743，包含 1 个操作
2025-08-22 16:42:57,288 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257288743 中的操作 1/1
2025-08-22 16:42:57,301 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257288743 提交成功
2025-08-22 16:42:57,301 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164257301277，包含 1 个操作
2025-08-22 16:42:57,301 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164257301277 中的操作 1/1
2025-08-22 16:42:57,310 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164257301277 提交成功
2025-08-22 16:42:57,314 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:03,424 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:43:03,469 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:03,472 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:03,474 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303474740，包含 1 个操作
2025-08-22 16:43:03,475 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303474740 中的操作 1/1
2025-08-22 16:43:03,479 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303474740 提交成功
2025-08-22 16:43:03,480 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303480373，包含 1 个操作
2025-08-22 16:43:03,480 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303480373 中的操作 1/1
2025-08-22 16:43:03,484 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303480373 提交成功
2025-08-22 16:43:03,484 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303484548，包含 1 个操作
2025-08-22 16:43:03,484 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303484548 中的操作 1/1
2025-08-22 16:43:03,487 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303484548 提交成功
2025-08-22 16:43:03,488 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303488066，包含 1 个操作
2025-08-22 16:43:03,488 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303488066 中的操作 1/1
2025-08-22 16:43:03,493 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303488066 提交成功
2025-08-22 16:43:03,493 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303493605，包含 1 个操作
2025-08-22 16:43:03,493 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303493605 中的操作 1/1
2025-08-22 16:43:03,500 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303493605 提交成功
2025-08-22 16:43:03,500 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303500734，包含 1 个操作
2025-08-22 16:43:03,500 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303500734 中的操作 1/1
2025-08-22 16:43:03,511 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303500734 提交成功
2025-08-22 16:43:03,538 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:03,549 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:03,550 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:03,554 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303553790，包含 1 个操作
2025-08-22 16:43:03,554 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303553790 中的操作 1/1
2025-08-22 16:43:03,558 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303553790 提交成功
2025-08-22 16:43:03,558 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303558822，包含 1 个操作
2025-08-22 16:43:03,559 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303558822 中的操作 1/1
2025-08-22 16:43:03,562 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303558822 提交成功
2025-08-22 16:43:03,563 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303563966，包含 1 个操作
2025-08-22 16:43:03,564 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303563966 中的操作 1/1
2025-08-22 16:43:03,568 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303563966 提交成功
2025-08-22 16:43:03,568 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164303568368，包含 1 个操作
2025-08-22 16:43:03,568 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164303568368 中的操作 1/1
2025-08-22 16:43:03,573 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164303568368 提交成功
2025-08-22 16:43:03,583 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:49,833 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:43:49,882 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:49,885 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:49,888 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349888566，包含 1 个操作
2025-08-22 16:43:49,888 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349888566 中的操作 1/1
2025-08-22 16:43:49,893 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349888566 提交成功
2025-08-22 16:43:49,894 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349894484，包含 1 个操作
2025-08-22 16:43:49,894 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349894484 中的操作 1/1
2025-08-22 16:43:49,898 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349894484 提交成功
2025-08-22 16:43:49,898 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349898660，包含 1 个操作
2025-08-22 16:43:49,898 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349898660 中的操作 1/1
2025-08-22 16:43:49,902 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349898660 提交成功
2025-08-22 16:43:49,903 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349903055，包含 1 个操作
2025-08-22 16:43:49,903 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349903055 中的操作 1/1
2025-08-22 16:43:49,908 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349903055 提交成功
2025-08-22 16:43:49,908 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349908969，包含 1 个操作
2025-08-22 16:43:49,909 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349908969 中的操作 1/1
2025-08-22 16:43:49,915 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349908969 提交成功
2025-08-22 16:43:49,916 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349916069，包含 1 个操作
2025-08-22 16:43:49,916 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349916069 中的操作 1/1
2025-08-22 16:43:49,927 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349916069 提交成功
2025-08-22 16:43:49,937 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:49,949 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:49,950 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:49,952 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349952817，包含 1 个操作
2025-08-22 16:43:49,953 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349952817 中的操作 1/1
2025-08-22 16:43:49,957 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349952817 提交成功
2025-08-22 16:43:49,957 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349957320，包含 1 个操作
2025-08-22 16:43:49,957 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349957320 中的操作 1/1
2025-08-22 16:43:49,961 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349957320 提交成功
2025-08-22 16:43:49,962 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349962113，包含 1 个操作
2025-08-22 16:43:49,962 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349962113 中的操作 1/1
2025-08-22 16:43:49,965 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349962113 提交成功
2025-08-22 16:43:49,965 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164349965737，包含 1 个操作
2025-08-22 16:43:49,965 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164349965737 中的操作 1/1
2025-08-22 16:43:49,970 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164349965737 提交成功
2025-08-22 16:43:49,977 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:56,737 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 16:43:56,794 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:56,797 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:56,799 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356799866，包含 1 个操作
2025-08-22 16:43:56,800 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356799866 中的操作 1/1
2025-08-22 16:43:56,805 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356799866 提交成功
2025-08-22 16:43:56,807 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356807252，包含 1 个操作
2025-08-22 16:43:56,807 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356807252 中的操作 1/1
2025-08-22 16:43:56,810 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356807252 提交成功
2025-08-22 16:43:56,813 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:56,825 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:56,826 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:56,828 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356828744，包含 1 个操作
2025-08-22 16:43:56,828 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356828744 中的操作 1/1
2025-08-22 16:43:56,833 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356828744 提交成功
2025-08-22 16:43:56,834 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356834168，包含 1 个操作
2025-08-22 16:43:56,834 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356834168 中的操作 1/1
2025-08-22 16:43:56,837 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356834168 提交成功
2025-08-22 16:43:56,838 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356838868，包含 1 个操作
2025-08-22 16:43:56,839 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356838868 中的操作 1/1
2025-08-22 16:43:56,840 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164356838868 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-22 16:43:56,840 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164356838868 已回滚
2025-08-22 16:43:56,843 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:56,854 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:56,855 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:56,857 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356857544，包含 1 个操作
2025-08-22 16:43:56,857 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356857544 中的操作 1/1
2025-08-22 16:43:56,863 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356857544 提交成功
2025-08-22 16:43:56,864 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356864281，包含 1 个操作
2025-08-22 16:43:56,864 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356864281 中的操作 1/1
2025-08-22 16:43:56,868 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356864281 提交成功
2025-08-22 16:43:56,868 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356868746，包含 1 个操作
2025-08-22 16:43:56,869 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356868746 中的操作 1/1
2025-08-22 16:43:56,871 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356868746 提交成功
2025-08-22 16:43:56,874 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:56,886 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:56,887 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:56,890 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356889978，包含 1 个操作
2025-08-22 16:43:56,890 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356889978 中的操作 1/1
2025-08-22 16:43:56,894 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356889978 提交成功
2025-08-22 16:43:56,895 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356895597，包含 1 个操作
2025-08-22 16:43:56,895 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356895597 中的操作 1/1
2025-08-22 16:43:56,899 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356895597 提交成功
2025-08-22 16:43:56,899 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356899944，包含 1 个操作
2025-08-22 16:43:56,900 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356899944 中的操作 1/1
2025-08-22 16:43:56,906 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356899944 提交成功
2025-08-22 16:43:56,909 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:56,920 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:56,922 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:56,924 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356924728，包含 1 个操作
2025-08-22 16:43:56,925 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356924728 中的操作 1/1
2025-08-22 16:43:56,929 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356924728 提交成功
2025-08-22 16:43:56,930 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356930421，包含 1 个操作
2025-08-22 16:43:56,930 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356930421 中的操作 1/1
2025-08-22 16:43:56,934 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356930421 提交成功
2025-08-22 16:43:56,934 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356934648，包含 1 个操作
2025-08-22 16:43:56,934 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356934648 中的操作 1/1
2025-08-22 16:43:56,939 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356934648 提交成功
2025-08-22 16:43:56,940 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356940152，包含 1 个操作
2025-08-22 16:43:56,940 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356940152 中的操作 1/1
2025-08-22 16:43:56,942 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356940152 提交成功
2025-08-22 16:43:56,945 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:56,956 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:56,958 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:56,960 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356960698，包含 1 个操作
2025-08-22 16:43:56,960 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356960698 中的操作 1/1
2025-08-22 16:43:56,965 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356960698 提交成功
2025-08-22 16:43:56,966 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356966210，包含 1 个操作
2025-08-22 16:43:56,966 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356966210 中的操作 1/1
2025-08-22 16:43:56,971 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356966210 提交成功
2025-08-22 16:43:56,971 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356971305，包含 1 个操作
2025-08-22 16:43:56,971 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356971305 中的操作 1/1
2025-08-22 16:43:56,989 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356971305 提交成功
2025-08-22 16:43:56,989 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164356989838，包含 1 个操作
2025-08-22 16:43:56,990 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164356989838 中的操作 1/1
2025-08-22 16:43:56,993 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164356989838 提交成功
2025-08-22 16:43:56,996 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,007 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,008 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,011 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357010982，包含 1 个操作
2025-08-22 16:43:57,011 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357010982 中的操作 1/1
2025-08-22 16:43:57,015 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357010982 提交成功
2025-08-22 16:43:57,016 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357016808，包含 1 个操作
2025-08-22 16:43:57,017 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357016808 中的操作 1/1
2025-08-22 16:43:57,021 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357016808 提交成功
2025-08-22 16:43:57,021 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357021852，包含 1 个操作
2025-08-22 16:43:57,022 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357021852 中的操作 1/1
2025-08-22 16:43:57,026 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357021852 提交成功
2025-08-22 16:43:57,029 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,040 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,041 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,044 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357044493，包含 1 个操作
2025-08-22 16:43:57,044 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357044493 中的操作 1/1
2025-08-22 16:43:57,049 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357044493 提交成功
2025-08-22 16:43:57,050 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357050335，包含 1 个操作
2025-08-22 16:43:57,050 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357050335 中的操作 1/1
2025-08-22 16:43:57,054 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357050335 提交成功
2025-08-22 16:43:57,055 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357055031，包含 1 个操作
2025-08-22 16:43:57,055 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357055031 中的操作 1/1
2025-08-22 16:43:57,062 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357055031 提交成功
2025-08-22 16:43:57,062 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357062180，包含 1 个操作
2025-08-22 16:43:57,062 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357062180 中的操作 1/1
2025-08-22 16:43:57,069 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357062180 提交成功
2025-08-22 16:43:57,072 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,084 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,085 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,087 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357087681，包含 1 个操作
2025-08-22 16:43:57,087 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357087681 中的操作 1/1
2025-08-22 16:43:57,092 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357087681 提交成功
2025-08-22 16:43:57,093 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357093148，包含 1 个操作
2025-08-22 16:43:57,093 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357093148 中的操作 1/1
2025-08-22 16:43:57,097 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357093148 提交成功
2025-08-22 16:43:57,097 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357097439，包含 1 个操作
2025-08-22 16:43:57,097 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357097439 中的操作 1/1
2025-08-22 16:43:57,101 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357097439 提交成功
2025-08-22 16:43:57,101 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357101364，包含 1 个操作
2025-08-22 16:43:57,101 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357101364 中的操作 1/1
2025-08-22 16:43:57,106 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357101364 提交成功
2025-08-22 16:43:57,107 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357107110，包含 1 个操作
2025-08-22 16:43:57,107 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357107110 中的操作 1/1
2025-08-22 16:43:57,114 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357107110 提交成功
2025-08-22 16:43:57,114 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357114575，包含 1 个操作
2025-08-22 16:43:57,114 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357114575 中的操作 1/1
2025-08-22 16:43:57,126 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357114575 提交成功
2025-08-22 16:43:57,130 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,141 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,142 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,145 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357145031，包含 1 个操作
2025-08-22 16:43:57,145 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357145031 中的操作 1/1
2025-08-22 16:43:57,149 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357145031 提交成功
2025-08-22 16:43:57,149 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357149629，包含 1 个操作
2025-08-22 16:43:57,149 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357149629 中的操作 1/1
2025-08-22 16:43:57,153 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357149629 提交成功
2025-08-22 16:43:57,154 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357154471，包含 1 个操作
2025-08-22 16:43:57,154 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357154471 中的操作 1/1
2025-08-22 16:43:57,158 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357154471 提交成功
2025-08-22 16:43:57,158 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357158259，包含 1 个操作
2025-08-22 16:43:57,158 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357158259 中的操作 1/1
2025-08-22 16:43:57,163 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357158259 提交成功
2025-08-22 16:43:57,164 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357164060，包含 1 个操作
2025-08-22 16:43:57,164 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357164060 中的操作 1/1
2025-08-22 16:43:57,166 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164357164060 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-22 16:43:57,166 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164357164060 已回滚
2025-08-22 16:43:57,169 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,180 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,181 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,184 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357184449，包含 1 个操作
2025-08-22 16:43:57,184 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357184449 中的操作 1/1
2025-08-22 16:43:57,189 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357184449 提交成功
2025-08-22 16:43:57,190 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357190217，包含 1 个操作
2025-08-22 16:43:57,190 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357190217 中的操作 1/1
2025-08-22 16:43:57,194 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357190217 提交成功
2025-08-22 16:43:57,195 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357195065，包含 1 个操作
2025-08-22 16:43:57,195 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357195065 中的操作 1/1
2025-08-22 16:43:57,198 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357195065 提交成功
2025-08-22 16:43:57,199 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357199009，包含 1 个操作
2025-08-22 16:43:57,199 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357199009 中的操作 1/1
2025-08-22 16:43:57,203 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357199009 提交成功
2025-08-22 16:43:57,204 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357204456，包含 1 个操作
2025-08-22 16:43:57,204 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357204456 中的操作 1/1
2025-08-22 16:43:57,211 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357204456 提交成功
2025-08-22 16:43:57,211 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357211312，包含 1 个操作
2025-08-22 16:43:57,211 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357211312 中的操作 1/1
2025-08-22 16:43:57,222 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357211312 提交成功
2025-08-22 16:43:57,222 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357222966，包含 1 个操作
2025-08-22 16:43:57,223 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357222966 中的操作 1/1
2025-08-22 16:43:57,231 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357222966 提交成功
2025-08-22 16:43:57,235 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,247 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,248 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,250 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357250535，包含 1 个操作
2025-08-22 16:43:57,250 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357250535 中的操作 1/1
2025-08-22 16:43:57,255 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357250535 提交成功
2025-08-22 16:43:57,255 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357255695，包含 1 个操作
2025-08-22 16:43:57,255 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357255695 中的操作 1/1
2025-08-22 16:43:57,256 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164357255695 执行失败: 用户不是管理员或账户已停用
2025-08-22 16:43:57,256 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164357255695 已回滚
2025-08-22 16:43:57,259 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,270 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,271 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,273 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357273890，包含 1 个操作
2025-08-22 16:43:57,274 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357273890 中的操作 1/1
2025-08-22 16:43:57,278 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357273890 提交成功
2025-08-22 16:43:57,279 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357279204，包含 1 个操作
2025-08-22 16:43:57,279 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357279204 中的操作 1/1
2025-08-22 16:43:57,283 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357279204 提交成功
2025-08-22 16:43:57,283 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357283597，包含 1 个操作
2025-08-22 16:43:57,283 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357283597 中的操作 1/1
2025-08-22 16:43:57,288 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357283597 提交成功
2025-08-22 16:43:57,288 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357288373，包含 1 个操作
2025-08-22 16:43:57,288 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357288373 中的操作 1/1
2025-08-22 16:43:57,300 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357288373 提交成功
2025-08-22 16:43:57,301 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357301018，包含 1 个操作
2025-08-22 16:43:57,301 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357301018 中的操作 1/1
2025-08-22 16:43:57,311 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357301018 提交成功
2025-08-22 16:43:57,313 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357313680，包含 1 个操作
2025-08-22 16:43:57,313 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357313680 中的操作 1/1
2025-08-22 16:43:57,315 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164357313680 执行失败: 餐次已满，无法下单
2025-08-22 16:43:57,316 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164357313680 已回滚
2025-08-22 16:43:57,319 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,331 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,333 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,336 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357336331，包含 1 个操作
2025-08-22 16:43:57,336 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357336331 中的操作 1/1
2025-08-22 16:43:57,340 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357336331 提交成功
2025-08-22 16:43:57,341 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357341907，包含 1 个操作
2025-08-22 16:43:57,342 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357341907 中的操作 1/1
2025-08-22 16:43:57,346 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357341907 提交成功
2025-08-22 16:43:57,346 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357346267，包含 1 个操作
2025-08-22 16:43:57,346 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357346267 中的操作 1/1
2025-08-22 16:43:57,350 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357346267 提交成功
2025-08-22 16:43:57,350 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357350219，包含 1 个操作
2025-08-22 16:43:57,350 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357350219 中的操作 1/1
2025-08-22 16:43:57,355 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357350219 提交成功
2025-08-22 16:43:57,355 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357355903，包含 1 个操作
2025-08-22 16:43:57,356 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357355903 中的操作 1/1
2025-08-22 16:43:57,362 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357355903 提交成功
2025-08-22 16:43:57,362 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357362764，包含 1 个操作
2025-08-22 16:43:57,362 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357362764 中的操作 1/1
2025-08-22 16:43:57,380 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357362764 提交成功
2025-08-22 16:43:57,380 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357380588，包含 1 个操作
2025-08-22 16:43:57,380 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357380588 中的操作 1/1
2025-08-22 16:43:57,382 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164357380588 执行失败: 用户已有该餐次的有效订单 1
2025-08-22 16:43:57,383 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164357380588 已回滚
2025-08-22 16:43:57,386 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,399 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,400 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,403 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357403297，包含 1 个操作
2025-08-22 16:43:57,403 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357403297 中的操作 1/1
2025-08-22 16:43:57,408 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357403297 提交成功
2025-08-22 16:43:57,409 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357409074，包含 1 个操作
2025-08-22 16:43:57,409 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357409074 中的操作 1/1
2025-08-22 16:43:57,413 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357409074 提交成功
2025-08-22 16:43:57,414 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357414477，包含 1 个操作
2025-08-22 16:43:57,414 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357414477 中的操作 1/1
2025-08-22 16:43:57,419 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357414477 提交成功
2025-08-22 16:43:57,419 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357419777，包含 1 个操作
2025-08-22 16:43:57,419 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357419777 中的操作 1/1
2025-08-22 16:43:57,424 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357419777 提交成功
2025-08-22 16:43:57,431 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,444 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,445 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,447 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357447697，包含 1 个操作
2025-08-22 16:43:57,447 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357447697 中的操作 1/1
2025-08-22 16:43:57,451 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357447697 提交成功
2025-08-22 16:43:57,453 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357453089，包含 1 个操作
2025-08-22 16:43:57,453 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357453089 中的操作 1/1
2025-08-22 16:43:57,456 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357453089 提交成功
2025-08-22 16:43:57,457 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357457027，包含 1 个操作
2025-08-22 16:43:57,457 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357457027 中的操作 1/1
2025-08-22 16:43:57,461 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357457027 提交成功
2025-08-22 16:43:57,462 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357462124，包含 1 个操作
2025-08-22 16:43:57,462 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357462124 中的操作 1/1
2025-08-22 16:43:57,466 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357462124 提交成功
2025-08-22 16:43:57,466 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357466787，包含 1 个操作
2025-08-22 16:43:57,467 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357466787 中的操作 1/1
2025-08-22 16:43:57,474 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357466787 提交成功
2025-08-22 16:43:57,474 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357474420，包含 1 个操作
2025-08-22 16:43:57,474 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357474420 中的操作 1/1
2025-08-22 16:43:57,485 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357474420 提交成功
2025-08-22 16:43:57,492 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,503 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,504 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,506 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357506846，包含 1 个操作
2025-08-22 16:43:57,507 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357506846 中的操作 1/1
2025-08-22 16:43:57,511 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357506846 提交成功
2025-08-22 16:43:57,512 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357512148，包含 1 个操作
2025-08-22 16:43:57,512 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357512148 中的操作 1/1
2025-08-22 16:43:57,516 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357512148 提交成功
2025-08-22 16:43:57,516 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357516275，包含 1 个操作
2025-08-22 16:43:57,516 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357516275 中的操作 1/1
2025-08-22 16:43:57,519 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357516275 提交成功
2025-08-22 16:43:57,520 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357520117，包含 1 个操作
2025-08-22 16:43:57,520 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357520117 中的操作 1/1
2025-08-22 16:43:57,525 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357520117 提交成功
2025-08-22 16:43:57,525 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357525813，包含 1 个操作
2025-08-22 16:43:57,526 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357525813 中的操作 1/1
2025-08-22 16:43:57,533 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357525813 提交成功
2025-08-22 16:43:57,533 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357533540，包含 1 个操作
2025-08-22 16:43:57,533 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357533540 中的操作 1/1
2025-08-22 16:43:57,544 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357533540 提交成功
2025-08-22 16:43:57,550 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,562 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,563 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,566 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357566311，包含 1 个操作
2025-08-22 16:43:57,566 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357566311 中的操作 1/1
2025-08-22 16:43:57,570 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357566311 提交成功
2025-08-22 16:43:57,571 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357571198，包含 1 个操作
2025-08-22 16:43:57,571 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357571198 中的操作 1/1
2025-08-22 16:43:57,575 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357571198 提交成功
2025-08-22 16:43:57,576 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357576794，包含 1 个操作
2025-08-22 16:43:57,577 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357576794 中的操作 1/1
2025-08-22 16:43:57,580 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357576794 提交成功
2025-08-22 16:43:57,580 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357580753，包含 1 个操作
2025-08-22 16:43:57,580 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357580753 中的操作 1/1
2025-08-22 16:43:57,586 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357580753 提交成功
2025-08-22 16:43:57,594 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,605 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,606 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,609 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357609312，包含 1 个操作
2025-08-22 16:43:57,609 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357609312 中的操作 1/1
2025-08-22 16:43:57,613 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357609312 提交成功
2025-08-22 16:43:57,614 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357614898，包含 1 个操作
2025-08-22 16:43:57,615 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357614898 中的操作 1/1
2025-08-22 16:43:57,619 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357614898 提交成功
2025-08-22 16:43:57,619 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357619567，包含 1 个操作
2025-08-22 16:43:57,619 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357619567 中的操作 1/1
2025-08-22 16:43:57,626 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357619567 提交成功
2025-08-22 16:43:57,626 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357626482，包含 1 个操作
2025-08-22 16:43:57,626 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357626482 中的操作 1/1
2025-08-22 16:43:57,633 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357626482 提交成功
2025-08-22 16:43:57,642 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,655 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,656 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,658 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357658565，包含 1 个操作
2025-08-22 16:43:57,658 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357658565 中的操作 1/1
2025-08-22 16:43:57,663 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357658565 提交成功
2025-08-22 16:43:57,664 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357664522，包含 1 个操作
2025-08-22 16:43:57,664 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357664522 中的操作 1/1
2025-08-22 16:43:57,668 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357664522 提交成功
2025-08-22 16:43:57,669 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357669168，包含 1 个操作
2025-08-22 16:43:57,669 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357669168 中的操作 1/1
2025-08-22 16:43:57,672 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357669168 提交成功
2025-08-22 16:43:57,673 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357673067，包含 1 个操作
2025-08-22 16:43:57,673 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357673067 中的操作 1/1
2025-08-22 16:43:57,678 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357673067 提交成功
2025-08-22 16:43:57,678 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357678733，包含 1 个操作
2025-08-22 16:43:57,678 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357678733 中的操作 1/1
2025-08-22 16:43:57,685 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357678733 提交成功
2025-08-22 16:43:57,685 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357685945，包含 1 个操作
2025-08-22 16:43:57,686 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357685945 中的操作 1/1
2025-08-22 16:43:57,697 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357685945 提交成功
2025-08-22 16:43:57,702 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,714 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,716 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,718 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357718633，包含 1 个操作
2025-08-22 16:43:57,718 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357718633 中的操作 1/1
2025-08-22 16:43:57,722 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357718633 提交成功
2025-08-22 16:43:57,723 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357723967，包含 1 个操作
2025-08-22 16:43:57,724 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357723967 中的操作 1/1
2025-08-22 16:43:57,728 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357723967 提交成功
2025-08-22 16:43:57,728 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357728496，包含 1 个操作
2025-08-22 16:43:57,728 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357728496 中的操作 1/1
2025-08-22 16:43:57,735 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357728496 提交成功
2025-08-22 16:43:57,736 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357736052，包含 1 个操作
2025-08-22 16:43:57,736 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357736052 中的操作 1/1
2025-08-22 16:43:57,743 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357736052 提交成功
2025-08-22 16:43:57,748 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,760 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,761 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,764 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357763995，包含 1 个操作
2025-08-22 16:43:57,764 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357763995 中的操作 1/1
2025-08-22 16:43:57,768 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357763995 提交成功
2025-08-22 16:43:57,769 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357769196，包含 1 个操作
2025-08-22 16:43:57,769 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357769196 中的操作 1/1
2025-08-22 16:43:57,773 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357769196 提交成功
2025-08-22 16:43:57,773 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357773466，包含 1 个操作
2025-08-22 16:43:57,773 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357773466 中的操作 1/1
2025-08-22 16:43:57,776 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357773466 提交成功
2025-08-22 16:43:57,777 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357777003，包含 1 个操作
2025-08-22 16:43:57,777 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357777003 中的操作 1/1
2025-08-22 16:43:57,781 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357777003 提交成功
2025-08-22 16:43:57,782 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357782299，包含 1 个操作
2025-08-22 16:43:57,782 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357782299 中的操作 1/1
2025-08-22 16:43:57,789 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357782299 提交成功
2025-08-22 16:43:57,789 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357789176，包含 1 个操作
2025-08-22 16:43:57,789 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357789176 中的操作 1/1
2025-08-22 16:43:57,799 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357789176 提交成功
2025-08-22 16:43:57,807 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,819 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,820 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,823 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357823307，包含 1 个操作
2025-08-22 16:43:57,823 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357823307 中的操作 1/1
2025-08-22 16:43:57,827 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357823307 提交成功
2025-08-22 16:43:57,828 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357828902，包含 1 个操作
2025-08-22 16:43:57,829 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357828902 中的操作 1/1
2025-08-22 16:43:57,832 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357828902 提交成功
2025-08-22 16:43:57,832 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357832950，包含 1 个操作
2025-08-22 16:43:57,833 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357832950 中的操作 1/1
2025-08-22 16:43:57,838 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357832950 提交成功
2025-08-22 16:43:57,838 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357838127，包含 1 个操作
2025-08-22 16:43:57,838 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357838127 中的操作 1/1
2025-08-22 16:43:57,843 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357838127 提交成功
2025-08-22 16:43:57,843 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357843503，包含 1 个操作
2025-08-22 16:43:57,843 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357843503 中的操作 1/1
2025-08-22 16:43:57,848 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357843503 提交成功
2025-08-22 16:43:57,848 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357848734，包含 1 个操作
2025-08-22 16:43:57,848 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357848734 中的操作 1/1
2025-08-22 16:43:57,853 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357848734 提交成功
2025-08-22 16:43:57,853 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357853518，包含 1 个操作
2025-08-22 16:43:57,853 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357853518 中的操作 1/1
2025-08-22 16:43:57,858 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357853518 提交成功
2025-08-22 16:43:57,868 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,880 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,881 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,886 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,897 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,898 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,903 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,914 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,915 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,918 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,929 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,930 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,933 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357933545，包含 1 个操作
2025-08-22 16:43:57,933 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357933545 中的操作 1/1
2025-08-22 16:43:57,938 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357933545 提交成功
2025-08-22 16:43:57,941 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,952 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,953 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,955 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357955788，包含 1 个操作
2025-08-22 16:43:57,956 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357955788 中的操作 1/1
2025-08-22 16:43:57,960 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357955788 提交成功
2025-08-22 16:43:57,960 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357960276，包含 1 个操作
2025-08-22 16:43:57,960 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357960276 中的操作 1/1
2025-08-22 16:43:57,961 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164357960276 执行失败: 用户OpenID duplicate_test 已存在
2025-08-22 16:43:57,961 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164357960276 已回滚
2025-08-22 16:43:57,963 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:57,975 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:57,977 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:57,979 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357979748，包含 1 个操作
2025-08-22 16:43:57,979 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357979748 中的操作 1/1
2025-08-22 16:43:57,984 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357979748 提交成功
2025-08-22 16:43:57,984 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164357984420，包含 1 个操作
2025-08-22 16:43:57,984 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164357984420 中的操作 1/1
2025-08-22 16:43:57,990 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164357984420 提交成功
2025-08-22 16:43:57,992 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,003 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,004 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,007 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358007465，包含 1 个操作
2025-08-22 16:43:58,007 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358007465 中的操作 1/1
2025-08-22 16:43:58,008 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358007465 提交成功
2025-08-22 16:43:58,010 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,021 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,022 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,024 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358024813，包含 1 个操作
2025-08-22 16:43:58,025 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358024813 中的操作 1/1
2025-08-22 16:43:58,029 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358024813 提交成功
2025-08-22 16:43:58,032 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,043 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,045 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,049 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,060 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,061 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,064 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358064471，包含 1 个操作
2025-08-22 16:43:58,064 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358064471 中的操作 1/1
2025-08-22 16:43:58,069 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358064471 提交成功
2025-08-22 16:43:58,070 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358070209，包含 1 个操作
2025-08-22 16:43:58,070 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358070209 中的操作 1/1
2025-08-22 16:43:58,074 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358070209 提交成功
2025-08-22 16:43:58,074 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358074715，包含 1 个操作
2025-08-22 16:43:58,074 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358074715 中的操作 1/1
2025-08-22 16:43:58,077 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358074715 提交成功
2025-08-22 16:43:58,077 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358077950，包含 1 个操作
2025-08-22 16:43:58,078 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358077950 中的操作 1/1
2025-08-22 16:43:58,080 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358077950 提交成功
2025-08-22 16:43:58,083 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,094 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,094 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,097 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358097181，包含 1 个操作
2025-08-22 16:43:58,097 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358097181 中的操作 1/1
2025-08-22 16:43:58,101 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358097181 提交成功
2025-08-22 16:43:58,102 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358102833，包含 1 个操作
2025-08-22 16:43:58,103 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358102833 中的操作 1/1
2025-08-22 16:43:58,107 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358102833 提交成功
2025-08-22 16:43:58,107 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358107528，包含 1 个操作
2025-08-22 16:43:58,107 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358107528 中的操作 1/1
2025-08-22 16:43:58,109 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358107528 提交成功
2025-08-22 16:43:58,111 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,123 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,124 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,126 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358126857，包含 1 个操作
2025-08-22 16:43:58,127 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358126857 中的操作 1/1
2025-08-22 16:43:58,131 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358126857 提交成功
2025-08-22 16:43:58,132 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358132300，包含 1 个操作
2025-08-22 16:43:58,132 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358132300 中的操作 1/1
2025-08-22 16:43:58,136 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358132300 提交成功
2025-08-22 16:43:58,136 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358136863，包含 1 个操作
2025-08-22 16:43:58,137 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358136863 中的操作 1/1
2025-08-22 16:43:58,139 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358136863 提交成功
2025-08-22 16:43:58,140 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358140055，包含 1 个操作
2025-08-22 16:43:58,140 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358140055 中的操作 1/1
2025-08-22 16:43:58,142 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358140055 提交成功
2025-08-22 16:43:58,146 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,157 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,158 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,160 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358160771，包含 1 个操作
2025-08-22 16:43:58,161 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358160771 中的操作 1/1
2025-08-22 16:43:58,165 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358160771 提交成功
2025-08-22 16:43:58,166 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358166270，包含 1 个操作
2025-08-22 16:43:58,166 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358166270 中的操作 1/1
2025-08-22 16:43:58,167 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164358166270 执行失败: 管理员不能停用自己的账户
2025-08-22 16:43:58,167 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164358166270 已回滚
2025-08-22 16:43:58,169 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,181 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,182 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,185 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358185198，包含 1 个操作
2025-08-22 16:43:58,185 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358185198 中的操作 1/1
2025-08-22 16:43:58,189 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358185198 提交成功
2025-08-22 16:43:58,190 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358190046，包含 1 个操作
2025-08-22 16:43:58,190 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358190046 中的操作 1/1
2025-08-22 16:43:58,194 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358190046 提交成功
2025-08-22 16:43:58,194 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358194567，包含 1 个操作
2025-08-22 16:43:58,194 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358194567 中的操作 1/1
2025-08-22 16:43:58,195 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164358194567 执行失败: 操作用户不是管理员或账户已停用
2025-08-22 16:43:58,195 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164358194567 已回滚
2025-08-22 16:43:58,198 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,209 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,210 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,213 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358212996，包含 1 个操作
2025-08-22 16:43:58,213 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358212996 中的操作 1/1
2025-08-22 16:43:58,217 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358212996 提交成功
2025-08-22 16:43:58,218 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358218433，包含 1 个操作
2025-08-22 16:43:58,218 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358218433 中的操作 1/1
2025-08-22 16:43:58,222 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358218433 提交成功
2025-08-22 16:43:58,227 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,238 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,239 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,242 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358242392，包含 1 个操作
2025-08-22 16:43:58,242 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358242392 中的操作 1/1
2025-08-22 16:43:58,246 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358242392 提交成功
2025-08-22 16:43:58,252 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,263 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,264 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,266 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358266765，包含 1 个操作
2025-08-22 16:43:58,267 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358266765 中的操作 1/1
2025-08-22 16:43:58,271 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358266765 提交成功
2025-08-22 16:43:58,272 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358272130，包含 1 个操作
2025-08-22 16:43:58,272 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358272130 中的操作 1/1
2025-08-22 16:43:58,276 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358272130 提交成功
2025-08-22 16:43:58,276 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358276526，包含 1 个操作
2025-08-22 16:43:58,276 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358276526 中的操作 1/1
2025-08-22 16:43:58,278 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358276526 提交成功
2025-08-22 16:43:58,284 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,296 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,297 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,300 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358300134，包含 1 个操作
2025-08-22 16:43:58,300 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358300134 中的操作 1/1
2025-08-22 16:43:58,304 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358300134 提交成功
2025-08-22 16:43:58,304 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358304905，包含 1 个操作
2025-08-22 16:43:58,305 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358304905 中的操作 1/1
2025-08-22 16:43:58,308 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358304905 提交成功
2025-08-22 16:43:58,308 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358308955，包含 1 个操作
2025-08-22 16:43:58,309 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358308955 中的操作 1/1
2025-08-22 16:43:58,312 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358308955 提交成功
2025-08-22 16:43:58,313 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358313004，包含 1 个操作
2025-08-22 16:43:58,313 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358313004 中的操作 1/1
2025-08-22 16:43:58,317 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358313004 提交成功
2025-08-22 16:43:58,317 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358317188，包含 1 个操作
2025-08-22 16:43:58,317 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358317188 中的操作 1/1
2025-08-22 16:43:58,321 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358317188 提交成功
2025-08-22 16:43:58,327 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,339 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,340 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,342 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358342727，包含 1 个操作
2025-08-22 16:43:58,342 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358342727 中的操作 1/1
2025-08-22 16:43:58,343 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164358342727 执行失败: 微信OpenID不能为空
2025-08-22 16:43:58,343 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164358342727 已回滚
2025-08-22 16:43:58,344 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,355 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,356 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,359 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358359292，包含 1 个操作
2025-08-22 16:43:58,359 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358359292 中的操作 1/1
2025-08-22 16:43:58,359 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164358359292 执行失败: 微信昵称长度不能超过100字符
2025-08-22 16:43:58,359 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164358359292 已回滚
2025-08-22 16:43:58,361 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,372 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,373 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,375 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358375620，包含 1 个操作
2025-08-22 16:43:58,375 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358375620 中的操作 1/1
2025-08-22 16:43:58,380 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358375620 提交成功
2025-08-22 16:43:58,381 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358381067，包含 1 个操作
2025-08-22 16:43:58,381 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358381067 中的操作 1/1
2025-08-22 16:43:58,385 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822164358381067 提交成功
2025-08-22 16:43:58,385 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822164358385604，包含 1 个操作
2025-08-22 16:43:58,385 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822164358385604 中的操作 1/1
2025-08-22 16:43:58,386 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822164358385604 执行失败: 状态值必须为 active 或 suspended
2025-08-22 16:43:58,386 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822164358385604 已回滚
2025-08-22 16:43:58,388 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 16:43:58,400 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 16:43:58,401 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 16:43:58,405 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,679 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:01:32,796 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,798 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,800 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132799970，包含 1 个操作
2025-08-22 17:01:32,800 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132799970 中的操作 1/1
2025-08-22 17:01:32,804 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132799970 提交成功
2025-08-22 17:01:32,805 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132805639，包含 1 个操作
2025-08-22 17:01:32,805 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132805639 中的操作 1/1
2025-08-22 17:01:32,808 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132805639 提交成功
2025-08-22 17:01:32,809 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,814 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,814 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,816 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132816582，包含 1 个操作
2025-08-22 17:01:32,816 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132816582 中的操作 1/1
2025-08-22 17:01:32,819 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132816582 提交成功
2025-08-22 17:01:32,820 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132820915，包含 1 个操作
2025-08-22 17:01:32,821 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132820915 中的操作 1/1
2025-08-22 17:01:32,823 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132820915 提交成功
2025-08-22 17:01:32,824 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132824598，包含 1 个操作
2025-08-22 17:01:32,824 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132824598 中的操作 1/1
2025-08-22 17:01:32,826 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170132824598 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-22 17:01:32,826 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170132824598 已回滚
2025-08-22 17:01:32,827 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,832 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,832 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,834 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132834204，包含 1 个操作
2025-08-22 17:01:32,834 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132834204 中的操作 1/1
2025-08-22 17:01:32,837 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132834204 提交成功
2025-08-22 17:01:32,838 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132838768，包含 1 个操作
2025-08-22 17:01:32,838 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132838768 中的操作 1/1
2025-08-22 17:01:32,841 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132838768 提交成功
2025-08-22 17:01:32,842 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132842062，包含 1 个操作
2025-08-22 17:01:32,842 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132842062 中的操作 1/1
2025-08-22 17:01:32,844 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132842062 提交成功
2025-08-22 17:01:32,848 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,852 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,852 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,854 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132854217，包含 1 个操作
2025-08-22 17:01:32,854 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132854217 中的操作 1/1
2025-08-22 17:01:32,856 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132854217 提交成功
2025-08-22 17:01:32,857 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132857836，包含 1 个操作
2025-08-22 17:01:32,858 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132857836 中的操作 1/1
2025-08-22 17:01:32,860 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132857836 提交成功
2025-08-22 17:01:32,860 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132860899，包含 1 个操作
2025-08-22 17:01:32,861 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132860899 中的操作 1/1
2025-08-22 17:01:32,864 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132860899 提交成功
2025-08-22 17:01:32,866 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,870 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,870 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,872 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132872581，包含 1 个操作
2025-08-22 17:01:32,872 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132872581 中的操作 1/1
2025-08-22 17:01:32,875 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132872581 提交成功
2025-08-22 17:01:32,876 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132876590，包含 1 个操作
2025-08-22 17:01:32,876 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132876590 中的操作 1/1
2025-08-22 17:01:32,879 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132876590 提交成功
2025-08-22 17:01:32,879 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132879651，包含 1 个操作
2025-08-22 17:01:32,879 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132879651 中的操作 1/1
2025-08-22 17:01:32,883 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132879651 提交成功
2025-08-22 17:01:32,884 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132884014，包含 1 个操作
2025-08-22 17:01:32,884 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132884014 中的操作 1/1
2025-08-22 17:01:32,886 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132884014 提交成功
2025-08-22 17:01:32,888 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,892 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,892 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,894 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132894473，包含 1 个操作
2025-08-22 17:01:32,894 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132894473 中的操作 1/1
2025-08-22 17:01:32,897 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132894473 提交成功
2025-08-22 17:01:32,898 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132898351，包含 1 个操作
2025-08-22 17:01:32,898 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132898351 中的操作 1/1
2025-08-22 17:01:32,900 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132898351 提交成功
2025-08-22 17:01:32,901 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132901160，包含 1 个操作
2025-08-22 17:01:32,901 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132901160 中的操作 1/1
2025-08-22 17:01:32,905 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132901160 提交成功
2025-08-22 17:01:32,905 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132905421，包含 1 个操作
2025-08-22 17:01:32,905 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132905421 中的操作 1/1
2025-08-22 17:01:32,909 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132905421 提交成功
2025-08-22 17:01:32,910 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,914 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,915 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,917 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132917202，包含 1 个操作
2025-08-22 17:01:32,917 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132917202 中的操作 1/1
2025-08-22 17:01:32,919 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132917202 提交成功
2025-08-22 17:01:32,921 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132921006，包含 1 个操作
2025-08-22 17:01:32,921 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132921006 中的操作 1/1
2025-08-22 17:01:32,924 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132921006 提交成功
2025-08-22 17:01:32,924 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132924424，包含 1 个操作
2025-08-22 17:01:32,924 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132924424 中的操作 1/1
2025-08-22 17:01:32,928 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132924424 提交成功
2025-08-22 17:01:32,929 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,933 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,934 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,936 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132935982，包含 1 个操作
2025-08-22 17:01:32,936 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132935982 中的操作 1/1
2025-08-22 17:01:32,938 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132935982 提交成功
2025-08-22 17:01:32,939 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132939562，包含 1 个操作
2025-08-22 17:01:32,939 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132939562 中的操作 1/1
2025-08-22 17:01:32,942 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132939562 提交成功
2025-08-22 17:01:32,942 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132942745，包含 1 个操作
2025-08-22 17:01:32,942 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132942745 中的操作 1/1
2025-08-22 17:01:32,948 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132942745 提交成功
2025-08-22 17:01:32,948 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132948183，包含 1 个操作
2025-08-22 17:01:32,948 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132948183 中的操作 1/1
2025-08-22 17:01:32,953 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132948183 提交成功
2025-08-22 17:01:32,954 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:32,958 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:32,959 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:32,960 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132960976，包含 1 个操作
2025-08-22 17:01:32,961 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132960976 中的操作 1/1
2025-08-22 17:01:32,963 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132960976 提交成功
2025-08-22 17:01:32,964 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132964585，包含 1 个操作
2025-08-22 17:01:32,964 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132964585 中的操作 1/1
2025-08-22 17:01:32,968 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132964585 提交成功
2025-08-22 17:01:32,968 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132968183，包含 1 个操作
2025-08-22 17:01:32,968 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132968183 中的操作 1/1
2025-08-22 17:01:32,971 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132968183 提交成功
2025-08-22 17:01:32,971 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132971446，包含 1 个操作
2025-08-22 17:01:32,971 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132971446 中的操作 1/1
2025-08-22 17:01:32,975 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132971446 提交成功
2025-08-22 17:01:32,975 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132975962，包含 1 个操作
2025-08-22 17:01:32,976 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132975962 中的操作 1/1
2025-08-22 17:01:32,982 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132975962 提交成功
2025-08-22 17:01:32,983 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170132983352，包含 1 个操作
2025-08-22 17:01:32,983 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170132983352 中的操作 1/1
2025-08-22 17:01:32,993 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170132983352 提交成功
2025-08-22 17:01:32,995 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,000 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,001 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,002 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133002642，包含 1 个操作
2025-08-22 17:01:33,002 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133002642 中的操作 1/1
2025-08-22 17:01:33,005 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133002642 提交成功
2025-08-22 17:01:33,005 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133005701，包含 1 个操作
2025-08-22 17:01:33,005 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133005701 中的操作 1/1
2025-08-22 17:01:33,008 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133005701 提交成功
2025-08-22 17:01:33,009 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133009529，包含 1 个操作
2025-08-22 17:01:33,009 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133009529 中的操作 1/1
2025-08-22 17:01:33,012 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133009529 提交成功
2025-08-22 17:01:33,012 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133012350，包含 1 个操作
2025-08-22 17:01:33,012 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133012350 中的操作 1/1
2025-08-22 17:01:33,016 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133012350 提交成功
2025-08-22 17:01:33,017 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133017209，包含 1 个操作
2025-08-22 17:01:33,017 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133017209 中的操作 1/1
2025-08-22 17:01:33,019 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133017209 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-22 17:01:33,019 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133017209 已回滚
2025-08-22 17:01:33,021 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,025 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,026 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,027 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133027650，包含 1 个操作
2025-08-22 17:01:33,027 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133027650 中的操作 1/1
2025-08-22 17:01:33,030 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133027650 提交成功
2025-08-22 17:01:33,031 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133031728，包含 1 个操作
2025-08-22 17:01:33,031 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133031728 中的操作 1/1
2025-08-22 17:01:33,034 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133031728 提交成功
2025-08-22 17:01:33,034 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133034849，包含 1 个操作
2025-08-22 17:01:33,035 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133034849 中的操作 1/1
2025-08-22 17:01:33,037 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133034849 提交成功
2025-08-22 17:01:33,037 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133037797，包含 1 个操作
2025-08-22 17:01:33,037 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133037797 中的操作 1/1
2025-08-22 17:01:33,043 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133037797 提交成功
2025-08-22 17:01:33,043 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133043548，包含 1 个操作
2025-08-22 17:01:33,043 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133043548 中的操作 1/1
2025-08-22 17:01:33,049 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133043548 提交成功
2025-08-22 17:01:33,049 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133049238，包含 1 个操作
2025-08-22 17:01:33,049 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133049238 中的操作 1/1
2025-08-22 17:01:33,058 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133049238 提交成功
2025-08-22 17:01:33,058 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133058547，包含 1 个操作
2025-08-22 17:01:33,058 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133058547 中的操作 1/1
2025-08-22 17:01:33,066 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133058547 提交成功
2025-08-22 17:01:33,068 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,072 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,073 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,075 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133075623，包含 1 个操作
2025-08-22 17:01:33,075 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133075623 中的操作 1/1
2025-08-22 17:01:33,081 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133075623 提交成功
2025-08-22 17:01:33,082 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133082316，包含 1 个操作
2025-08-22 17:01:33,082 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133082316 中的操作 1/1
2025-08-22 17:01:33,083 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133082316 执行失败: 用户不是管理员或账户已停用
2025-08-22 17:01:33,083 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133082316 已回滚
2025-08-22 17:01:33,084 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,088 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,089 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,090 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133090852，包含 1 个操作
2025-08-22 17:01:33,091 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133090852 中的操作 1/1
2025-08-22 17:01:33,093 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133090852 提交成功
2025-08-22 17:01:33,094 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133094551，包含 1 个操作
2025-08-22 17:01:33,094 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133094551 中的操作 1/1
2025-08-22 17:01:33,097 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133094551 提交成功
2025-08-22 17:01:33,097 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133097749，包含 1 个操作
2025-08-22 17:01:33,097 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133097749 中的操作 1/1
2025-08-22 17:01:33,100 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133097749 提交成功
2025-08-22 17:01:33,101 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133101098，包含 1 个操作
2025-08-22 17:01:33,101 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133101098 中的操作 1/1
2025-08-22 17:01:33,106 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133101098 提交成功
2025-08-22 17:01:33,106 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133106345，包含 1 个操作
2025-08-22 17:01:33,106 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133106345 中的操作 1/1
2025-08-22 17:01:33,114 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133106345 提交成功
2025-08-22 17:01:33,116 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133116205，包含 1 个操作
2025-08-22 17:01:33,116 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133116205 中的操作 1/1
2025-08-22 17:01:33,118 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133116205 执行失败: 餐次已满，无法下单
2025-08-22 17:01:33,118 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133116205 已回滚
2025-08-22 17:01:33,120 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,124 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,125 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,126 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133126751，包含 1 个操作
2025-08-22 17:01:33,126 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133126751 中的操作 1/1
2025-08-22 17:01:33,129 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133126751 提交成功
2025-08-22 17:01:33,130 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133130344，包含 1 个操作
2025-08-22 17:01:33,130 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133130344 中的操作 1/1
2025-08-22 17:01:33,133 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133130344 提交成功
2025-08-22 17:01:33,133 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133133357，包含 1 个操作
2025-08-22 17:01:33,133 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133133357 中的操作 1/1
2025-08-22 17:01:33,136 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133133357 提交成功
2025-08-22 17:01:33,136 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133136494，包含 1 个操作
2025-08-22 17:01:33,136 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133136494 中的操作 1/1
2025-08-22 17:01:33,140 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133136494 提交成功
2025-08-22 17:01:33,141 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133141342，包含 1 个操作
2025-08-22 17:01:33,141 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133141342 中的操作 1/1
2025-08-22 17:01:33,146 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133141342 提交成功
2025-08-22 17:01:33,147 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133147001，包含 1 个操作
2025-08-22 17:01:33,147 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133147001 中的操作 1/1
2025-08-22 17:01:33,155 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133147001 提交成功
2025-08-22 17:01:33,155 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133155461，包含 1 个操作
2025-08-22 17:01:33,155 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133155461 中的操作 1/1
2025-08-22 17:01:33,157 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133155461 执行失败: 用户已有该餐次的有效订单 1
2025-08-22 17:01:33,157 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133155461 已回滚
2025-08-22 17:01:33,160 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,164 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,165 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,166 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133166601，包含 1 个操作
2025-08-22 17:01:33,166 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133166601 中的操作 1/1
2025-08-22 17:01:33,169 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133166601 提交成功
2025-08-22 17:01:33,170 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133170418，包含 1 个操作
2025-08-22 17:01:33,170 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133170418 中的操作 1/1
2025-08-22 17:01:33,172 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133170418 提交成功
2025-08-22 17:01:33,173 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133173316，包含 1 个操作
2025-08-22 17:01:33,173 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133173316 中的操作 1/1
2025-08-22 17:01:33,177 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133173316 提交成功
2025-08-22 17:01:33,177 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133177350，包含 1 个操作
2025-08-22 17:01:33,177 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133177350 中的操作 1/1
2025-08-22 17:01:33,181 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133177350 提交成功
2025-08-22 17:01:33,187 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,191 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,192 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,194 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133194095，包含 1 个操作
2025-08-22 17:01:33,194 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133194095 中的操作 1/1
2025-08-22 17:01:33,196 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133194095 提交成功
2025-08-22 17:01:33,197 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133197700，包含 1 个操作
2025-08-22 17:01:33,197 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133197700 中的操作 1/1
2025-08-22 17:01:33,200 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133197700 提交成功
2025-08-22 17:01:33,200 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133200411，包含 1 个操作
2025-08-22 17:01:33,200 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133200411 中的操作 1/1
2025-08-22 17:01:33,204 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133200411 提交成功
2025-08-22 17:01:33,204 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133204391，包含 1 个操作
2025-08-22 17:01:33,204 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133204391 中的操作 1/1
2025-08-22 17:01:33,207 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133204391 提交成功
2025-08-22 17:01:33,207 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133207562，包含 1 个操作
2025-08-22 17:01:33,207 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133207562 中的操作 1/1
2025-08-22 17:01:33,212 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133207562 提交成功
2025-08-22 17:01:33,212 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133212943，包含 1 个操作
2025-08-22 17:01:33,213 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133212943 中的操作 1/1
2025-08-22 17:01:33,222 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133212943 提交成功
2025-08-22 17:01:33,227 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,231 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,232 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,233 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133233638，包含 1 个操作
2025-08-22 17:01:33,233 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133233638 中的操作 1/1
2025-08-22 17:01:33,236 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133233638 提交成功
2025-08-22 17:01:33,237 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133237875，包含 1 个操作
2025-08-22 17:01:33,238 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133237875 中的操作 1/1
2025-08-22 17:01:33,240 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133237875 提交成功
2025-08-22 17:01:33,241 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133241101，包含 1 个操作
2025-08-22 17:01:33,241 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133241101 中的操作 1/1
2025-08-22 17:01:33,243 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133241101 提交成功
2025-08-22 17:01:33,243 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133243759，包含 1 个操作
2025-08-22 17:01:33,243 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133243759 中的操作 1/1
2025-08-22 17:01:33,247 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133243759 提交成功
2025-08-22 17:01:33,248 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133248275，包含 1 个操作
2025-08-22 17:01:33,248 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133248275 中的操作 1/1
2025-08-22 17:01:33,253 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133248275 提交成功
2025-08-22 17:01:33,253 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133253787，包含 1 个操作
2025-08-22 17:01:33,253 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133253787 中的操作 1/1
2025-08-22 17:01:33,263 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133253787 提交成功
2025-08-22 17:01:33,267 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,271 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,272 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,273 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133273696，包含 1 个操作
2025-08-22 17:01:33,273 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133273696 中的操作 1/1
2025-08-22 17:01:33,276 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133273696 提交成功
2025-08-22 17:01:33,276 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133276603，包含 1 个操作
2025-08-22 17:01:33,276 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133276603 中的操作 1/1
2025-08-22 17:01:33,279 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133276603 提交成功
2025-08-22 17:01:33,280 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133280608，包含 1 个操作
2025-08-22 17:01:33,280 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133280608 中的操作 1/1
2025-08-22 17:01:33,283 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133280608 提交成功
2025-08-22 17:01:33,283 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133283746，包含 1 个操作
2025-08-22 17:01:33,283 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133283746 中的操作 1/1
2025-08-22 17:01:33,289 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133283746 提交成功
2025-08-22 17:01:33,293 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,297 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,298 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,300 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133300010，包含 1 个操作
2025-08-22 17:01:33,300 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133300010 中的操作 1/1
2025-08-22 17:01:33,302 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133300010 提交成功
2025-08-22 17:01:33,303 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133303600，包含 1 个操作
2025-08-22 17:01:33,303 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133303600 中的操作 1/1
2025-08-22 17:01:33,306 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133303600 提交成功
2025-08-22 17:01:33,306 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133306797，包含 1 个操作
2025-08-22 17:01:33,306 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133306797 中的操作 1/1
2025-08-22 17:01:33,312 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133306797 提交成功
2025-08-22 17:01:33,312 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133312397，包含 1 个操作
2025-08-22 17:01:33,312 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133312397 中的操作 1/1
2025-08-22 17:01:33,317 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133312397 提交成功
2025-08-22 17:01:33,324 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,329 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,329 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,331 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133331397，包含 1 个操作
2025-08-22 17:01:33,331 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133331397 中的操作 1/1
2025-08-22 17:01:33,334 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133331397 提交成功
2025-08-22 17:01:33,335 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133335197，包含 1 个操作
2025-08-22 17:01:33,335 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133335197 中的操作 1/1
2025-08-22 17:01:33,338 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133335197 提交成功
2025-08-22 17:01:33,338 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133338558，包含 1 个操作
2025-08-22 17:01:33,338 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133338558 中的操作 1/1
2025-08-22 17:01:33,341 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133338558 提交成功
2025-08-22 17:01:33,341 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133341384，包含 1 个操作
2025-08-22 17:01:33,341 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133341384 中的操作 1/1
2025-08-22 17:01:33,345 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133341384 提交成功
2025-08-22 17:01:33,345 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133345686，包含 1 个操作
2025-08-22 17:01:33,345 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133345686 中的操作 1/1
2025-08-22 17:01:33,351 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133345686 提交成功
2025-08-22 17:01:33,351 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133351518，包含 1 个操作
2025-08-22 17:01:33,351 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133351518 中的操作 1/1
2025-08-22 17:01:33,360 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133351518 提交成功
2025-08-22 17:01:33,364 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,368 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,368 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,370 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133370333，包含 1 个操作
2025-08-22 17:01:33,370 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133370333 中的操作 1/1
2025-08-22 17:01:33,373 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133370333 提交成功
2025-08-22 17:01:33,374 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133374331，包含 1 个操作
2025-08-22 17:01:33,374 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133374331 中的操作 1/1
2025-08-22 17:01:33,377 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133374331 提交成功
2025-08-22 17:01:33,377 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133377519，包含 1 个操作
2025-08-22 17:01:33,377 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133377519 中的操作 1/1
2025-08-22 17:01:33,383 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133377519 提交成功
2025-08-22 17:01:33,383 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133383108，包含 1 个操作
2025-08-22 17:01:33,383 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133383108 中的操作 1/1
2025-08-22 17:01:33,388 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133383108 提交成功
2025-08-22 17:01:33,391 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,395 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,395 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,397 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133397499，包含 1 个操作
2025-08-22 17:01:33,397 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133397499 中的操作 1/1
2025-08-22 17:01:33,400 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133397499 提交成功
2025-08-22 17:01:33,401 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133401039，包含 1 个操作
2025-08-22 17:01:33,401 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133401039 中的操作 1/1
2025-08-22 17:01:33,403 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133401039 提交成功
2025-08-22 17:01:33,404 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133404065，包含 1 个操作
2025-08-22 17:01:33,404 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133404065 中的操作 1/1
2025-08-22 17:01:33,406 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133404065 提交成功
2025-08-22 17:01:33,407 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133407125，包含 1 个操作
2025-08-22 17:01:33,407 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133407125 中的操作 1/1
2025-08-22 17:01:33,410 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133407125 提交成功
2025-08-22 17:01:33,411 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133411753，包含 1 个操作
2025-08-22 17:01:33,411 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133411753 中的操作 1/1
2025-08-22 17:01:33,416 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133411753 提交成功
2025-08-22 17:01:33,417 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133417075，包含 1 个操作
2025-08-22 17:01:33,417 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133417075 中的操作 1/1
2025-08-22 17:01:33,425 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133417075 提交成功
2025-08-22 17:01:33,431 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,436 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,436 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,438 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133438223，包含 1 个操作
2025-08-22 17:01:33,438 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133438223 中的操作 1/1
2025-08-22 17:01:33,441 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133438223 提交成功
2025-08-22 17:01:33,442 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133442183，包含 1 个操作
2025-08-22 17:01:33,442 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133442183 中的操作 1/1
2025-08-22 17:01:33,444 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133442183 提交成功
2025-08-22 17:01:33,445 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133445180，包含 1 个操作
2025-08-22 17:01:33,445 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133445180 中的操作 1/1
2025-08-22 17:01:33,449 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133445180 提交成功
2025-08-22 17:01:33,449 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133449211，包含 1 个操作
2025-08-22 17:01:33,449 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133449211 中的操作 1/1
2025-08-22 17:01:33,453 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133449211 提交成功
2025-08-22 17:01:33,453 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133453194，包含 1 个操作
2025-08-22 17:01:33,453 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133453194 中的操作 1/1
2025-08-22 17:01:33,456 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133453194 提交成功
2025-08-22 17:01:33,457 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133457060，包含 1 个操作
2025-08-22 17:01:33,457 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133457060 中的操作 1/1
2025-08-22 17:01:33,460 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133457060 提交成功
2025-08-22 17:01:33,461 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133461050，包含 1 个操作
2025-08-22 17:01:33,461 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133461050 中的操作 1/1
2025-08-22 17:01:33,464 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133461050 提交成功
2025-08-22 17:01:33,471 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,475 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,476 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,479 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,483 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,484 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,486 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,490 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,491 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,493 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,497 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,498 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,500 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133500014，包含 1 个操作
2025-08-22 17:01:33,500 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133500014 中的操作 1/1
2025-08-22 17:01:33,503 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133500014 提交成功
2025-08-22 17:01:33,504 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,508 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,508 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,510 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133510383，包含 1 个操作
2025-08-22 17:01:33,510 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133510383 中的操作 1/1
2025-08-22 17:01:33,513 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133510383 提交成功
2025-08-22 17:01:33,513 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133513345，包含 1 个操作
2025-08-22 17:01:33,513 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133513345 中的操作 1/1
2025-08-22 17:01:33,514 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133513345 执行失败: 用户OpenID duplicate_test 已存在
2025-08-22 17:01:33,514 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133513345 已回滚
2025-08-22 17:01:33,515 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,519 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,520 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,521 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133521690，包含 1 个操作
2025-08-22 17:01:33,521 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133521690 中的操作 1/1
2025-08-22 17:01:33,524 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133521690 提交成功
2025-08-22 17:01:33,524 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133524606，包含 1 个操作
2025-08-22 17:01:33,524 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133524606 中的操作 1/1
2025-08-22 17:01:33,529 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133524606 提交成功
2025-08-22 17:01:33,530 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,534 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,535 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,537 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133537084，包含 1 个操作
2025-08-22 17:01:33,537 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133537084 中的操作 1/1
2025-08-22 17:01:33,537 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133537084 提交成功
2025-08-22 17:01:33,538 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,542 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,543 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,544 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133544893，包含 1 个操作
2025-08-22 17:01:33,545 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133544893 中的操作 1/1
2025-08-22 17:01:33,548 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133544893 提交成功
2025-08-22 17:01:33,550 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,554 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,555 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,557 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,561 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,562 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,563 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133563903，包含 1 个操作
2025-08-22 17:01:33,564 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133563903 中的操作 1/1
2025-08-22 17:01:33,567 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133563903 提交成功
2025-08-22 17:01:33,568 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133568301，包含 1 个操作
2025-08-22 17:01:33,568 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133568301 中的操作 1/1
2025-08-22 17:01:33,571 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133568301 提交成功
2025-08-22 17:01:33,571 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133571711，包含 1 个操作
2025-08-22 17:01:33,571 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133571711 中的操作 1/1
2025-08-22 17:01:33,573 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133571711 提交成功
2025-08-22 17:01:33,574 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133574918，包含 1 个操作
2025-08-22 17:01:33,575 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133574918 中的操作 1/1
2025-08-22 17:01:33,577 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133574918 提交成功
2025-08-22 17:01:33,578 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,585 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,586 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,588 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133588392，包含 1 个操作
2025-08-22 17:01:33,588 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133588392 中的操作 1/1
2025-08-22 17:01:33,592 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133588392 提交成功
2025-08-22 17:01:33,593 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133593202，包含 1 个操作
2025-08-22 17:01:33,593 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133593202 中的操作 1/1
2025-08-22 17:01:33,596 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133593202 提交成功
2025-08-22 17:01:33,596 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133596785，包含 1 个操作
2025-08-22 17:01:33,596 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133596785 中的操作 1/1
2025-08-22 17:01:33,598 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133596785 提交成功
2025-08-22 17:01:33,600 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,605 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,606 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,607 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133607692，包含 1 个操作
2025-08-22 17:01:33,607 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133607692 中的操作 1/1
2025-08-22 17:01:33,611 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133607692 提交成功
2025-08-22 17:01:33,612 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133612136，包含 1 个操作
2025-08-22 17:01:33,612 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133612136 中的操作 1/1
2025-08-22 17:01:33,615 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133612136 提交成功
2025-08-22 17:01:33,615 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133615495，包含 1 个操作
2025-08-22 17:01:33,615 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133615495 中的操作 1/1
2025-08-22 17:01:33,617 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133615495 提交成功
2025-08-22 17:01:33,618 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133618900，包含 1 个操作
2025-08-22 17:01:33,619 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133618900 中的操作 1/1
2025-08-22 17:01:33,621 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133618900 提交成功
2025-08-22 17:01:33,623 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,628 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,628 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,630 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133630254，包含 1 个操作
2025-08-22 17:01:33,630 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133630254 中的操作 1/1
2025-08-22 17:01:33,633 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133630254 提交成功
2025-08-22 17:01:33,634 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133634890，包含 1 个操作
2025-08-22 17:01:33,635 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133634890 中的操作 1/1
2025-08-22 17:01:33,636 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133634890 执行失败: 管理员不能停用自己的账户
2025-08-22 17:01:33,636 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133634890 已回滚
2025-08-22 17:01:33,637 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,642 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,642 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,644 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133644495，包含 1 个操作
2025-08-22 17:01:33,644 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133644495 中的操作 1/1
2025-08-22 17:01:33,647 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133644495 提交成功
2025-08-22 17:01:33,647 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133647808，包含 1 个操作
2025-08-22 17:01:33,647 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133647808 中的操作 1/1
2025-08-22 17:01:33,651 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133647808 提交成功
2025-08-22 17:01:33,651 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133651181，包含 1 个操作
2025-08-22 17:01:33,651 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133651181 中的操作 1/1
2025-08-22 17:01:33,651 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133651181 执行失败: 操作用户不是管理员或账户已停用
2025-08-22 17:01:33,652 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133651181 已回滚
2025-08-22 17:01:33,653 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,658 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,658 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,660 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133660229，包含 1 个操作
2025-08-22 17:01:33,660 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133660229 中的操作 1/1
2025-08-22 17:01:33,663 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133660229 提交成功
2025-08-22 17:01:33,664 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133663988，包含 1 个操作
2025-08-22 17:01:33,664 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133663988 中的操作 1/1
2025-08-22 17:01:33,667 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133663988 提交成功
2025-08-22 17:01:33,672 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,677 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,677 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,679 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133679467，包含 1 个操作
2025-08-22 17:01:33,679 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133679467 中的操作 1/1
2025-08-22 17:01:33,682 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133679467 提交成功
2025-08-22 17:01:33,687 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,692 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,692 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,694 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133694473，包含 1 个操作
2025-08-22 17:01:33,694 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133694473 中的操作 1/1
2025-08-22 17:01:33,698 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133694473 提交成功
2025-08-22 17:01:33,700 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133700004，包含 1 个操作
2025-08-22 17:01:33,700 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133700004 中的操作 1/1
2025-08-22 17:01:33,703 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133700004 提交成功
2025-08-22 17:01:33,703 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133703524，包含 1 个操作
2025-08-22 17:01:33,703 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133703524 中的操作 1/1
2025-08-22 17:01:33,705 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133703524 提交成功
2025-08-22 17:01:33,711 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,716 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,717 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,718 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133718799，包含 1 个操作
2025-08-22 17:01:33,718 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133718799 中的操作 1/1
2025-08-22 17:01:33,721 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133718799 提交成功
2025-08-22 17:01:33,721 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133721686，包含 1 个操作
2025-08-22 17:01:33,721 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133721686 中的操作 1/1
2025-08-22 17:01:33,724 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133721686 提交成功
2025-08-22 17:01:33,724 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133724638，包含 1 个操作
2025-08-22 17:01:33,724 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133724638 中的操作 1/1
2025-08-22 17:01:33,727 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133724638 提交成功
2025-08-22 17:01:33,727 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133727538，包含 1 个操作
2025-08-22 17:01:33,727 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133727538 中的操作 1/1
2025-08-22 17:01:33,730 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133727538 提交成功
2025-08-22 17:01:33,730 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133730403，包含 1 个操作
2025-08-22 17:01:33,730 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133730403 中的操作 1/1
2025-08-22 17:01:33,733 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133730403 提交成功
2025-08-22 17:01:33,735 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,740 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,740 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,742 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133742675，包含 1 个操作
2025-08-22 17:01:33,742 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133742675 中的操作 1/1
2025-08-22 17:01:33,742 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133742675 执行失败: 微信OpenID不能为空
2025-08-22 17:01:33,743 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133742675 已回滚
2025-08-22 17:01:33,744 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,748 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,749 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,751 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133751024，包含 1 个操作
2025-08-22 17:01:33,751 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133751024 中的操作 1/1
2025-08-22 17:01:33,751 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133751024 执行失败: 微信昵称长度不能超过100字符
2025-08-22 17:01:33,751 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133751024 已回滚
2025-08-22 17:01:33,752 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,756 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,757 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,758 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133758575，包含 1 个操作
2025-08-22 17:01:33,758 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133758575 中的操作 1/1
2025-08-22 17:01:33,761 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133758575 提交成功
2025-08-22 17:01:33,762 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133762719，包含 1 个操作
2025-08-22 17:01:33,762 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133762719 中的操作 1/1
2025-08-22 17:01:33,765 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170133762719 提交成功
2025-08-22 17:01:33,766 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170133766265，包含 1 个操作
2025-08-22 17:01:33,766 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170133766265 中的操作 1/1
2025-08-22 17:01:33,767 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170133766265 执行失败: 状态值必须为 active 或 suspended
2025-08-22 17:01:33,767 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170133766265 已回滚
2025-08-22 17:01:33,768 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:33,772 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:01:33,773 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:33,775 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:34,569 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:01:34,595 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-22 17:01:34,595 - api.main - INFO - [main.py:35] - 环境: development
2025-08-22 17:01:34,595 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-22 17:01:34,596 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-22 17:01:39,604 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:01:39,793 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,795 - api.middleware.logging - INFO - [logging.py:31] - [f858594d] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,796 - api.middleware.logging - INFO - [logging.py:44] - [f858594d] 404 - Time: 0.002s
2025-08-22 17:01:39,799 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,827 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,828 - api.middleware.logging - INFO - [logging.py:31] - [c27d71c3] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,829 - api.middleware.logging - INFO - [logging.py:44] - [c27d71c3] 404 - Time: 0.002s
2025-08-22 17:01:39,831 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,836 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,837 - api.middleware.logging - INFO - [logging.py:31] - [226fce4f] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,838 - api.middleware.logging - INFO - [logging.py:44] - [226fce4f] 404 - Time: 0.001s
2025-08-22 17:01:39,840 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,845 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,846 - api.middleware.logging - INFO - [logging.py:31] - [3f8af5d4] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,847 - api.middleware.logging - INFO - [logging.py:44] - [3f8af5d4] 404 - Time: 0.001s
2025-08-22 17:01:39,849 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,854 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,854 - api.middleware.logging - INFO - [logging.py:31] - [f20ef448] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,856 - api.middleware.logging - INFO - [logging.py:44] - [f20ef448] 404 - Time: 0.001s
2025-08-22 17:01:39,857 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,862 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,864 - api.middleware.logging - INFO - [logging.py:31] - [260edc48] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,865 - api.middleware.logging - INFO - [logging.py:44] - [260edc48] 404 - Time: 0.002s
2025-08-22 17:01:39,867 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,871 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,872 - api.middleware.logging - INFO - [logging.py:31] - [896a2de7] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,874 - api.middleware.logging - INFO - [logging.py:44] - [896a2de7] 404 - Time: 0.001s
2025-08-22 17:01:39,875 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,880 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,881 - api.middleware.logging - INFO - [logging.py:31] - [9780362a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,884 - api.middleware.logging - INFO - [logging.py:44] - [9780362a] 404 - Time: 0.003s
2025-08-22 17:01:39,886 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,891 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,891 - api.middleware.logging - INFO - [logging.py:31] - [ae3bb863] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,893 - api.middleware.logging - INFO - [logging.py:44] - [ae3bb863] 404 - Time: 0.001s
2025-08-22 17:01:39,894 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,899 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,900 - api.middleware.logging - INFO - [logging.py:31] - [6e7be329] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,901 - api.middleware.logging - INFO - [logging.py:44] - [6e7be329] 404 - Time: 0.001s
2025-08-22 17:01:39,903 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,908 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,908 - api.middleware.logging - INFO - [logging.py:31] - [4238d6ab] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,910 - api.middleware.logging - INFO - [logging.py:44] - [4238d6ab] 404 - Time: 0.001s
2025-08-22 17:01:39,911 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,916 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,917 - api.middleware.logging - INFO - [logging.py:31] - [74de110d] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,918 - api.middleware.logging - INFO - [logging.py:44] - [74de110d] 404 - Time: 0.002s
2025-08-22 17:01:39,920 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,925 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,926 - api.middleware.logging - INFO - [logging.py:31] - [049d95a0] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,927 - api.middleware.logging - INFO - [logging.py:44] - [049d95a0] 404 - Time: 0.001s
2025-08-22 17:01:39,929 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,933 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,934 - api.middleware.logging - INFO - [logging.py:31] - [9f1e0ab3] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,937 - api.middleware.logging - INFO - [logging.py:44] - [9f1e0ab3] 404 - Time: 0.003s
2025-08-22 17:01:39,939 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,944 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,945 - api.middleware.logging - INFO - [logging.py:31] - [16dffb57] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,946 - api.middleware.logging - INFO - [logging.py:44] - [16dffb57] 404 - Time: 0.001s
2025-08-22 17:01:39,948 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,952 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,953 - api.middleware.logging - INFO - [logging.py:31] - [48f88751] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,954 - api.middleware.logging - INFO - [logging.py:44] - [48f88751] 404 - Time: 0.001s
2025-08-22 17:01:39,956 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,960 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,962 - api.middleware.logging - INFO - [logging.py:31] - [63ea47df] GET /api/admin/users - Client: testclient
2025-08-22 17:01:39,963 - api.middleware.logging - INFO - [logging.py:44] - [63ea47df] 403 - Time: 0.002s
2025-08-22 17:01:39,965 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:39,971 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,972 - api.middleware.logging - INFO - [logging.py:31] - [f83b9134] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,973 - api.middleware.logging - INFO - [logging.py:44] - [f83b9134] 404 - Time: 0.001s
2025-08-22 17:01:39,974 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,978 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,978 - api.middleware.logging - INFO - [logging.py:31] - [85148692] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,981 - api.middleware.logging - INFO - [logging.py:44] - [85148692] 404 - Time: 0.003s
2025-08-22 17:01:39,983 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,986 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,987 - api.middleware.logging - INFO - [logging.py:31] - [2a392c53] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:39,988 - api.middleware.logging - INFO - [logging.py:44] - [2a392c53] 404 - Time: 0.001s
2025-08-22 17:01:39,989 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,993 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:39,993 - api.middleware.logging - INFO - [logging.py:31] - [f2d6df9d] POST /api/auth/refresh-token - Client: testclient
2025-08-22 17:01:39,995 - api.middleware.logging - INFO - [logging.py:44] - [f2d6df9d] 404 - Time: 0.001s
2025-08-22 17:01:39,996 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh-token "HTTP/1.1 404 Not Found"
2025-08-22 17:01:39,999 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,000 - api.middleware.logging - INFO - [logging.py:31] - [0685f9db] POST /api/auth/refresh-token - Client: testclient
2025-08-22 17:01:40,001 - api.middleware.logging - INFO - [logging.py:44] - [0685f9db] 404 - Time: 0.001s
2025-08-22 17:01:40,003 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh-token "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,006 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,007 - api.middleware.logging - INFO - [logging.py:31] - [d643070c] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,008 - api.middleware.logging - INFO - [logging.py:44] - [d643070c] 404 - Time: 0.001s
2025-08-22 17:01:40,010 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,013 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,013 - api.middleware.logging - INFO - [logging.py:31] - [e841b01a] GET /api/users/profile - Client: testclient
2025-08-22 17:01:40,022 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:01:40,024 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:01:40,024 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: module 'jwt' has no attribute 'JWTError'
2025-08-22 17:01:40,025 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:01:40,027 - api.middleware.logging - INFO - [logging.py:44] - [e841b01a] 401 - Time: 0.013s
2025-08-22 17:01:40,029 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 401 Unauthorized"
2025-08-22 17:01:40,030 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,031 - api.middleware.logging - INFO - [logging.py:31] - [c091d428] GET /api/users/profile - Client: testclient
2025-08-22 17:01:40,032 - api.middleware.logging - INFO - [logging.py:44] - [c091d428] 403 - Time: 0.001s
2025-08-22 17:01:40,034 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:40,039 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,039 - api.middleware.logging - INFO - [logging.py:31] - [bff6b840] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,041 - api.middleware.logging - INFO - [logging.py:44] - [bff6b840] 404 - Time: 0.001s
2025-08-22 17:01:40,042 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,047 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,048 - api.middleware.logging - INFO - [logging.py:31] - [5475aaa5] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,049 - api.middleware.logging - INFO - [logging.py:44] - [5475aaa5] 404 - Time: 0.002s
2025-08-22 17:01:40,051 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,056 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,057 - api.middleware.logging - INFO - [logging.py:31] - [439f0beb] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,058 - api.middleware.logging - INFO - [logging.py:44] - [439f0beb] 404 - Time: 0.001s
2025-08-22 17:01:40,059 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,064 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,065 - api.middleware.logging - INFO - [logging.py:31] - [0afba56e] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,066 - api.middleware.logging - INFO - [logging.py:44] - [0afba56e] 404 - Time: 0.001s
2025-08-22 17:01:40,067 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,072 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,073 - api.middleware.logging - INFO - [logging.py:31] - [a3308dc8] GET /api/meals - Client: testclient
2025-08-22 17:01:40,074 - api.middleware.logging - INFO - [logging.py:44] - [a3308dc8] 403 - Time: 0.001s
2025-08-22 17:01:40,076 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-01&end_date=2024-12-31 "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:40,079 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,080 - api.middleware.logging - INFO - [logging.py:31] - [3bfc9f07] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,081 - api.middleware.logging - INFO - [logging.py:44] - [3bfc9f07] 404 - Time: 0.001s
2025-08-22 17:01:40,083 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,089 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,090 - api.middleware.logging - INFO - [logging.py:31] - [1bf50d06] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,130 - api.middleware.logging - INFO - [logging.py:44] - [1bf50d06] 404 - Time: 0.040s
2025-08-22 17:01:40,132 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,137 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,138 - api.middleware.logging - INFO - [logging.py:31] - [0b9c1f23] GET /api/meals/1 - Client: testclient
2025-08-22 17:01:40,139 - api.middleware.logging - INFO - [logging.py:44] - [0b9c1f23] 403 - Time: 0.001s
2025-08-22 17:01:40,140 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1 "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:40,144 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,145 - api.middleware.logging - INFO - [logging.py:31] - [8502c850] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,146 - api.middleware.logging - INFO - [logging.py:44] - [8502c850] 404 - Time: 0.001s
2025-08-22 17:01:40,148 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,152 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,153 - api.middleware.logging - INFO - [logging.py:31] - [ecfd27e6] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,154 - api.middleware.logging - INFO - [logging.py:44] - [ecfd27e6] 404 - Time: 0.001s
2025-08-22 17:01:40,155 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,160 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,161 - api.middleware.logging - INFO - [logging.py:31] - [b07e430c] GET /api/meals/1/order - Client: testclient
2025-08-22 17:01:40,162 - api.middleware.logging - INFO - [logging.py:44] - [b07e430c] 404 - Time: 0.001s
2025-08-22 17:01:40,164 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1/order "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,167 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,168 - api.middleware.logging - INFO - [logging.py:31] - [0bf63ae2] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,169 - api.middleware.logging - INFO - [logging.py:44] - [0bf63ae2] 404 - Time: 0.001s
2025-08-22 17:01:40,170 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,175 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,176 - api.middleware.logging - INFO - [logging.py:31] - [1091c564] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,179 - api.middleware.logging - INFO - [logging.py:44] - [1091c564] 404 - Time: 0.003s
2025-08-22 17:01:40,181 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,186 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,186 - api.middleware.logging - INFO - [logging.py:31] - [818fd117] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,188 - api.middleware.logging - INFO - [logging.py:44] - [818fd117] 404 - Time: 0.001s
2025-08-22 17:01:40,189 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,194 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,194 - api.middleware.logging - INFO - [logging.py:31] - [7c1b77a0] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,196 - api.middleware.logging - INFO - [logging.py:44] - [7c1b77a0] 404 - Time: 0.001s
2025-08-22 17:01:40,197 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,202 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,202 - api.middleware.logging - INFO - [logging.py:31] - [d7bc571b] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,204 - api.middleware.logging - INFO - [logging.py:44] - [d7bc571b] 404 - Time: 0.001s
2025-08-22 17:01:40,205 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,210 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,211 - api.middleware.logging - INFO - [logging.py:31] - [97bb79df] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,212 - api.middleware.logging - INFO - [logging.py:44] - [97bb79df] 404 - Time: 0.001s
2025-08-22 17:01:40,214 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,219 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,219 - api.middleware.logging - INFO - [logging.py:31] - [d0c26496] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,221 - api.middleware.logging - INFO - [logging.py:44] - [d0c26496] 404 - Time: 0.001s
2025-08-22 17:01:40,222 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,227 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,228 - api.middleware.logging - INFO - [logging.py:31] - [10c8e959] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,231 - api.middleware.logging - INFO - [logging.py:44] - [10c8e959] 404 - Time: 0.004s
2025-08-22 17:01:40,233 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,238 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,239 - api.middleware.logging - INFO - [logging.py:31] - [bc3028c1] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,240 - api.middleware.logging - INFO - [logging.py:44] - [bc3028c1] 404 - Time: 0.001s
2025-08-22 17:01:40,241 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,246 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,247 - api.middleware.logging - INFO - [logging.py:31] - [6d871ab0] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,248 - api.middleware.logging - INFO - [logging.py:44] - [6d871ab0] 404 - Time: 0.001s
2025-08-22 17:01:40,249 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,257 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,258 - api.middleware.logging - INFO - [logging.py:31] - [06a4c0a7] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,259 - api.middleware.logging - INFO - [logging.py:44] - [06a4c0a7] 404 - Time: 0.001s
2025-08-22 17:01:40,261 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,266 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,266 - api.middleware.logging - INFO - [logging.py:31] - [f4b8b45d] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,268 - api.middleware.logging - INFO - [logging.py:44] - [f4b8b45d] 404 - Time: 0.001s
2025-08-22 17:01:40,269 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,274 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,275 - api.middleware.logging - INFO - [logging.py:31] - [45fcbc2f] GET /api/orders/1 - Client: testclient
2025-08-22 17:01:40,277 - api.middleware.logging - INFO - [logging.py:44] - [45fcbc2f] 405 - Time: 0.003s
2025-08-22 17:01:40,279 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/orders/1 "HTTP/1.1 405 Method Not Allowed"
2025-08-22 17:01:40,283 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,284 - api.middleware.logging - INFO - [logging.py:31] - [a7043428] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,285 - api.middleware.logging - INFO - [logging.py:44] - [a7043428] 404 - Time: 0.001s
2025-08-22 17:01:40,286 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,291 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,292 - api.middleware.logging - INFO - [logging.py:31] - [546e33e8] GET /api/users/profile - Client: testclient
2025-08-22 17:01:40,293 - api.middleware.logging - INFO - [logging.py:44] - [546e33e8] 403 - Time: 0.001s
2025-08-22 17:01:40,295 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:40,298 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,299 - api.middleware.logging - INFO - [logging.py:31] - [d1a04471] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,300 - api.middleware.logging - INFO - [logging.py:44] - [d1a04471] 404 - Time: 0.001s
2025-08-22 17:01:40,302 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,306 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,307 - api.middleware.logging - INFO - [logging.py:31] - [ba588b30] GET /api/users/balance - Client: testclient
2025-08-22 17:01:40,308 - api.middleware.logging - INFO - [logging.py:44] - [ba588b30] 404 - Time: 0.001s
2025-08-22 17:01:40,310 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/balance "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,315 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,315 - api.middleware.logging - INFO - [logging.py:31] - [dc029677] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,317 - api.middleware.logging - INFO - [logging.py:44] - [dc029677] 404 - Time: 0.001s
2025-08-22 17:01:40,318 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,322 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,323 - api.middleware.logging - INFO - [logging.py:31] - [22ab41dd] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,325 - api.middleware.logging - INFO - [logging.py:44] - [22ab41dd] 404 - Time: 0.001s
2025-08-22 17:01:40,326 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,336 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,337 - api.middleware.logging - INFO - [logging.py:31] - [dd130c2d] GET /api/users/ledger - Client: testclient
2025-08-22 17:01:40,339 - api.middleware.logging - INFO - [logging.py:44] - [dd130c2d] 403 - Time: 0.001s
2025-08-22 17:01:40,340 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/ledger "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:40,345 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,345 - api.middleware.logging - INFO - [logging.py:31] - [43381191] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,347 - api.middleware.logging - INFO - [logging.py:44] - [43381191] 404 - Time: 0.001s
2025-08-22 17:01:40,348 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,353 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,353 - api.middleware.logging - INFO - [logging.py:31] - [f3ce7c12] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,354 - api.middleware.logging - INFO - [logging.py:44] - [f3ce7c12] 404 - Time: 0.001s
2025-08-22 17:01:40,356 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,360 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,361 - api.middleware.logging - INFO - [logging.py:31] - [0e59cfd1] GET /api/users/orders - Client: testclient
2025-08-22 17:01:40,364 - api.middleware.logging - INFO - [logging.py:44] - [0e59cfd1] 403 - Time: 0.003s
2025-08-22 17:01:40,365 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/orders "HTTP/1.1 403 Forbidden"
2025-08-22 17:01:40,369 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,371 - api.middleware.logging - INFO - [logging.py:31] - [441ebe80] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,372 - api.middleware.logging - INFO - [logging.py:44] - [441ebe80] 404 - Time: 0.002s
2025-08-22 17:01:40,374 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,379 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,380 - api.middleware.logging - INFO - [logging.py:31] - [3ee94234] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:01:40,381 - api.middleware.logging - INFO - [logging.py:44] - [3ee94234] 404 - Time: 0.001s
2025-08-22 17:01:40,382 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:01:40,387 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:01:40,388 - api.middleware.logging - INFO - [logging.py:31] - [10686ab9] GET /api/users/statistics/orders - Client: testclient
2025-08-22 17:01:40,389 - api.middleware.logging - INFO - [logging.py:44] - [10686ab9] 404 - Time: 0.001s
2025-08-22 17:01:40,391 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/statistics/orders "HTTP/1.1 404 Not Found"
2025-08-22 17:04:36,396 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:04:36,484 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,486 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,488 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436488030，包含 1 个操作
2025-08-22 17:04:36,488 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436488030 中的操作 1/1
2025-08-22 17:04:36,492 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436488030 提交成功
2025-08-22 17:04:36,493 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436493436，包含 1 个操作
2025-08-22 17:04:36,493 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436493436 中的操作 1/1
2025-08-22 17:04:36,496 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436493436 提交成功
2025-08-22 17:04:36,497 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,502 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,502 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,504 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436504293，包含 1 个操作
2025-08-22 17:04:36,504 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436504293 中的操作 1/1
2025-08-22 17:04:36,507 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436504293 提交成功
2025-08-22 17:04:36,508 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436508039，包含 1 个操作
2025-08-22 17:04:36,508 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436508039 中的操作 1/1
2025-08-22 17:04:36,511 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436508039 提交成功
2025-08-22 17:04:36,512 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436512089，包含 1 个操作
2025-08-22 17:04:36,512 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436512089 中的操作 1/1
2025-08-22 17:04:36,513 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170436512089 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-22 17:04:36,513 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170436512089 已回滚
2025-08-22 17:04:36,515 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,519 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,520 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,521 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436521951，包含 1 个操作
2025-08-22 17:04:36,522 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436521951 中的操作 1/1
2025-08-22 17:04:36,525 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436521951 提交成功
2025-08-22 17:04:36,526 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436526180，包含 1 个操作
2025-08-22 17:04:36,526 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436526180 中的操作 1/1
2025-08-22 17:04:36,528 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436526180 提交成功
2025-08-22 17:04:36,529 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436529136，包含 1 个操作
2025-08-22 17:04:36,529 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436529136 中的操作 1/1
2025-08-22 17:04:36,532 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436529136 提交成功
2025-08-22 17:04:36,533 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,537 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,538 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,539 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436539758，包含 1 个操作
2025-08-22 17:04:36,539 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436539758 中的操作 1/1
2025-08-22 17:04:36,543 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436539758 提交成功
2025-08-22 17:04:36,544 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436544341，包含 1 个操作
2025-08-22 17:04:36,544 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436544341 中的操作 1/1
2025-08-22 17:04:36,547 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436544341 提交成功
2025-08-22 17:04:36,547 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436547627，包含 1 个操作
2025-08-22 17:04:36,547 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436547627 中的操作 1/1
2025-08-22 17:04:36,551 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436547627 提交成功
2025-08-22 17:04:36,553 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,557 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,558 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,559 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436559755，包含 1 个操作
2025-08-22 17:04:36,559 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436559755 中的操作 1/1
2025-08-22 17:04:36,563 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436559755 提交成功
2025-08-22 17:04:36,563 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436563902，包含 1 个操作
2025-08-22 17:04:36,564 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436563902 中的操作 1/1
2025-08-22 17:04:36,566 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436563902 提交成功
2025-08-22 17:04:36,566 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436566788，包含 1 个操作
2025-08-22 17:04:36,566 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436566788 中的操作 1/1
2025-08-22 17:04:36,570 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436566788 提交成功
2025-08-22 17:04:36,571 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436571071，包含 1 个操作
2025-08-22 17:04:36,571 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436571071 中的操作 1/1
2025-08-22 17:04:36,573 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436571071 提交成功
2025-08-22 17:04:36,575 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,579 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,580 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,581 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436581645，包含 1 个操作
2025-08-22 17:04:36,581 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436581645 中的操作 1/1
2025-08-22 17:04:36,584 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436581645 提交成功
2025-08-22 17:04:36,585 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436585388，包含 1 个操作
2025-08-22 17:04:36,585 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436585388 中的操作 1/1
2025-08-22 17:04:36,588 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436585388 提交成功
2025-08-22 17:04:36,588 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436588411，包含 1 个操作
2025-08-22 17:04:36,588 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436588411 中的操作 1/1
2025-08-22 17:04:36,592 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436588411 提交成功
2025-08-22 17:04:36,593 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436593058，包含 1 个操作
2025-08-22 17:04:36,593 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436593058 中的操作 1/1
2025-08-22 17:04:36,596 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436593058 提交成功
2025-08-22 17:04:36,598 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,603 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,603 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,605 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436605487，包含 1 个操作
2025-08-22 17:04:36,605 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436605487 中的操作 1/1
2025-08-22 17:04:36,608 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436605487 提交成功
2025-08-22 17:04:36,609 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436609474，包含 1 个操作
2025-08-22 17:04:36,609 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436609474 中的操作 1/1
2025-08-22 17:04:36,613 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436609474 提交成功
2025-08-22 17:04:36,613 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436613243，包含 1 个操作
2025-08-22 17:04:36,613 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436613243 中的操作 1/1
2025-08-22 17:04:36,617 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436613243 提交成功
2025-08-22 17:04:36,619 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,623 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,624 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,625 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436625774，包含 1 个操作
2025-08-22 17:04:36,625 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436625774 中的操作 1/1
2025-08-22 17:04:36,628 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436625774 提交成功
2025-08-22 17:04:36,629 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436629685，包含 1 个操作
2025-08-22 17:04:36,629 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436629685 中的操作 1/1
2025-08-22 17:04:36,632 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436629685 提交成功
2025-08-22 17:04:36,633 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436633130，包含 1 个操作
2025-08-22 17:04:36,633 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436633130 中的操作 1/1
2025-08-22 17:04:36,638 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436633130 提交成功
2025-08-22 17:04:36,639 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436639044，包含 1 个操作
2025-08-22 17:04:36,639 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436639044 中的操作 1/1
2025-08-22 17:04:36,644 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436639044 提交成功
2025-08-22 17:04:36,646 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,651 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,651 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,653 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436653195，包含 1 个操作
2025-08-22 17:04:36,653 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436653195 中的操作 1/1
2025-08-22 17:04:36,656 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436653195 提交成功
2025-08-22 17:04:36,657 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436657084，包含 1 个操作
2025-08-22 17:04:36,657 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436657084 中的操作 1/1
2025-08-22 17:04:36,659 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436657084 提交成功
2025-08-22 17:04:36,660 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436660136，包含 1 个操作
2025-08-22 17:04:36,660 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436660136 中的操作 1/1
2025-08-22 17:04:36,662 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436660136 提交成功
2025-08-22 17:04:36,663 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436663082，包含 1 个操作
2025-08-22 17:04:36,663 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436663082 中的操作 1/1
2025-08-22 17:04:36,666 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436663082 提交成功
2025-08-22 17:04:36,667 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436667323，包含 1 个操作
2025-08-22 17:04:36,667 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436667323 中的操作 1/1
2025-08-22 17:04:36,672 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436667323 提交成功
2025-08-22 17:04:36,673 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436673034，包含 1 个操作
2025-08-22 17:04:36,673 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436673034 中的操作 1/1
2025-08-22 17:04:36,682 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436673034 提交成功
2025-08-22 17:04:36,683 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,688 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,688 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,690 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436690108，包含 1 个操作
2025-08-22 17:04:36,690 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436690108 中的操作 1/1
2025-08-22 17:04:36,693 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436690108 提交成功
2025-08-22 17:04:36,693 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436693692，包含 1 个操作
2025-08-22 17:04:36,693 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436693692 中的操作 1/1
2025-08-22 17:04:36,696 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436693692 提交成功
2025-08-22 17:04:36,697 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436697555，包含 1 个操作
2025-08-22 17:04:36,697 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436697555 中的操作 1/1
2025-08-22 17:04:36,700 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436697555 提交成功
2025-08-22 17:04:36,700 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436700903，包含 1 个操作
2025-08-22 17:04:36,701 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436700903 中的操作 1/1
2025-08-22 17:04:36,705 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436700903 提交成功
2025-08-22 17:04:36,705 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436705394，包含 1 个操作
2025-08-22 17:04:36,705 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436705394 中的操作 1/1
2025-08-22 17:04:36,707 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170436705394 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-22 17:04:36,707 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170436705394 已回滚
2025-08-22 17:04:36,709 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,714 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,714 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,716 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436716461，包含 1 个操作
2025-08-22 17:04:36,716 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436716461 中的操作 1/1
2025-08-22 17:04:36,719 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436716461 提交成功
2025-08-22 17:04:36,720 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436720143，包含 1 个操作
2025-08-22 17:04:36,720 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436720143 中的操作 1/1
2025-08-22 17:04:36,723 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436720143 提交成功
2025-08-22 17:04:36,723 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436723192，包含 1 个操作
2025-08-22 17:04:36,723 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436723192 中的操作 1/1
2025-08-22 17:04:36,725 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436723192 提交成功
2025-08-22 17:04:36,725 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436725850，包含 1 个操作
2025-08-22 17:04:36,726 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436725850 中的操作 1/1
2025-08-22 17:04:36,729 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436725850 提交成功
2025-08-22 17:04:36,730 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436730047，包含 1 个操作
2025-08-22 17:04:36,730 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436730047 中的操作 1/1
2025-08-22 17:04:36,735 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436730047 提交成功
2025-08-22 17:04:36,735 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436735420，包含 1 个操作
2025-08-22 17:04:36,735 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436735420 中的操作 1/1
2025-08-22 17:04:36,744 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436735420 提交成功
2025-08-22 17:04:36,744 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436744541，包含 1 个操作
2025-08-22 17:04:36,744 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436744541 中的操作 1/1
2025-08-22 17:04:36,752 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436744541 提交成功
2025-08-22 17:04:36,754 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,758 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,759 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,760 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436760727，包含 1 个操作
2025-08-22 17:04:36,760 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436760727 中的操作 1/1
2025-08-22 17:04:36,763 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436760727 提交成功
2025-08-22 17:04:36,763 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436763775，包含 1 个操作
2025-08-22 17:04:36,763 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436763775 中的操作 1/1
2025-08-22 17:04:36,764 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170436763775 执行失败: 用户不是管理员或账户已停用
2025-08-22 17:04:36,764 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170436763775 已回滚
2025-08-22 17:04:36,765 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,770 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,770 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,772 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436772229，包含 1 个操作
2025-08-22 17:04:36,772 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436772229 中的操作 1/1
2025-08-22 17:04:36,775 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436772229 提交成功
2025-08-22 17:04:36,776 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436776634，包含 1 个操作
2025-08-22 17:04:36,776 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436776634 中的操作 1/1
2025-08-22 17:04:36,780 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436776634 提交成功
2025-08-22 17:04:36,780 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436780396，包含 1 个操作
2025-08-22 17:04:36,780 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436780396 中的操作 1/1
2025-08-22 17:04:36,783 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436780396 提交成功
2025-08-22 17:04:36,784 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436784039，包含 1 个操作
2025-08-22 17:04:36,784 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436784039 中的操作 1/1
2025-08-22 17:04:36,789 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436784039 提交成功
2025-08-22 17:04:36,789 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436789756，包含 1 个操作
2025-08-22 17:04:36,789 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436789756 中的操作 1/1
2025-08-22 17:04:36,797 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436789756 提交成功
2025-08-22 17:04:36,799 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436799409，包含 1 个操作
2025-08-22 17:04:36,799 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436799409 中的操作 1/1
2025-08-22 17:04:36,801 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170436799409 执行失败: 餐次已满，无法下单
2025-08-22 17:04:36,801 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170436799409 已回滚
2025-08-22 17:04:36,804 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,808 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,808 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,810 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436810419，包含 1 个操作
2025-08-22 17:04:36,810 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436810419 中的操作 1/1
2025-08-22 17:04:36,813 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436810419 提交成功
2025-08-22 17:04:36,814 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436814147，包含 1 个操作
2025-08-22 17:04:36,814 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436814147 中的操作 1/1
2025-08-22 17:04:36,817 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436814147 提交成功
2025-08-22 17:04:36,817 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436817316，包含 1 个操作
2025-08-22 17:04:36,817 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436817316 中的操作 1/1
2025-08-22 17:04:36,819 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436817316 提交成功
2025-08-22 17:04:36,820 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436820063，包含 1 个操作
2025-08-22 17:04:36,820 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436820063 中的操作 1/1
2025-08-22 17:04:36,823 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436820063 提交成功
2025-08-22 17:04:36,824 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436824231，包含 1 个操作
2025-08-22 17:04:36,824 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436824231 中的操作 1/1
2025-08-22 17:04:36,829 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436824231 提交成功
2025-08-22 17:04:36,829 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436829946，包含 1 个操作
2025-08-22 17:04:36,830 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436829946 中的操作 1/1
2025-08-22 17:04:36,838 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436829946 提交成功
2025-08-22 17:04:36,838 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436838206，包含 1 个操作
2025-08-22 17:04:36,838 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436838206 中的操作 1/1
2025-08-22 17:04:36,840 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170436838206 执行失败: 用户已有该餐次的有效订单 1
2025-08-22 17:04:36,840 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170436838206 已回滚
2025-08-22 17:04:36,842 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,846 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,847 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,849 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436849018，包含 1 个操作
2025-08-22 17:04:36,849 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436849018 中的操作 1/1
2025-08-22 17:04:36,852 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436849018 提交成功
2025-08-22 17:04:36,853 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436853706，包含 1 个操作
2025-08-22 17:04:36,853 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436853706 中的操作 1/1
2025-08-22 17:04:36,856 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436853706 提交成功
2025-08-22 17:04:36,856 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436856723，包含 1 个操作
2025-08-22 17:04:36,856 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436856723 中的操作 1/1
2025-08-22 17:04:36,860 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436856723 提交成功
2025-08-22 17:04:36,860 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436860724，包含 1 个操作
2025-08-22 17:04:36,860 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436860724 中的操作 1/1
2025-08-22 17:04:36,864 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436860724 提交成功
2025-08-22 17:04:36,870 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,874 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,875 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,877 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436877023，包含 1 个操作
2025-08-22 17:04:36,877 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436877023 中的操作 1/1
2025-08-22 17:04:36,879 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436877023 提交成功
2025-08-22 17:04:36,880 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436880648，包含 1 个操作
2025-08-22 17:04:36,880 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436880648 中的操作 1/1
2025-08-22 17:04:36,883 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436880648 提交成功
2025-08-22 17:04:36,883 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436883437，包含 1 个操作
2025-08-22 17:04:36,883 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436883437 中的操作 1/1
2025-08-22 17:04:36,887 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436883437 提交成功
2025-08-22 17:04:36,887 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436887970，包含 1 个操作
2025-08-22 17:04:36,888 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436887970 中的操作 1/1
2025-08-22 17:04:36,890 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436887970 提交成功
2025-08-22 17:04:36,891 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436891203，包含 1 个操作
2025-08-22 17:04:36,891 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436891203 中的操作 1/1
2025-08-22 17:04:36,896 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436891203 提交成功
2025-08-22 17:04:36,896 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436896788，包含 1 个操作
2025-08-22 17:04:36,896 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436896788 中的操作 1/1
2025-08-22 17:04:36,906 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436896788 提交成功
2025-08-22 17:04:36,912 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,917 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,918 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,919 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436919795，包含 1 个操作
2025-08-22 17:04:36,919 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436919795 中的操作 1/1
2025-08-22 17:04:36,922 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436919795 提交成功
2025-08-22 17:04:36,923 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436923740，包含 1 个操作
2025-08-22 17:04:36,923 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436923740 中的操作 1/1
2025-08-22 17:04:36,926 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436923740 提交成功
2025-08-22 17:04:36,926 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436926909，包含 1 个操作
2025-08-22 17:04:36,927 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436926909 中的操作 1/1
2025-08-22 17:04:36,929 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436926909 提交成功
2025-08-22 17:04:36,929 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436929612，包含 1 个操作
2025-08-22 17:04:36,929 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436929612 中的操作 1/1
2025-08-22 17:04:36,933 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436929612 提交成功
2025-08-22 17:04:36,933 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436933844，包含 1 个操作
2025-08-22 17:04:36,934 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436933844 中的操作 1/1
2025-08-22 17:04:36,939 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436933844 提交成功
2025-08-22 17:04:36,939 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436939181，包含 1 个操作
2025-08-22 17:04:36,939 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436939181 中的操作 1/1
2025-08-22 17:04:36,948 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436939181 提交成功
2025-08-22 17:04:36,952 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,957 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,957 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,959 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436959388，包含 1 个操作
2025-08-22 17:04:36,959 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436959388 中的操作 1/1
2025-08-22 17:04:36,962 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436959388 提交成功
2025-08-22 17:04:36,962 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436962986，包含 1 个操作
2025-08-22 17:04:36,963 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436962986 中的操作 1/1
2025-08-22 17:04:36,966 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436962986 提交成功
2025-08-22 17:04:36,967 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436967291，包含 1 个操作
2025-08-22 17:04:36,967 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436967291 中的操作 1/1
2025-08-22 17:04:36,969 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436967291 提交成功
2025-08-22 17:04:36,970 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436970062，包含 1 个操作
2025-08-22 17:04:36,970 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436970062 中的操作 1/1
2025-08-22 17:04:36,973 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436970062 提交成功
2025-08-22 17:04:36,978 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:36,982 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:36,983 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:36,985 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436985123，包含 1 个操作
2025-08-22 17:04:36,985 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436985123 中的操作 1/1
2025-08-22 17:04:36,988 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436985123 提交成功
2025-08-22 17:04:36,989 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436989577，包含 1 个操作
2025-08-22 17:04:36,989 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436989577 中的操作 1/1
2025-08-22 17:04:36,992 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436989577 提交成功
2025-08-22 17:04:36,993 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436993101，包含 1 个操作
2025-08-22 17:04:36,993 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436993101 中的操作 1/1
2025-08-22 17:04:36,998 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436993101 提交成功
2025-08-22 17:04:36,998 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170436998879，包含 1 个操作
2025-08-22 17:04:36,999 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170436998879 中的操作 1/1
2025-08-22 17:04:37,004 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170436998879 提交成功
2025-08-22 17:04:37,011 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,015 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,016 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,017 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437017734，包含 1 个操作
2025-08-22 17:04:37,017 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437017734 中的操作 1/1
2025-08-22 17:04:37,020 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437017734 提交成功
2025-08-22 17:04:37,021 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437021405，包含 1 个操作
2025-08-22 17:04:37,021 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437021405 中的操作 1/1
2025-08-22 17:04:37,024 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437021405 提交成功
2025-08-22 17:04:37,024 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437024437，包含 1 个操作
2025-08-22 17:04:37,024 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437024437 中的操作 1/1
2025-08-22 17:04:37,026 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437024437 提交成功
2025-08-22 17:04:37,027 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437027077，包含 1 个操作
2025-08-22 17:04:37,027 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437027077 中的操作 1/1
2025-08-22 17:04:37,030 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437027077 提交成功
2025-08-22 17:04:37,031 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437031275，包含 1 个操作
2025-08-22 17:04:37,031 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437031275 中的操作 1/1
2025-08-22 17:04:37,036 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437031275 提交成功
2025-08-22 17:04:37,036 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437036559，包含 1 个操作
2025-08-22 17:04:37,036 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437036559 中的操作 1/1
2025-08-22 17:04:37,045 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437036559 提交成功
2025-08-22 17:04:37,048 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,053 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,053 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,055 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437055139，包含 1 个操作
2025-08-22 17:04:37,055 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437055139 中的操作 1/1
2025-08-22 17:04:37,058 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437055139 提交成功
2025-08-22 17:04:37,059 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437059008，包含 1 个操作
2025-08-22 17:04:37,059 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437059008 中的操作 1/1
2025-08-22 17:04:37,064 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437059008 提交成功
2025-08-22 17:04:37,066 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437066110，包含 1 个操作
2025-08-22 17:04:37,066 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437066110 中的操作 1/1
2025-08-22 17:04:37,071 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437066110 提交成功
2025-08-22 17:04:37,072 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437072158，包含 1 个操作
2025-08-22 17:04:37,072 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437072158 中的操作 1/1
2025-08-22 17:04:37,077 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437072158 提交成功
2025-08-22 17:04:37,080 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,085 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,085 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,087 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437087303，包含 1 个操作
2025-08-22 17:04:37,087 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437087303 中的操作 1/1
2025-08-22 17:04:37,090 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437087303 提交成功
2025-08-22 17:04:37,091 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437091677，包含 1 个操作
2025-08-22 17:04:37,091 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437091677 中的操作 1/1
2025-08-22 17:04:37,094 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437091677 提交成功
2025-08-22 17:04:37,095 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437094992，包含 1 个操作
2025-08-22 17:04:37,095 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437094992 中的操作 1/1
2025-08-22 17:04:37,097 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437094992 提交成功
2025-08-22 17:04:37,097 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437097985，包含 1 个操作
2025-08-22 17:04:37,098 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437097985 中的操作 1/1
2025-08-22 17:04:37,101 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437097985 提交成功
2025-08-22 17:04:37,102 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437102232，包含 1 个操作
2025-08-22 17:04:37,102 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437102232 中的操作 1/1
2025-08-22 17:04:37,107 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437102232 提交成功
2025-08-22 17:04:37,107 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437107817，包含 1 个操作
2025-08-22 17:04:37,107 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437107817 中的操作 1/1
2025-08-22 17:04:37,116 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437107817 提交成功
2025-08-22 17:04:37,122 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,127 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,128 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,129 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437129699，包含 1 个操作
2025-08-22 17:04:37,129 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437129699 中的操作 1/1
2025-08-22 17:04:37,132 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437129699 提交成功
2025-08-22 17:04:37,133 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437133428，包含 1 个操作
2025-08-22 17:04:37,133 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437133428 中的操作 1/1
2025-08-22 17:04:37,136 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437133428 提交成功
2025-08-22 17:04:37,136 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437136791，包含 1 个操作
2025-08-22 17:04:37,136 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437136791 中的操作 1/1
2025-08-22 17:04:37,140 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437136791 提交成功
2025-08-22 17:04:37,140 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437140782，包含 1 个操作
2025-08-22 17:04:37,140 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437140782 中的操作 1/1
2025-08-22 17:04:37,144 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437140782 提交成功
2025-08-22 17:04:37,144 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437144728，包含 1 个操作
2025-08-22 17:04:37,144 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437144728 中的操作 1/1
2025-08-22 17:04:37,148 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437144728 提交成功
2025-08-22 17:04:37,148 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437148609，包含 1 个操作
2025-08-22 17:04:37,148 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437148609 中的操作 1/1
2025-08-22 17:04:37,152 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437148609 提交成功
2025-08-22 17:04:37,152 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437152512，包含 1 个操作
2025-08-22 17:04:37,152 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437152512 中的操作 1/1
2025-08-22 17:04:37,156 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437152512 提交成功
2025-08-22 17:04:37,162 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,167 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,167 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,170 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,175 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,176 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,180 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,184 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,184 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,186 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,191 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,191 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,193 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437193506，包含 1 个操作
2025-08-22 17:04:37,193 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437193506 中的操作 1/1
2025-08-22 17:04:37,196 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437193506 提交成功
2025-08-22 17:04:37,197 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,201 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,202 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,203 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437203949，包含 1 个操作
2025-08-22 17:04:37,204 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437203949 中的操作 1/1
2025-08-22 17:04:37,207 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437203949 提交成功
2025-08-22 17:04:37,207 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437207551，包含 1 个操作
2025-08-22 17:04:37,207 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437207551 中的操作 1/1
2025-08-22 17:04:37,208 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170437207551 执行失败: 用户OpenID duplicate_test 已存在
2025-08-22 17:04:37,208 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170437207551 已回滚
2025-08-22 17:04:37,210 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,214 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,215 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,216 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437216734，包含 1 个操作
2025-08-22 17:04:37,216 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437216734 中的操作 1/1
2025-08-22 17:04:37,220 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437216734 提交成功
2025-08-22 17:04:37,220 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437220229，包含 1 个操作
2025-08-22 17:04:37,220 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437220229 中的操作 1/1
2025-08-22 17:04:37,225 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437220229 提交成功
2025-08-22 17:04:37,226 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,230 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,231 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,232 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437232710，包含 1 个操作
2025-08-22 17:04:37,232 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437232710 中的操作 1/1
2025-08-22 17:04:37,233 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437232710 提交成功
2025-08-22 17:04:37,234 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,238 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,239 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,240 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437240615，包含 1 个操作
2025-08-22 17:04:37,240 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437240615 中的操作 1/1
2025-08-22 17:04:37,243 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437240615 提交成功
2025-08-22 17:04:37,246 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,250 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,250 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,253 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,257 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,258 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,259 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437259951，包含 1 个操作
2025-08-22 17:04:37,260 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437259951 中的操作 1/1
2025-08-22 17:04:37,262 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437259951 提交成功
2025-08-22 17:04:37,263 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437263898，包含 1 个操作
2025-08-22 17:04:37,264 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437263898 中的操作 1/1
2025-08-22 17:04:37,266 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437263898 提交成功
2025-08-22 17:04:37,267 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437267102，包含 1 个操作
2025-08-22 17:04:37,267 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437267102 中的操作 1/1
2025-08-22 17:04:37,269 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437267102 提交成功
2025-08-22 17:04:37,270 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437270713，包含 1 个操作
2025-08-22 17:04:37,270 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437270713 中的操作 1/1
2025-08-22 17:04:37,272 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437270713 提交成功
2025-08-22 17:04:37,274 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,278 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,278 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,280 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437280429，包含 1 个操作
2025-08-22 17:04:37,280 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437280429 中的操作 1/1
2025-08-22 17:04:37,283 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437280429 提交成功
2025-08-22 17:04:37,284 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437284417，包含 1 个操作
2025-08-22 17:04:37,284 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437284417 中的操作 1/1
2025-08-22 17:04:37,287 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437284417 提交成功
2025-08-22 17:04:37,288 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437288062，包含 1 个操作
2025-08-22 17:04:37,288 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437288062 中的操作 1/1
2025-08-22 17:04:37,289 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437288062 提交成功
2025-08-22 17:04:37,290 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,295 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,295 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,297 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437297169，包含 1 个操作
2025-08-22 17:04:37,297 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437297169 中的操作 1/1
2025-08-22 17:04:37,300 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437297169 提交成功
2025-08-22 17:04:37,301 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437301304，包含 1 个操作
2025-08-22 17:04:37,301 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437301304 中的操作 1/1
2025-08-22 17:04:37,304 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437301304 提交成功
2025-08-22 17:04:37,304 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437304691，包含 1 个操作
2025-08-22 17:04:37,304 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437304691 中的操作 1/1
2025-08-22 17:04:37,306 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437304691 提交成功
2025-08-22 17:04:37,307 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437307952，包含 1 个操作
2025-08-22 17:04:37,308 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437307952 中的操作 1/1
2025-08-22 17:04:37,310 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437307952 提交成功
2025-08-22 17:04:37,311 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,316 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,317 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,319 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437319148，包含 1 个操作
2025-08-22 17:04:37,319 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437319148 中的操作 1/1
2025-08-22 17:04:37,322 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437319148 提交成功
2025-08-22 17:04:37,324 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437324147，包含 1 个操作
2025-08-22 17:04:37,324 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437324147 中的操作 1/1
2025-08-22 17:04:37,325 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170437324147 执行失败: 管理员不能停用自己的账户
2025-08-22 17:04:37,325 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170437324147 已回滚
2025-08-22 17:04:37,327 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,332 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,332 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,334 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437334409，包含 1 个操作
2025-08-22 17:04:37,334 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437334409 中的操作 1/1
2025-08-22 17:04:37,337 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437334409 提交成功
2025-08-22 17:04:37,337 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437337619，包含 1 个操作
2025-08-22 17:04:37,337 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437337619 中的操作 1/1
2025-08-22 17:04:37,340 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437337619 提交成功
2025-08-22 17:04:37,340 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437340610，包含 1 个操作
2025-08-22 17:04:37,340 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437340610 中的操作 1/1
2025-08-22 17:04:37,341 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170437340610 执行失败: 操作用户不是管理员或账户已停用
2025-08-22 17:04:37,341 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170437340610 已回滚
2025-08-22 17:04:37,342 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,346 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,347 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,348 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437348936，包含 1 个操作
2025-08-22 17:04:37,349 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437348936 中的操作 1/1
2025-08-22 17:04:37,352 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437348936 提交成功
2025-08-22 17:04:37,353 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437353183，包含 1 个操作
2025-08-22 17:04:37,353 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437353183 中的操作 1/1
2025-08-22 17:04:37,356 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437353183 提交成功
2025-08-22 17:04:37,359 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,363 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,364 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,366 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437365984，包含 1 个操作
2025-08-22 17:04:37,366 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437365984 中的操作 1/1
2025-08-22 17:04:37,369 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437365984 提交成功
2025-08-22 17:04:37,373 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,377 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,378 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,380 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437380025，包含 1 个操作
2025-08-22 17:04:37,380 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437380025 中的操作 1/1
2025-08-22 17:04:37,382 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437380025 提交成功
2025-08-22 17:04:37,383 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437383622，包含 1 个操作
2025-08-22 17:04:37,383 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437383622 中的操作 1/1
2025-08-22 17:04:37,386 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437383622 提交成功
2025-08-22 17:04:37,387 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437387281，包含 1 个操作
2025-08-22 17:04:37,387 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437387281 中的操作 1/1
2025-08-22 17:04:37,389 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437387281 提交成功
2025-08-22 17:04:37,395 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,400 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,400 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,402 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437402354，包含 1 个操作
2025-08-22 17:04:37,402 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437402354 中的操作 1/1
2025-08-22 17:04:37,405 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437402354 提交成功
2025-08-22 17:04:37,405 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437405414，包含 1 个操作
2025-08-22 17:04:37,405 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437405414 中的操作 1/1
2025-08-22 17:04:37,408 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437405414 提交成功
2025-08-22 17:04:37,408 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437408374，包含 1 个操作
2025-08-22 17:04:37,408 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437408374 中的操作 1/1
2025-08-22 17:04:37,411 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437408374 提交成功
2025-08-22 17:04:37,411 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437411286，包含 1 个操作
2025-08-22 17:04:37,411 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437411286 中的操作 1/1
2025-08-22 17:04:37,414 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437411286 提交成功
2025-08-22 17:04:37,414 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437414166，包含 1 个操作
2025-08-22 17:04:37,414 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437414166 中的操作 1/1
2025-08-22 17:04:37,416 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437414166 提交成功
2025-08-22 17:04:37,419 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,423 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,424 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,425 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437425958，包含 1 个操作
2025-08-22 17:04:37,426 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437425958 中的操作 1/1
2025-08-22 17:04:37,426 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170437425958 执行失败: 微信OpenID不能为空
2025-08-22 17:04:37,426 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170437425958 已回滚
2025-08-22 17:04:37,427 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,431 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,431 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,433 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437433676，包含 1 个操作
2025-08-22 17:04:37,433 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437433676 中的操作 1/1
2025-08-22 17:04:37,433 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170437433676 执行失败: 微信昵称长度不能超过100字符
2025-08-22 17:04:37,434 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170437433676 已回滚
2025-08-22 17:04:37,434 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,438 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,439 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,440 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437440931，包含 1 个操作
2025-08-22 17:04:37,441 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437440931 中的操作 1/1
2025-08-22 17:04:37,444 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437440931 提交成功
2025-08-22 17:04:37,445 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437445282，包含 1 个操作
2025-08-22 17:04:37,445 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437445282 中的操作 1/1
2025-08-22 17:04:37,448 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170437445282 提交成功
2025-08-22 17:04:37,448 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170437448557，包含 1 个操作
2025-08-22 17:04:37,448 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170437448557 中的操作 1/1
2025-08-22 17:04:37,449 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170437448557 执行失败: 状态值必须为 active 或 suspended
2025-08-22 17:04:37,449 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170437448557 已回滚
2025-08-22 17:04:37,450 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:37,455 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:04:37,455 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:37,458 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:38,218 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:04:38,243 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-22 17:04:38,243 - api.main - INFO - [main.py:35] - 环境: development
2025-08-22 17:04:38,243 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-22 17:04:38,244 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-22 17:04:43,279 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:04:43,419 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,420 - api.middleware.logging - INFO - [logging.py:31] - [0acdd68a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,422 - api.middleware.logging - INFO - [logging.py:44] - [0acdd68a] 404 - Time: 0.002s
2025-08-22 17:04:43,424 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,453 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,454 - api.middleware.logging - INFO - [logging.py:31] - [5a7a0719] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,455 - api.middleware.logging - INFO - [logging.py:44] - [5a7a0719] 404 - Time: 0.002s
2025-08-22 17:04:43,457 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,462 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,463 - api.middleware.logging - INFO - [logging.py:31] - [4ef5fb65] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,464 - api.middleware.logging - INFO - [logging.py:44] - [4ef5fb65] 404 - Time: 0.001s
2025-08-22 17:04:43,466 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,471 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,472 - api.middleware.logging - INFO - [logging.py:31] - [40a8f89f] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,473 - api.middleware.logging - INFO - [logging.py:44] - [40a8f89f] 404 - Time: 0.001s
2025-08-22 17:04:43,475 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,480 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,481 - api.middleware.logging - INFO - [logging.py:31] - [f57789d3] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,482 - api.middleware.logging - INFO - [logging.py:44] - [f57789d3] 404 - Time: 0.001s
2025-08-22 17:04:43,484 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,489 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,489 - api.middleware.logging - INFO - [logging.py:31] - [53b6308d] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,492 - api.middleware.logging - INFO - [logging.py:44] - [53b6308d] 404 - Time: 0.003s
2025-08-22 17:04:43,494 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,499 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,499 - api.middleware.logging - INFO - [logging.py:31] - [c8d8c521] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,501 - api.middleware.logging - INFO - [logging.py:44] - [c8d8c521] 404 - Time: 0.001s
2025-08-22 17:04:43,502 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,507 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,508 - api.middleware.logging - INFO - [logging.py:31] - [e251f2b5] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,510 - api.middleware.logging - INFO - [logging.py:44] - [e251f2b5] 404 - Time: 0.001s
2025-08-22 17:04:43,511 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,517 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,517 - api.middleware.logging - INFO - [logging.py:31] - [b8220818] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,519 - api.middleware.logging - INFO - [logging.py:44] - [b8220818] 404 - Time: 0.001s
2025-08-22 17:04:43,520 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,525 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,526 - api.middleware.logging - INFO - [logging.py:31] - [68af4fe1] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,527 - api.middleware.logging - INFO - [logging.py:44] - [68af4fe1] 404 - Time: 0.001s
2025-08-22 17:04:43,529 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,534 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,534 - api.middleware.logging - INFO - [logging.py:31] - [2e2880a2] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,536 - api.middleware.logging - INFO - [logging.py:44] - [2e2880a2] 404 - Time: 0.001s
2025-08-22 17:04:43,537 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,542 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,543 - api.middleware.logging - INFO - [logging.py:31] - [d3634e23] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,545 - api.middleware.logging - INFO - [logging.py:44] - [d3634e23] 404 - Time: 0.003s
2025-08-22 17:04:43,547 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,552 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,553 - api.middleware.logging - INFO - [logging.py:31] - [dfb37412] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,554 - api.middleware.logging - INFO - [logging.py:44] - [dfb37412] 404 - Time: 0.001s
2025-08-22 17:04:43,556 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,560 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,561 - api.middleware.logging - INFO - [logging.py:31] - [b14b78df] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,563 - api.middleware.logging - INFO - [logging.py:44] - [b14b78df] 404 - Time: 0.001s
2025-08-22 17:04:43,564 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,575 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,576 - api.middleware.logging - INFO - [logging.py:31] - [4d0a2f4c] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,577 - api.middleware.logging - INFO - [logging.py:44] - [4d0a2f4c] 404 - Time: 0.001s
2025-08-22 17:04:43,578 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,583 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,584 - api.middleware.logging - INFO - [logging.py:31] - [752e5dd6] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,585 - api.middleware.logging - INFO - [logging.py:44] - [752e5dd6] 404 - Time: 0.001s
2025-08-22 17:04:43,587 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,592 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,593 - api.middleware.logging - INFO - [logging.py:31] - [abe1f2e3] GET /api/admin/users - Client: testclient
2025-08-22 17:04:43,594 - api.middleware.logging - INFO - [logging.py:44] - [abe1f2e3] 403 - Time: 0.001s
2025-08-22 17:04:43,595 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:43,603 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,604 - api.middleware.logging - INFO - [logging.py:31] - [dd920a1e] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:04:43,613 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:04:43,614 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:43,615 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:04:43,615 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:04:43,615 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_12345
2025-08-22 17:04:43,615 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170443615802，包含 1 个操作
2025-08-22 17:04:43,616 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170443615802 中的操作 1/1
2025-08-22 17:04:43,631 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170443615802 提交成功
2025-08-22 17:04:43,631 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_dd26c0e17bf6adba)
2025-08-22 17:04:43,631 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:04:43,632 - api.middleware.logging - INFO - [logging.py:44] - [dd920a1e] 200 - Time: 0.028s
2025-08-22 17:04:43,656 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:43,658 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:04:43,663 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,664 - api.middleware.logging - INFO - [logging.py:31] - [c30a2673] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:04:43,673 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:04:43,674 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:43,675 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:43,676 - api.middleware.logging - INFO - [logging.py:44] - [c30a2673] 422 - Time: 0.012s
2025-08-22 17:04:43,678 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-22 17:04:43,680 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,680 - api.middleware.logging - INFO - [logging.py:31] - [19dae745] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:04:43,691 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:04:43,692 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:43,692 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:04:43,692 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:04:43,693 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_refresh
2025-08-22 17:04:43,693 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170443693122，包含 1 个操作
2025-08-22 17:04:43,693 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170443693122 中的操作 1/1
2025-08-22 17:04:43,703 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170443693122 提交成功
2025-08-22 17:04:43,704 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_04d7fd42b15ab205)
2025-08-22 17:04:43,704 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:04:43,705 - api.middleware.logging - INFO - [logging.py:44] - [19dae745] 200 - Time: 0.025s
2025-08-22 17:04:43,762 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:43,765 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:04:43,771 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,772 - api.middleware.logging - INFO - [logging.py:31] - [87a1821f] POST /api/auth/refresh - Client: testclient
2025-08-22 17:04:43,779 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:04:43,780 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:43,780 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: module 'jwt' has no attribute 'JWTError'
2025-08-22 17:04:43,781 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:43,783 - api.middleware.logging - INFO - [logging.py:44] - [87a1821f] 401 - Time: 0.011s
2025-08-22 17:04:43,785 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 401 Unauthorized"
2025-08-22 17:04:43,786 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,787 - api.middleware.logging - INFO - [logging.py:31] - [07a4bafd] POST /api/auth/refresh - Client: testclient
2025-08-22 17:04:43,789 - api.middleware.logging - INFO - [logging.py:44] - [07a4bafd] 403 - Time: 0.002s
2025-08-22 17:04:43,791 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:43,795 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,796 - api.middleware.logging - INFO - [logging.py:31] - [17dff490] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:04:43,805 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:04:43,805 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:43,806 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:04:43,806 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:04:43,806 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_valid
2025-08-22 17:04:43,806 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170443806936，包含 1 个操作
2025-08-22 17:04:43,807 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170443806936 中的操作 1/1
2025-08-22 17:04:43,818 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170443806936 提交成功
2025-08-22 17:04:43,818 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_77cce12ce5eed027)
2025-08-22 17:04:43,818 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:04:43,819 - api.middleware.logging - INFO - [logging.py:44] - [17dff490] 200 - Time: 0.023s
2025-08-22 17:04:43,838 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:43,841 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:04:43,845 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,846 - api.middleware.logging - INFO - [logging.py:31] - [e7ca9e3b] GET /api/users/profile - Client: testclient
2025-08-22 17:04:43,854 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:04:43,855 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:04:43,855 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: module 'jwt' has no attribute 'JWTError'
2025-08-22 17:04:43,858 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:04:43,859 - api.middleware.logging - INFO - [logging.py:44] - [e7ca9e3b] 401 - Time: 0.012s
2025-08-22 17:04:43,860 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 401 Unauthorized"
2025-08-22 17:04:43,862 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,863 - api.middleware.logging - INFO - [logging.py:31] - [e4905223] GET /api/users/profile - Client: testclient
2025-08-22 17:04:43,866 - api.middleware.logging - INFO - [logging.py:44] - [e4905223] 403 - Time: 0.002s
2025-08-22 17:04:43,867 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:43,871 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,872 - api.middleware.logging - INFO - [logging.py:31] - [53f99d19] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,874 - api.middleware.logging - INFO - [logging.py:44] - [53f99d19] 404 - Time: 0.002s
2025-08-22 17:04:43,876 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,881 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,881 - api.middleware.logging - INFO - [logging.py:31] - [b0fbf60c] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,883 - api.middleware.logging - INFO - [logging.py:44] - [b0fbf60c] 404 - Time: 0.002s
2025-08-22 17:04:43,885 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,890 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,890 - api.middleware.logging - INFO - [logging.py:31] - [5d259577] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,892 - api.middleware.logging - INFO - [logging.py:44] - [5d259577] 404 - Time: 0.001s
2025-08-22 17:04:43,893 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,898 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,899 - api.middleware.logging - INFO - [logging.py:31] - [11f0363a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,900 - api.middleware.logging - INFO - [logging.py:44] - [11f0363a] 404 - Time: 0.001s
2025-08-22 17:04:43,902 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,907 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,907 - api.middleware.logging - INFO - [logging.py:31] - [ecb5da09] GET /api/meals - Client: testclient
2025-08-22 17:04:43,909 - api.middleware.logging - INFO - [logging.py:44] - [ecb5da09] 403 - Time: 0.002s
2025-08-22 17:04:43,911 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-01&end_date=2024-12-31 "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:43,916 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,917 - api.middleware.logging - INFO - [logging.py:31] - [73ab09e7] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,919 - api.middleware.logging - INFO - [logging.py:44] - [73ab09e7] 404 - Time: 0.001s
2025-08-22 17:04:43,921 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,926 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,927 - api.middleware.logging - INFO - [logging.py:31] - [db562f42] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,928 - api.middleware.logging - INFO - [logging.py:44] - [db562f42] 404 - Time: 0.001s
2025-08-22 17:04:43,929 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,934 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,935 - api.middleware.logging - INFO - [logging.py:31] - [bfde3cb2] GET /api/meals/1 - Client: testclient
2025-08-22 17:04:43,936 - api.middleware.logging - INFO - [logging.py:44] - [bfde3cb2] 403 - Time: 0.001s
2025-08-22 17:04:43,938 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1 "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:43,942 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,943 - api.middleware.logging - INFO - [logging.py:31] - [ba728531] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,944 - api.middleware.logging - INFO - [logging.py:44] - [ba728531] 404 - Time: 0.001s
2025-08-22 17:04:43,946 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,951 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,951 - api.middleware.logging - INFO - [logging.py:31] - [8e9a984b] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,953 - api.middleware.logging - INFO - [logging.py:44] - [8e9a984b] 404 - Time: 0.001s
2025-08-22 17:04:43,954 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,959 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,960 - api.middleware.logging - INFO - [logging.py:31] - [1caaa0d6] GET /api/meals/1/order - Client: testclient
2025-08-22 17:04:43,961 - api.middleware.logging - INFO - [logging.py:44] - [1caaa0d6] 404 - Time: 0.001s
2025-08-22 17:04:43,963 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1/order "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,968 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,969 - api.middleware.logging - INFO - [logging.py:31] - [e406193b] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,971 - api.middleware.logging - INFO - [logging.py:44] - [e406193b] 404 - Time: 0.001s
2025-08-22 17:04:43,972 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,977 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,978 - api.middleware.logging - INFO - [logging.py:31] - [fc5d29d5] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,979 - api.middleware.logging - INFO - [logging.py:44] - [fc5d29d5] 404 - Time: 0.001s
2025-08-22 17:04:43,980 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,985 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,986 - api.middleware.logging - INFO - [logging.py:31] - [690c36fc] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,987 - api.middleware.logging - INFO - [logging.py:44] - [690c36fc] 404 - Time: 0.001s
2025-08-22 17:04:43,989 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:43,993 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:43,994 - api.middleware.logging - INFO - [logging.py:31] - [cd19f930] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:43,995 - api.middleware.logging - INFO - [logging.py:44] - [cd19f930] 404 - Time: 0.001s
2025-08-22 17:04:43,997 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,002 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,002 - api.middleware.logging - INFO - [logging.py:31] - [3ac260a0] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,004 - api.middleware.logging - INFO - [logging.py:44] - [3ac260a0] 404 - Time: 0.001s
2025-08-22 17:04:44,005 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,010 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,011 - api.middleware.logging - INFO - [logging.py:31] - [ebf71aeb] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,012 - api.middleware.logging - INFO - [logging.py:44] - [ebf71aeb] 404 - Time: 0.001s
2025-08-22 17:04:44,014 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,020 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,021 - api.middleware.logging - INFO - [logging.py:31] - [f245319e] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,022 - api.middleware.logging - INFO - [logging.py:44] - [f245319e] 404 - Time: 0.001s
2025-08-22 17:04:44,024 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,029 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,030 - api.middleware.logging - INFO - [logging.py:31] - [f2bfcb4a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,031 - api.middleware.logging - INFO - [logging.py:44] - [f2bfcb4a] 404 - Time: 0.001s
2025-08-22 17:04:44,033 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,037 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,038 - api.middleware.logging - INFO - [logging.py:31] - [5b6001f8] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,039 - api.middleware.logging - INFO - [logging.py:44] - [5b6001f8] 404 - Time: 0.001s
2025-08-22 17:04:44,041 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,046 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,047 - api.middleware.logging - INFO - [logging.py:31] - [af56c854] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,049 - api.middleware.logging - INFO - [logging.py:44] - [af56c854] 404 - Time: 0.002s
2025-08-22 17:04:44,050 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,058 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,059 - api.middleware.logging - INFO - [logging.py:31] - [b330d9f2] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,060 - api.middleware.logging - INFO - [logging.py:44] - [b330d9f2] 404 - Time: 0.001s
2025-08-22 17:04:44,062 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,068 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,069 - api.middleware.logging - INFO - [logging.py:31] - [592b1f9a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,071 - api.middleware.logging - INFO - [logging.py:44] - [592b1f9a] 404 - Time: 0.001s
2025-08-22 17:04:44,072 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,077 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,078 - api.middleware.logging - INFO - [logging.py:31] - [5c5ce671] GET /api/orders/1 - Client: testclient
2025-08-22 17:04:44,079 - api.middleware.logging - INFO - [logging.py:44] - [5c5ce671] 405 - Time: 0.001s
2025-08-22 17:04:44,081 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/orders/1 "HTTP/1.1 405 Method Not Allowed"
2025-08-22 17:04:44,085 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,086 - api.middleware.logging - INFO - [logging.py:31] - [14936f97] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,087 - api.middleware.logging - INFO - [logging.py:44] - [14936f97] 404 - Time: 0.001s
2025-08-22 17:04:44,089 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,094 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,094 - api.middleware.logging - INFO - [logging.py:31] - [3203c020] GET /api/users/profile - Client: testclient
2025-08-22 17:04:44,096 - api.middleware.logging - INFO - [logging.py:44] - [3203c020] 403 - Time: 0.001s
2025-08-22 17:04:44,097 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:44,101 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,102 - api.middleware.logging - INFO - [logging.py:31] - [8d0ffbca] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,104 - api.middleware.logging - INFO - [logging.py:44] - [8d0ffbca] 404 - Time: 0.001s
2025-08-22 17:04:44,105 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,111 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,112 - api.middleware.logging - INFO - [logging.py:31] - [eee4d690] GET /api/users/balance - Client: testclient
2025-08-22 17:04:44,113 - api.middleware.logging - INFO - [logging.py:44] - [eee4d690] 404 - Time: 0.001s
2025-08-22 17:04:44,115 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/balance "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,119 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,120 - api.middleware.logging - INFO - [logging.py:31] - [cad3d229] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,121 - api.middleware.logging - INFO - [logging.py:44] - [cad3d229] 404 - Time: 0.001s
2025-08-22 17:04:44,123 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,127 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,128 - api.middleware.logging - INFO - [logging.py:31] - [1cb7453a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,130 - api.middleware.logging - INFO - [logging.py:44] - [1cb7453a] 404 - Time: 0.001s
2025-08-22 17:04:44,131 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,136 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,137 - api.middleware.logging - INFO - [logging.py:31] - [6e3aeae1] GET /api/users/ledger - Client: testclient
2025-08-22 17:04:44,138 - api.middleware.logging - INFO - [logging.py:44] - [6e3aeae1] 403 - Time: 0.002s
2025-08-22 17:04:44,140 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/ledger "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:44,144 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,145 - api.middleware.logging - INFO - [logging.py:31] - [284f0c3c] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,146 - api.middleware.logging - INFO - [logging.py:44] - [284f0c3c] 404 - Time: 0.001s
2025-08-22 17:04:44,148 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,154 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,154 - api.middleware.logging - INFO - [logging.py:31] - [59ba6c98] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,156 - api.middleware.logging - INFO - [logging.py:44] - [59ba6c98] 404 - Time: 0.001s
2025-08-22 17:04:44,158 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,162 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,163 - api.middleware.logging - INFO - [logging.py:31] - [4f8efa72] GET /api/users/orders - Client: testclient
2025-08-22 17:04:44,164 - api.middleware.logging - INFO - [logging.py:44] - [4f8efa72] 403 - Time: 0.001s
2025-08-22 17:04:44,166 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/orders "HTTP/1.1 403 Forbidden"
2025-08-22 17:04:44,170 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,171 - api.middleware.logging - INFO - [logging.py:31] - [339a5e15] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,172 - api.middleware.logging - INFO - [logging.py:44] - [339a5e15] 404 - Time: 0.002s
2025-08-22 17:04:44,174 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,179 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,180 - api.middleware.logging - INFO - [logging.py:31] - [185d921a] POST /api/auth/wechat-login - Client: testclient
2025-08-22 17:04:44,181 - api.middleware.logging - INFO - [logging.py:44] - [185d921a] 404 - Time: 0.002s
2025-08-22 17:04:44,183 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat-login "HTTP/1.1 404 Not Found"
2025-08-22 17:04:44,188 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:04:44,188 - api.middleware.logging - INFO - [logging.py:31] - [65dced66] GET /api/users/statistics/orders - Client: testclient
2025-08-22 17:04:44,190 - api.middleware.logging - INFO - [logging.py:44] - [65dced66] 404 - Time: 0.002s
2025-08-22 17:04:44,192 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/statistics/orders "HTTP/1.1 404 Not Found"
2025-08-22 17:06:07,004 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:06:07,100 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,102 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,104 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607104559，包含 1 个操作
2025-08-22 17:06:07,104 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607104559 中的操作 1/1
2025-08-22 17:06:07,109 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607104559 提交成功
2025-08-22 17:06:07,110 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607110443，包含 1 个操作
2025-08-22 17:06:07,110 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607110443 中的操作 1/1
2025-08-22 17:06:07,113 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607110443 提交成功
2025-08-22 17:06:07,115 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,120 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,121 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,122 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607122854，包含 1 个操作
2025-08-22 17:06:07,123 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607122854 中的操作 1/1
2025-08-22 17:06:07,126 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607122854 提交成功
2025-08-22 17:06:07,127 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607127921，包含 1 个操作
2025-08-22 17:06:07,128 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607127921 中的操作 1/1
2025-08-22 17:06:07,130 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607127921 提交成功
2025-08-22 17:06:07,131 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607131793，包含 1 个操作
2025-08-22 17:06:07,132 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607131793 中的操作 1/1
2025-08-22 17:06:07,133 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607131793 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-22 17:06:07,133 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607131793 已回滚
2025-08-22 17:06:07,135 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,139 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,140 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,141 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607141888，包含 1 个操作
2025-08-22 17:06:07,142 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607141888 中的操作 1/1
2025-08-22 17:06:07,144 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607141888 提交成功
2025-08-22 17:06:07,146 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607146017，包含 1 个操作
2025-08-22 17:06:07,146 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607146017 中的操作 1/1
2025-08-22 17:06:07,148 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607146017 提交成功
2025-08-22 17:06:07,149 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607149232，包含 1 个操作
2025-08-22 17:06:07,149 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607149232 中的操作 1/1
2025-08-22 17:06:07,152 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607149232 提交成功
2025-08-22 17:06:07,153 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,157 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,158 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,160 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607160145，包含 1 个操作
2025-08-22 17:06:07,160 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607160145 中的操作 1/1
2025-08-22 17:06:07,163 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607160145 提交成功
2025-08-22 17:06:07,164 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607164042，包含 1 个操作
2025-08-22 17:06:07,164 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607164042 中的操作 1/1
2025-08-22 17:06:07,167 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607164042 提交成功
2025-08-22 17:06:07,167 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607167502，包含 1 个操作
2025-08-22 17:06:07,167 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607167502 中的操作 1/1
2025-08-22 17:06:07,171 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607167502 提交成功
2025-08-22 17:06:07,173 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,177 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,178 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,179 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607179860，包含 1 个操作
2025-08-22 17:06:07,180 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607179860 中的操作 1/1
2025-08-22 17:06:07,182 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607179860 提交成功
2025-08-22 17:06:07,183 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607183706，包含 1 个操作
2025-08-22 17:06:07,183 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607183706 中的操作 1/1
2025-08-22 17:06:07,186 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607183706 提交成功
2025-08-22 17:06:07,186 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607186790，包含 1 个操作
2025-08-22 17:06:07,186 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607186790 中的操作 1/1
2025-08-22 17:06:07,190 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607186790 提交成功
2025-08-22 17:06:07,191 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607191189，包含 1 个操作
2025-08-22 17:06:07,191 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607191189 中的操作 1/1
2025-08-22 17:06:07,193 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607191189 提交成功
2025-08-22 17:06:07,195 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,199 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,200 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,201 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607201586，包含 1 个操作
2025-08-22 17:06:07,201 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607201586 中的操作 1/1
2025-08-22 17:06:07,204 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607201586 提交成功
2025-08-22 17:06:07,205 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607205480，包含 1 个操作
2025-08-22 17:06:07,205 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607205480 中的操作 1/1
2025-08-22 17:06:07,208 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607205480 提交成功
2025-08-22 17:06:07,208 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607208295，包含 1 个操作
2025-08-22 17:06:07,208 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607208295 中的操作 1/1
2025-08-22 17:06:07,212 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607208295 提交成功
2025-08-22 17:06:07,212 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607212642，包含 1 个操作
2025-08-22 17:06:07,212 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607212642 中的操作 1/1
2025-08-22 17:06:07,216 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607212642 提交成功
2025-08-22 17:06:07,218 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,222 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,222 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,224 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607224485，包含 1 个操作
2025-08-22 17:06:07,224 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607224485 中的操作 1/1
2025-08-22 17:06:07,227 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607224485 提交成功
2025-08-22 17:06:07,228 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607228382，包含 1 个操作
2025-08-22 17:06:07,228 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607228382 中的操作 1/1
2025-08-22 17:06:07,231 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607228382 提交成功
2025-08-22 17:06:07,231 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607231835，包含 1 个操作
2025-08-22 17:06:07,232 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607231835 中的操作 1/1
2025-08-22 17:06:07,235 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607231835 提交成功
2025-08-22 17:06:07,237 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,241 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,241 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,243 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607243158，包含 1 个操作
2025-08-22 17:06:07,243 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607243158 中的操作 1/1
2025-08-22 17:06:07,246 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607243158 提交成功
2025-08-22 17:06:07,247 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607247038，包含 1 个操作
2025-08-22 17:06:07,247 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607247038 中的操作 1/1
2025-08-22 17:06:07,249 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607247038 提交成功
2025-08-22 17:06:07,250 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607250384，包含 1 个操作
2025-08-22 17:06:07,250 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607250384 中的操作 1/1
2025-08-22 17:06:07,256 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607250384 提交成功
2025-08-22 17:06:07,256 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607256640，包含 1 个操作
2025-08-22 17:06:07,256 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607256640 中的操作 1/1
2025-08-22 17:06:07,261 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607256640 提交成功
2025-08-22 17:06:07,264 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,268 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,269 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,270 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607270966，包含 1 个操作
2025-08-22 17:06:07,271 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607270966 中的操作 1/1
2025-08-22 17:06:07,273 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607270966 提交成功
2025-08-22 17:06:07,274 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607274856，包含 1 个操作
2025-08-22 17:06:07,275 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607274856 中的操作 1/1
2025-08-22 17:06:07,278 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607274856 提交成功
2025-08-22 17:06:07,278 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607278499，包含 1 个操作
2025-08-22 17:06:07,278 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607278499 中的操作 1/1
2025-08-22 17:06:07,281 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607278499 提交成功
2025-08-22 17:06:07,281 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607281404，包含 1 个操作
2025-08-22 17:06:07,281 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607281404 中的操作 1/1
2025-08-22 17:06:07,285 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607281404 提交成功
2025-08-22 17:06:07,285 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607285769，包含 1 个操作
2025-08-22 17:06:07,286 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607285769 中的操作 1/1
2025-08-22 17:06:07,291 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607285769 提交成功
2025-08-22 17:06:07,291 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607291643，包含 1 个操作
2025-08-22 17:06:07,291 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607291643 中的操作 1/1
2025-08-22 17:06:07,300 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607291643 提交成功
2025-08-22 17:06:07,303 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,308 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,308 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,310 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607310336，包含 1 个操作
2025-08-22 17:06:07,310 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607310336 中的操作 1/1
2025-08-22 17:06:07,313 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607310336 提交成功
2025-08-22 17:06:07,313 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607313458，包含 1 个操作
2025-08-22 17:06:07,313 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607313458 中的操作 1/1
2025-08-22 17:06:07,316 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607313458 提交成功
2025-08-22 17:06:07,317 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607317678，包含 1 个操作
2025-08-22 17:06:07,317 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607317678 中的操作 1/1
2025-08-22 17:06:07,320 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607317678 提交成功
2025-08-22 17:06:07,320 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607320533，包含 1 个操作
2025-08-22 17:06:07,320 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607320533 中的操作 1/1
2025-08-22 17:06:07,324 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607320533 提交成功
2025-08-22 17:06:07,325 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607324992，包含 1 个操作
2025-08-22 17:06:07,325 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607324992 中的操作 1/1
2025-08-22 17:06:07,327 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607324992 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-22 17:06:07,327 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607324992 已回滚
2025-08-22 17:06:07,329 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,333 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,334 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,335 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607335687，包含 1 个操作
2025-08-22 17:06:07,335 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607335687 中的操作 1/1
2025-08-22 17:06:07,338 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607335687 提交成功
2025-08-22 17:06:07,339 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607339431，包含 1 个操作
2025-08-22 17:06:07,339 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607339431 中的操作 1/1
2025-08-22 17:06:07,342 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607339431 提交成功
2025-08-22 17:06:07,342 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607342595，包含 1 个操作
2025-08-22 17:06:07,342 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607342595 中的操作 1/1
2025-08-22 17:06:07,345 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607342595 提交成功
2025-08-22 17:06:07,345 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607345392，包含 1 个操作
2025-08-22 17:06:07,345 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607345392 中的操作 1/1
2025-08-22 17:06:07,349 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607345392 提交成功
2025-08-22 17:06:07,350 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607350135，包含 1 个操作
2025-08-22 17:06:07,350 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607350135 中的操作 1/1
2025-08-22 17:06:07,355 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607350135 提交成功
2025-08-22 17:06:07,355 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607355681，包含 1 个操作
2025-08-22 17:06:07,355 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607355681 中的操作 1/1
2025-08-22 17:06:07,364 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607355681 提交成功
2025-08-22 17:06:07,364 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607364947，包含 1 个操作
2025-08-22 17:06:07,365 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607364947 中的操作 1/1
2025-08-22 17:06:07,372 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607364947 提交成功
2025-08-22 17:06:07,374 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,378 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,379 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,381 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607381076，包含 1 个操作
2025-08-22 17:06:07,381 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607381076 中的操作 1/1
2025-08-22 17:06:07,384 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607381076 提交成功
2025-08-22 17:06:07,384 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607384883，包含 1 个操作
2025-08-22 17:06:07,385 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607384883 中的操作 1/1
2025-08-22 17:06:07,385 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607384883 执行失败: 用户不是管理员或账户已停用
2025-08-22 17:06:07,386 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607384883 已回滚
2025-08-22 17:06:07,387 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,391 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,392 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,393 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607393952，包含 1 个操作
2025-08-22 17:06:07,394 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607393952 中的操作 1/1
2025-08-22 17:06:07,396 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607393952 提交成功
2025-08-22 17:06:07,398 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607398177，包含 1 个操作
2025-08-22 17:06:07,398 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607398177 中的操作 1/1
2025-08-22 17:06:07,401 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607398177 提交成功
2025-08-22 17:06:07,401 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607401631，包含 1 个操作
2025-08-22 17:06:07,401 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607401631 中的操作 1/1
2025-08-22 17:06:07,404 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607401631 提交成功
2025-08-22 17:06:07,405 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607405084，包含 1 个操作
2025-08-22 17:06:07,405 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607405084 中的操作 1/1
2025-08-22 17:06:07,410 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607405084 提交成功
2025-08-22 17:06:07,410 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607410619，包含 1 个操作
2025-08-22 17:06:07,410 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607410619 中的操作 1/1
2025-08-22 17:06:07,419 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607410619 提交成功
2025-08-22 17:06:07,420 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607420390，包含 1 个操作
2025-08-22 17:06:07,420 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607420390 中的操作 1/1
2025-08-22 17:06:07,422 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607420390 执行失败: 餐次已满，无法下单
2025-08-22 17:06:07,423 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607420390 已回滚
2025-08-22 17:06:07,429 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,433 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,434 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,435 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607435823，包含 1 个操作
2025-08-22 17:06:07,436 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607435823 中的操作 1/1
2025-08-22 17:06:07,438 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607435823 提交成功
2025-08-22 17:06:07,439 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607439714，包含 1 个操作
2025-08-22 17:06:07,439 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607439714 中的操作 1/1
2025-08-22 17:06:07,442 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607439714 提交成功
2025-08-22 17:06:07,443 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607443158，包含 1 个操作
2025-08-22 17:06:07,443 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607443158 中的操作 1/1
2025-08-22 17:06:07,446 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607443158 提交成功
2025-08-22 17:06:07,446 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607446239，包含 1 个操作
2025-08-22 17:06:07,446 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607446239 中的操作 1/1
2025-08-22 17:06:07,450 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607446239 提交成功
2025-08-22 17:06:07,451 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607451060，包含 1 个操作
2025-08-22 17:06:07,451 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607451060 中的操作 1/1
2025-08-22 17:06:07,456 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607451060 提交成功
2025-08-22 17:06:07,457 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607457003，包含 1 个操作
2025-08-22 17:06:07,457 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607457003 中的操作 1/1
2025-08-22 17:06:07,465 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607457003 提交成功
2025-08-22 17:06:07,465 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607465688，包含 1 个操作
2025-08-22 17:06:07,465 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607465688 中的操作 1/1
2025-08-22 17:06:07,468 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607465688 执行失败: 用户已有该餐次的有效订单 1
2025-08-22 17:06:07,468 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607465688 已回滚
2025-08-22 17:06:07,471 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,476 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,476 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,478 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607478457，包含 1 个操作
2025-08-22 17:06:07,478 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607478457 中的操作 1/1
2025-08-22 17:06:07,481 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607478457 提交成功
2025-08-22 17:06:07,482 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607482728，包含 1 个操作
2025-08-22 17:06:07,482 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607482728 中的操作 1/1
2025-08-22 17:06:07,485 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607482728 提交成功
2025-08-22 17:06:07,486 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607486201，包含 1 个操作
2025-08-22 17:06:07,486 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607486201 中的操作 1/1
2025-08-22 17:06:07,490 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607486201 提交成功
2025-08-22 17:06:07,490 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607490647，包含 1 个操作
2025-08-22 17:06:07,490 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607490647 中的操作 1/1
2025-08-22 17:06:07,494 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607490647 提交成功
2025-08-22 17:06:07,501 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,505 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,506 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,507 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607507817，包含 1 个操作
2025-08-22 17:06:07,508 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607507817 中的操作 1/1
2025-08-22 17:06:07,511 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607507817 提交成功
2025-08-22 17:06:07,512 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607512426，包含 1 个操作
2025-08-22 17:06:07,512 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607512426 中的操作 1/1
2025-08-22 17:06:07,515 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607512426 提交成功
2025-08-22 17:06:07,515 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607515286，包含 1 个操作
2025-08-22 17:06:07,515 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607515286 中的操作 1/1
2025-08-22 17:06:07,519 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607515286 提交成功
2025-08-22 17:06:07,519 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607519496，包含 1 个操作
2025-08-22 17:06:07,519 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607519496 中的操作 1/1
2025-08-22 17:06:07,522 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607519496 提交成功
2025-08-22 17:06:07,522 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607522858，包含 1 个操作
2025-08-22 17:06:07,523 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607522858 中的操作 1/1
2025-08-22 17:06:07,528 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607522858 提交成功
2025-08-22 17:06:07,528 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607528523，包含 1 个操作
2025-08-22 17:06:07,528 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607528523 中的操作 1/1
2025-08-22 17:06:07,537 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607528523 提交成功
2025-08-22 17:06:07,543 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,548 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,548 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,550 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607550507，包含 1 个操作
2025-08-22 17:06:07,550 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607550507 中的操作 1/1
2025-08-22 17:06:07,553 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607550507 提交成功
2025-08-22 17:06:07,554 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607554468，包含 1 个操作
2025-08-22 17:06:07,554 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607554468 中的操作 1/1
2025-08-22 17:06:07,557 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607554468 提交成功
2025-08-22 17:06:07,557 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607557918，包含 1 个操作
2025-08-22 17:06:07,558 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607557918 中的操作 1/1
2025-08-22 17:06:07,560 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607557918 提交成功
2025-08-22 17:06:07,560 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607560873，包含 1 个操作
2025-08-22 17:06:07,561 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607560873 中的操作 1/1
2025-08-22 17:06:07,564 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607560873 提交成功
2025-08-22 17:06:07,565 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607565279，包含 1 个操作
2025-08-22 17:06:07,565 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607565279 中的操作 1/1
2025-08-22 17:06:07,570 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607565279 提交成功
2025-08-22 17:06:07,570 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607570800，包含 1 个操作
2025-08-22 17:06:07,570 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607570800 中的操作 1/1
2025-08-22 17:06:07,579 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607570800 提交成功
2025-08-22 17:06:07,585 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,590 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,591 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,593 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607593044，包含 1 个操作
2025-08-22 17:06:07,593 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607593044 中的操作 1/1
2025-08-22 17:06:07,596 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607593044 提交成功
2025-08-22 17:06:07,596 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607596769，包含 1 个操作
2025-08-22 17:06:07,596 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607596769 中的操作 1/1
2025-08-22 17:06:07,599 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607596769 提交成功
2025-08-22 17:06:07,600 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607600858，包含 1 个操作
2025-08-22 17:06:07,601 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607600858 中的操作 1/1
2025-08-22 17:06:07,604 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607600858 提交成功
2025-08-22 17:06:07,604 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607604280，包含 1 个操作
2025-08-22 17:06:07,604 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607604280 中的操作 1/1
2025-08-22 17:06:07,608 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607604280 提交成功
2025-08-22 17:06:07,613 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,617 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,617 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,619 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607619620，包含 1 个操作
2025-08-22 17:06:07,619 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607619620 中的操作 1/1
2025-08-22 17:06:07,623 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607619620 提交成功
2025-08-22 17:06:07,624 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607624172，包含 1 个操作
2025-08-22 17:06:07,624 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607624172 中的操作 1/1
2025-08-22 17:06:07,627 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607624172 提交成功
2025-08-22 17:06:07,627 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607627559，包含 1 个操作
2025-08-22 17:06:07,627 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607627559 中的操作 1/1
2025-08-22 17:06:07,633 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607627559 提交成功
2025-08-22 17:06:07,633 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607633460，包含 1 个操作
2025-08-22 17:06:07,633 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607633460 中的操作 1/1
2025-08-22 17:06:07,638 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607633460 提交成功
2025-08-22 17:06:07,646 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,651 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,651 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,653 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607653463，包含 1 个操作
2025-08-22 17:06:07,653 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607653463 中的操作 1/1
2025-08-22 17:06:07,657 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607653463 提交成功
2025-08-22 17:06:07,658 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607658118，包含 1 个操作
2025-08-22 17:06:07,658 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607658118 中的操作 1/1
2025-08-22 17:06:07,661 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607658118 提交成功
2025-08-22 17:06:07,661 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607661566，包含 1 个操作
2025-08-22 17:06:07,661 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607661566 中的操作 1/1
2025-08-22 17:06:07,664 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607661566 提交成功
2025-08-22 17:06:07,664 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607664498，包含 1 个操作
2025-08-22 17:06:07,664 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607664498 中的操作 1/1
2025-08-22 17:06:07,668 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607664498 提交成功
2025-08-22 17:06:07,669 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607669158，包含 1 个操作
2025-08-22 17:06:07,669 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607669158 中的操作 1/1
2025-08-22 17:06:07,675 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607669158 提交成功
2025-08-22 17:06:07,675 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607675121，包含 1 个操作
2025-08-22 17:06:07,675 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607675121 中的操作 1/1
2025-08-22 17:06:07,684 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607675121 提交成功
2025-08-22 17:06:07,688 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,692 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,693 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,695 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607695062，包含 1 个操作
2025-08-22 17:06:07,695 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607695062 中的操作 1/1
2025-08-22 17:06:07,697 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607695062 提交成功
2025-08-22 17:06:07,698 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607698801，包含 1 个操作
2025-08-22 17:06:07,698 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607698801 中的操作 1/1
2025-08-22 17:06:07,701 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607698801 提交成功
2025-08-22 17:06:07,702 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607702183，包含 1 个操作
2025-08-22 17:06:07,702 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607702183 中的操作 1/1
2025-08-22 17:06:07,708 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607702183 提交成功
2025-08-22 17:06:07,708 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607708436，包含 1 个操作
2025-08-22 17:06:07,708 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607708436 中的操作 1/1
2025-08-22 17:06:07,714 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607708436 提交成功
2025-08-22 17:06:07,717 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,722 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,722 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,724 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607724260，包含 1 个操作
2025-08-22 17:06:07,724 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607724260 中的操作 1/1
2025-08-22 17:06:07,727 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607724260 提交成功
2025-08-22 17:06:07,728 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607728113，包含 1 个操作
2025-08-22 17:06:07,728 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607728113 中的操作 1/1
2025-08-22 17:06:07,731 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607728113 提交成功
2025-08-22 17:06:07,731 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607731384，包含 1 个操作
2025-08-22 17:06:07,731 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607731384 中的操作 1/1
2025-08-22 17:06:07,733 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607731384 提交成功
2025-08-22 17:06:07,734 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607734165，包含 1 个操作
2025-08-22 17:06:07,734 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607734165 中的操作 1/1
2025-08-22 17:06:07,738 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607734165 提交成功
2025-08-22 17:06:07,738 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607738552，包含 1 个操作
2025-08-22 17:06:07,738 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607738552 中的操作 1/1
2025-08-22 17:06:07,744 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607738552 提交成功
2025-08-22 17:06:07,744 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607744387，包含 1 个操作
2025-08-22 17:06:07,744 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607744387 中的操作 1/1
2025-08-22 17:06:07,753 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607744387 提交成功
2025-08-22 17:06:07,760 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,764 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,765 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,767 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607767009，包含 1 个操作
2025-08-22 17:06:07,767 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607767009 中的操作 1/1
2025-08-22 17:06:07,769 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607767009 提交成功
2025-08-22 17:06:07,770 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607770698，包含 1 个操作
2025-08-22 17:06:07,770 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607770698 中的操作 1/1
2025-08-22 17:06:07,773 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607770698 提交成功
2025-08-22 17:06:07,773 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607773970，包含 1 个操作
2025-08-22 17:06:07,774 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607773970 中的操作 1/1
2025-08-22 17:06:07,778 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607773970 提交成功
2025-08-22 17:06:07,778 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607778203，包含 1 个操作
2025-08-22 17:06:07,778 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607778203 中的操作 1/1
2025-08-22 17:06:07,782 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607778203 提交成功
2025-08-22 17:06:07,782 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607782361，包含 1 个操作
2025-08-22 17:06:07,782 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607782361 中的操作 1/1
2025-08-22 17:06:07,786 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607782361 提交成功
2025-08-22 17:06:07,786 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607786846，包含 1 个操作
2025-08-22 17:06:07,786 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607786846 中的操作 1/1
2025-08-22 17:06:07,791 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607786846 提交成功
2025-08-22 17:06:07,791 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607791140，包含 1 个操作
2025-08-22 17:06:07,791 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607791140 中的操作 1/1
2025-08-22 17:06:07,795 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607791140 提交成功
2025-08-22 17:06:07,802 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,806 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,807 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,810 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,815 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,815 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,818 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,822 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,823 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,825 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,829 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,830 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,832 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607832011，包含 1 个操作
2025-08-22 17:06:07,832 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607832011 中的操作 1/1
2025-08-22 17:06:07,835 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607832011 提交成功
2025-08-22 17:06:07,836 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,840 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,841 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,842 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607842868，包含 1 个操作
2025-08-22 17:06:07,843 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607842868 中的操作 1/1
2025-08-22 17:06:07,846 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607842868 提交成功
2025-08-22 17:06:07,846 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607846231，包含 1 个操作
2025-08-22 17:06:07,846 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607846231 中的操作 1/1
2025-08-22 17:06:07,847 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607846231 执行失败: 用户OpenID duplicate_test 已存在
2025-08-22 17:06:07,847 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607846231 已回滚
2025-08-22 17:06:07,848 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,852 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,853 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,855 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607855113，包含 1 个操作
2025-08-22 17:06:07,855 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607855113 中的操作 1/1
2025-08-22 17:06:07,857 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607855113 提交成功
2025-08-22 17:06:07,858 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607858002，包含 1 个操作
2025-08-22 17:06:07,858 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607858002 中的操作 1/1
2025-08-22 17:06:07,862 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607858002 提交成功
2025-08-22 17:06:07,864 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,868 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,869 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,870 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607870753，包含 1 个操作
2025-08-22 17:06:07,870 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607870753 中的操作 1/1
2025-08-22 17:06:07,871 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607870753 提交成功
2025-08-22 17:06:07,872 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,876 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,877 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,878 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607878609，包含 1 个操作
2025-08-22 17:06:07,878 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607878609 中的操作 1/1
2025-08-22 17:06:07,881 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607878609 提交成功
2025-08-22 17:06:07,883 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,887 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,888 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,891 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,895 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,895 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,897 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607897401，包含 1 个操作
2025-08-22 17:06:07,897 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607897401 中的操作 1/1
2025-08-22 17:06:07,900 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607897401 提交成功
2025-08-22 17:06:07,901 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607901543，包含 1 个操作
2025-08-22 17:06:07,901 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607901543 中的操作 1/1
2025-08-22 17:06:07,904 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607901543 提交成功
2025-08-22 17:06:07,904 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607904824，包含 1 个操作
2025-08-22 17:06:07,904 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607904824 中的操作 1/1
2025-08-22 17:06:07,907 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607904824 提交成功
2025-08-22 17:06:07,908 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607908077，包含 1 个操作
2025-08-22 17:06:07,908 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607908077 中的操作 1/1
2025-08-22 17:06:07,910 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607908077 提交成功
2025-08-22 17:06:07,911 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,916 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,916 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,918 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607918240，包含 1 个操作
2025-08-22 17:06:07,918 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607918240 中的操作 1/1
2025-08-22 17:06:07,921 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607918240 提交成功
2025-08-22 17:06:07,922 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607922785，包含 1 个操作
2025-08-22 17:06:07,922 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607922785 中的操作 1/1
2025-08-22 17:06:07,926 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607922785 提交成功
2025-08-22 17:06:07,926 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607926481，包含 1 个操作
2025-08-22 17:06:07,926 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607926481 中的操作 1/1
2025-08-22 17:06:07,927 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607926481 提交成功
2025-08-22 17:06:07,929 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,933 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,934 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,935 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607935692，包含 1 个操作
2025-08-22 17:06:07,935 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607935692 中的操作 1/1
2025-08-22 17:06:07,938 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607935692 提交成功
2025-08-22 17:06:07,939 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607939720，包含 1 个操作
2025-08-22 17:06:07,939 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607939720 中的操作 1/1
2025-08-22 17:06:07,942 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607939720 提交成功
2025-08-22 17:06:07,943 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607943233，包含 1 个操作
2025-08-22 17:06:07,943 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607943233 中的操作 1/1
2025-08-22 17:06:07,945 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607943233 提交成功
2025-08-22 17:06:07,946 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607946674，包含 1 个操作
2025-08-22 17:06:07,946 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607946674 中的操作 1/1
2025-08-22 17:06:07,949 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607946674 提交成功
2025-08-22 17:06:07,950 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,955 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,955 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,957 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607957113，包含 1 个操作
2025-08-22 17:06:07,957 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607957113 中的操作 1/1
2025-08-22 17:06:07,960 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607957113 提交成功
2025-08-22 17:06:07,961 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607961560，包含 1 个操作
2025-08-22 17:06:07,961 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607961560 中的操作 1/1
2025-08-22 17:06:07,963 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607961560 执行失败: 管理员不能停用自己的账户
2025-08-22 17:06:07,963 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607961560 已回滚
2025-08-22 17:06:07,964 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,968 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,969 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,970 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607970727，包含 1 个操作
2025-08-22 17:06:07,970 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607970727 中的操作 1/1
2025-08-22 17:06:07,973 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607970727 提交成功
2025-08-22 17:06:07,974 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607974269，包含 1 个操作
2025-08-22 17:06:07,974 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607974269 中的操作 1/1
2025-08-22 17:06:07,977 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607974269 提交成功
2025-08-22 17:06:07,977 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607977498，包含 1 个操作
2025-08-22 17:06:07,977 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607977498 中的操作 1/1
2025-08-22 17:06:07,978 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170607977498 执行失败: 操作用户不是管理员或账户已停用
2025-08-22 17:06:07,978 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170607977498 已回滚
2025-08-22 17:06:07,979 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:07,984 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:07,984 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:07,986 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607986162，包含 1 个操作
2025-08-22 17:06:07,986 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607986162 中的操作 1/1
2025-08-22 17:06:07,989 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607986162 提交成功
2025-08-22 17:06:07,990 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170607990496，包含 1 个操作
2025-08-22 17:06:07,990 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170607990496 中的操作 1/1
2025-08-22 17:06:07,993 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170607990496 提交成功
2025-08-22 17:06:07,997 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,001 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,002 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,003 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608003660，包含 1 个操作
2025-08-22 17:06:08,003 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608003660 中的操作 1/1
2025-08-22 17:06:08,006 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608003660 提交成功
2025-08-22 17:06:08,012 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,017 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,018 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,019 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608019844，包含 1 个操作
2025-08-22 17:06:08,020 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608019844 中的操作 1/1
2025-08-22 17:06:08,023 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608019844 提交成功
2025-08-22 17:06:08,024 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608024251，包含 1 个操作
2025-08-22 17:06:08,024 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608024251 中的操作 1/1
2025-08-22 17:06:08,027 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608024251 提交成功
2025-08-22 17:06:08,028 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608028049，包含 1 个操作
2025-08-22 17:06:08,028 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608028049 中的操作 1/1
2025-08-22 17:06:08,030 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608028049 提交成功
2025-08-22 17:06:08,036 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,040 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,041 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,043 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608043041，包含 1 个操作
2025-08-22 17:06:08,043 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608043041 中的操作 1/1
2025-08-22 17:06:08,045 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608043041 提交成功
2025-08-22 17:06:08,045 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608045961，包含 1 个操作
2025-08-22 17:06:08,046 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608045961 中的操作 1/1
2025-08-22 17:06:08,048 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608045961 提交成功
2025-08-22 17:06:08,048 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608048926，包含 1 个操作
2025-08-22 17:06:08,049 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608048926 中的操作 1/1
2025-08-22 17:06:08,051 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608048926 提交成功
2025-08-22 17:06:08,051 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608051848，包含 1 个操作
2025-08-22 17:06:08,051 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608051848 中的操作 1/1
2025-08-22 17:06:08,054 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608051848 提交成功
2025-08-22 17:06:08,054 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608054736，包含 1 个操作
2025-08-22 17:06:08,054 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608054736 中的操作 1/1
2025-08-22 17:06:08,057 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608054736 提交成功
2025-08-22 17:06:08,060 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,064 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,065 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,066 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608066905，包含 1 个操作
2025-08-22 17:06:08,067 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608066905 中的操作 1/1
2025-08-22 17:06:08,067 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170608066905 执行失败: 微信OpenID不能为空
2025-08-22 17:06:08,067 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170608066905 已回滚
2025-08-22 17:06:08,068 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,072 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,072 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,074 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608074452，包含 1 个操作
2025-08-22 17:06:08,074 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608074452 中的操作 1/1
2025-08-22 17:06:08,074 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170608074452 执行失败: 微信昵称长度不能超过100字符
2025-08-22 17:06:08,074 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170608074452 已回滚
2025-08-22 17:06:08,075 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,079 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,080 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,081 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608081832，包含 1 个操作
2025-08-22 17:06:08,082 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608081832 中的操作 1/1
2025-08-22 17:06:08,085 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608081832 提交成功
2025-08-22 17:06:08,086 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608086604，包含 1 个操作
2025-08-22 17:06:08,086 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608086604 中的操作 1/1
2025-08-22 17:06:08,089 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170608086604 提交成功
2025-08-22 17:06:08,090 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170608090302，包含 1 个操作
2025-08-22 17:06:08,090 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170608090302 中的操作 1/1
2025-08-22 17:06:08,091 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250822170608090302 执行失败: 状态值必须为 active 或 suspended
2025-08-22 17:06:08,091 - DatabaseManager - INFO - [manager.py:164] - 事务 20250822170608090302 已回滚
2025-08-22 17:06:08,093 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,097 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-22 17:06:08,097 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:08,100 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:08,874 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:06:08,897 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-22 17:06:08,897 - api.main - INFO - [main.py:35] - 环境: development
2025-08-22 17:06:08,897 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-22 17:06:08,898 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-22 17:06:13,894 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-22 17:06:14,041 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,042 - api.middleware.logging - INFO - [logging.py:31] - [7a13f5cf] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,052 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,053 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,054 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,054 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,054 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,054 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614054954，包含 1 个操作
2025-08-22 17:06:14,055 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614054954 中的操作 1/1
2025-08-22 17:06:14,073 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614054954 提交成功
2025-08-22 17:06:14,073 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,074 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,075 - api.middleware.logging - INFO - [logging.py:44] - [7a13f5cf] 200 - Time: 0.033s
2025-08-22 17:06:14,109 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,113 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,142 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,143 - api.middleware.logging - INFO - [logging.py:31] - [070893c2] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,151 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,152 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,152 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,152 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,152 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,152 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614152940，包含 1 个操作
2025-08-22 17:06:14,153 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614152940 中的操作 1/1
2025-08-22 17:06:14,161 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614152940 提交成功
2025-08-22 17:06:14,161 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,162 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,162 - api.middleware.logging - INFO - [logging.py:44] - [070893c2] 200 - Time: 0.019s
2025-08-22 17:06:14,173 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,177 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,182 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,183 - api.middleware.logging - INFO - [logging.py:31] - [72e81262] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,191 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,194 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,195 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,195 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,195 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:14,195 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614195759，包含 1 个操作
2025-08-22 17:06:14,196 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614195759 中的操作 1/1
2025-08-22 17:06:14,206 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614195759 提交成功
2025-08-22 17:06:14,207 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:14,207 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,208 - api.middleware.logging - INFO - [logging.py:44] - [72e81262] 200 - Time: 0.025s
2025-08-22 17:06:14,229 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,231 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,237 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,238 - api.middleware.logging - INFO - [logging.py:31] - [a5d052bd] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,247 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,248 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,248 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,248 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,248 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,249 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614248980，包含 1 个操作
2025-08-22 17:06:14,249 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614248980 中的操作 1/1
2025-08-22 17:06:14,259 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614248980 提交成功
2025-08-22 17:06:14,259 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,259 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,260 - api.middleware.logging - INFO - [logging.py:44] - [a5d052bd] 200 - Time: 0.023s
2025-08-22 17:06:14,274 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,276 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,281 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,282 - api.middleware.logging - INFO - [logging.py:31] - [fa4dd808] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,291 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,292 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,292 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,292 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,292 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,293 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614293092，包含 1 个操作
2025-08-22 17:06:14,293 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614293092 中的操作 1/1
2025-08-22 17:06:14,302 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614293092 提交成功
2025-08-22 17:06:14,302 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,302 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,303 - api.middleware.logging - INFO - [logging.py:44] - [fa4dd808] 200 - Time: 0.021s
2025-08-22 17:06:14,320 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,322 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,328 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,329 - api.middleware.logging - INFO - [logging.py:31] - [185db873] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,337 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,337 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,338 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,338 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,338 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,338 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614338883，包含 1 个操作
2025-08-22 17:06:14,339 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614338883 中的操作 1/1
2025-08-22 17:06:14,348 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614338883 提交成功
2025-08-22 17:06:14,348 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,348 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,349 - api.middleware.logging - INFO - [logging.py:44] - [185db873] 200 - Time: 0.021s
2025-08-22 17:06:14,368 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,371 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,376 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,377 - api.middleware.logging - INFO - [logging.py:31] - [db849fb9] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,385 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,386 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,386 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,386 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,386 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,387 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614386986，包含 1 个操作
2025-08-22 17:06:14,387 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614386986 中的操作 1/1
2025-08-22 17:06:14,396 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614386986 提交成功
2025-08-22 17:06:14,396 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,397 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,398 - api.middleware.logging - INFO - [logging.py:44] - [db849fb9] 200 - Time: 0.021s
2025-08-22 17:06:14,422 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,424 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,429 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,430 - api.middleware.logging - INFO - [logging.py:31] - [be4f22b2] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,440 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,441 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,441 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,441 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,442 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,442 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614442157，包含 1 个操作
2025-08-22 17:06:14,442 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614442157 中的操作 1/1
2025-08-22 17:06:14,451 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614442157 提交成功
2025-08-22 17:06:14,451 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,451 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,452 - api.middleware.logging - INFO - [logging.py:44] - [be4f22b2] 200 - Time: 0.021s
2025-08-22 17:06:14,475 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,478 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,483 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,484 - api.middleware.logging - INFO - [logging.py:31] - [461149d9] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,494 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,495 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,495 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,496 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,496 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,496 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614496297，包含 1 个操作
2025-08-22 17:06:14,496 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614496297 中的操作 1/1
2025-08-22 17:06:14,505 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614496297 提交成功
2025-08-22 17:06:14,505 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,505 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,506 - api.middleware.logging - INFO - [logging.py:44] - [461149d9] 200 - Time: 0.022s
2025-08-22 17:06:14,540 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,543 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,548 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,549 - api.middleware.logging - INFO - [logging.py:31] - [09b2e9a8] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,558 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,559 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,559 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,560 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,560 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,560 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614560422，包含 1 个操作
2025-08-22 17:06:14,560 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614560422 中的操作 1/1
2025-08-22 17:06:14,572 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614560422 提交成功
2025-08-22 17:06:14,572 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,572 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,597 - api.middleware.logging - INFO - [logging.py:44] - [09b2e9a8] 200 - Time: 0.048s
2025-08-22 17:06:14,598 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,600 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,605 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,607 - api.middleware.logging - INFO - [logging.py:31] - [3793bf1b] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,617 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,618 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,618 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,618 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,619 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,619 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614619110，包含 1 个操作
2025-08-22 17:06:14,619 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614619110 中的操作 1/1
2025-08-22 17:06:14,647 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614619110 提交成功
2025-08-22 17:06:14,647 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,647 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,648 - api.middleware.logging - INFO - [logging.py:44] - [3793bf1b] 200 - Time: 0.041s
2025-08-22 17:06:14,689 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,691 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,696 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,697 - api.middleware.logging - INFO - [logging.py:31] - [9488db00] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,707 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,707 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,708 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,708 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,708 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,708 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614708580，包含 1 个操作
2025-08-22 17:06:14,708 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614708580 中的操作 1/1
2025-08-22 17:06:14,717 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614708580 提交成功
2025-08-22 17:06:14,717 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,717 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,718 - api.middleware.logging - INFO - [logging.py:44] - [9488db00] 200 - Time: 0.021s
2025-08-22 17:06:14,762 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,765 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,771 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,772 - api.middleware.logging - INFO - [logging.py:31] - [77da004e] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,782 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,783 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,784 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,784 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,784 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,784 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614784827，包含 1 个操作
2025-08-22 17:06:14,785 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614784827 中的操作 1/1
2025-08-22 17:06:14,794 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614784827 提交成功
2025-08-22 17:06:14,794 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,795 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,796 - api.middleware.logging - INFO - [logging.py:44] - [77da004e] 200 - Time: 0.024s
2025-08-22 17:06:14,808 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,811 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,816 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,817 - api.middleware.logging - INFO - [logging.py:31] - [18541fc5] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,827 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,828 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,828 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,828 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,828 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,829 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614829000，包含 1 个操作
2025-08-22 17:06:14,829 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614829000 中的操作 1/1
2025-08-22 17:06:14,838 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614829000 提交成功
2025-08-22 17:06:14,838 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,838 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,839 - api.middleware.logging - INFO - [logging.py:44] - [18541fc5] 200 - Time: 0.022s
2025-08-22 17:06:14,851 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,854 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,859 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,860 - api.middleware.logging - INFO - [logging.py:31] - [4956be7c] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,869 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,870 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,870 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,871 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,871 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:14,871 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614871342，包含 1 个操作
2025-08-22 17:06:14,871 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614871342 中的操作 1/1
2025-08-22 17:06:14,879 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614871342 提交成功
2025-08-22 17:06:14,880 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:14,880 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,881 - api.middleware.logging - INFO - [logging.py:44] - [4956be7c] 200 - Time: 0.020s
2025-08-22 17:06:14,893 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,895 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,901 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,902 - api.middleware.logging - INFO - [logging.py:31] - [3a884609] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,910 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,911 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,911 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,911 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,912 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:14,912 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614912152，包含 1 个操作
2025-08-22 17:06:14,912 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614912152 中的操作 1/1
2025-08-22 17:06:14,922 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614912152 提交成功
2025-08-22 17:06:14,922 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:14,922 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,923 - api.middleware.logging - INFO - [logging.py:44] - [3a884609] 200 - Time: 0.022s
2025-08-22 17:06:14,937 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:14,940 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:14,945 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,947 - api.middleware.logging - INFO - [logging.py:31] - [6546ae9b] GET /api/admin/users - Client: testclient
2025-08-22 17:06:14,948 - api.middleware.logging - INFO - [logging.py:44] - [6546ae9b] 403 - Time: 0.002s
2025-08-22 17:06:14,950 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:14,956 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:14,957 - api.middleware.logging - INFO - [logging.py:31] - [4835f3aa] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:14,967 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:14,968 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:14,968 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:14,969 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:14,969 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_12345
2025-08-22 17:06:14,969 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170614969244，包含 1 个操作
2025-08-22 17:06:14,969 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170614969244 中的操作 1/1
2025-08-22 17:06:14,978 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170614969244 提交成功
2025-08-22 17:06:14,978 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_dd26c0e17bf6adba)
2025-08-22 17:06:14,979 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:14,980 - api.middleware.logging - INFO - [logging.py:44] - [4835f3aa] 200 - Time: 0.022s
2025-08-22 17:06:15,019 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,022 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,026 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,026 - api.middleware.logging - INFO - [logging.py:31] - [5ba274cb] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,034 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,035 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,036 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,037 - api.middleware.logging - INFO - [logging.py:44] - [5ba274cb] 422 - Time: 0.011s
2025-08-22 17:06:15,039 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-22 17:06:15,041 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,041 - api.middleware.logging - INFO - [logging.py:31] - [aedec058] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,051 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,051 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,052 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,052 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,052 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_refresh
2025-08-22 17:06:15,052 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615052630，包含 1 个操作
2025-08-22 17:06:15,052 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615052630 中的操作 1/1
2025-08-22 17:06:15,062 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615052630 提交成功
2025-08-22 17:06:15,062 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_04d7fd42b15ab205)
2025-08-22 17:06:15,062 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,063 - api.middleware.logging - INFO - [logging.py:44] - [aedec058] 200 - Time: 0.022s
2025-08-22 17:06:15,091 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,094 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,099 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,100 - api.middleware.logging - INFO - [logging.py:31] - [4725f3f8] POST /api/auth/refresh - Client: testclient
2025-08-22 17:06:15,108 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,108 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,109 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: module 'jwt' has no attribute 'JWTError'
2025-08-22 17:06:15,110 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,112 - api.middleware.logging - INFO - [logging.py:44] - [4725f3f8] 401 - Time: 0.012s
2025-08-22 17:06:15,114 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 401 Unauthorized"
2025-08-22 17:06:15,115 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,116 - api.middleware.logging - INFO - [logging.py:31] - [cd47bcc5] POST /api/auth/refresh - Client: testclient
2025-08-22 17:06:15,118 - api.middleware.logging - INFO - [logging.py:44] - [cd47bcc5] 403 - Time: 0.002s
2025-08-22 17:06:15,119 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:15,123 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,124 - api.middleware.logging - INFO - [logging.py:31] - [93d84425] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,132 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,132 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,133 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,133 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,133 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_valid
2025-08-22 17:06:15,133 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615133749，包含 1 个操作
2025-08-22 17:06:15,134 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615133749 中的操作 1/1
2025-08-22 17:06:15,145 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615133749 提交成功
2025-08-22 17:06:15,145 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_77cce12ce5eed027)
2025-08-22 17:06:15,145 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,146 - api.middleware.logging - INFO - [logging.py:44] - [93d84425] 200 - Time: 0.022s
2025-08-22 17:06:15,165 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,168 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,171 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,172 - api.middleware.logging - INFO - [logging.py:31] - [73a6a6ec] GET /api/users/profile - Client: testclient
2025-08-22 17:06:15,182 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,183 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,183 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: module 'jwt' has no attribute 'JWTError'
2025-08-22 17:06:15,185 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,186 - api.middleware.logging - INFO - [logging.py:44] - [73a6a6ec] 401 - Time: 0.014s
2025-08-22 17:06:15,188 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 401 Unauthorized"
2025-08-22 17:06:15,190 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,190 - api.middleware.logging - INFO - [logging.py:31] - [8587ab99] GET /api/users/profile - Client: testclient
2025-08-22 17:06:15,192 - api.middleware.logging - INFO - [logging.py:44] - [8587ab99] 403 - Time: 0.001s
2025-08-22 17:06:15,193 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:15,197 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,198 - api.middleware.logging - INFO - [logging.py:31] - [f2d9a623] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,208 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,209 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,209 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,209 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,209 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,210 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615210071，包含 1 个操作
2025-08-22 17:06:15,210 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615210071 中的操作 1/1
2025-08-22 17:06:15,220 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615210071 提交成功
2025-08-22 17:06:15,220 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,220 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,221 - api.middleware.logging - INFO - [logging.py:44] - [f2d9a623] 200 - Time: 0.023s
2025-08-22 17:06:15,237 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,239 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,244 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,245 - api.middleware.logging - INFO - [logging.py:31] - [d703dbaa] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,255 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,256 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,256 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,256 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,256 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,256 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615256972，包含 1 个操作
2025-08-22 17:06:15,257 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615256972 中的操作 1/1
2025-08-22 17:06:15,266 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615256972 提交成功
2025-08-22 17:06:15,266 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,266 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,267 - api.middleware.logging - INFO - [logging.py:44] - [d703dbaa] 200 - Time: 0.022s
2025-08-22 17:06:15,281 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,284 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,290 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,291 - api.middleware.logging - INFO - [logging.py:31] - [bda7d624] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,300 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,301 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,301 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,301 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,301 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,302 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615302030，包含 1 个操作
2025-08-22 17:06:15,302 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615302030 中的操作 1/1
2025-08-22 17:06:15,311 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615302030 提交成功
2025-08-22 17:06:15,311 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,311 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,312 - api.middleware.logging - INFO - [logging.py:44] - [bda7d624] 200 - Time: 0.021s
2025-08-22 17:06:15,360 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,362 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,368 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,368 - api.middleware.logging - INFO - [logging.py:31] - [6f0cb6f1] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,376 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,377 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,378 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,378 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,378 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,378 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615378509，包含 1 个操作
2025-08-22 17:06:15,378 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615378509 中的操作 1/1
2025-08-22 17:06:15,387 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615378509 提交成功
2025-08-22 17:06:15,388 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,388 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,389 - api.middleware.logging - INFO - [logging.py:44] - [6f0cb6f1] 200 - Time: 0.020s
2025-08-22 17:06:15,404 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,407 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,412 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,413 - api.middleware.logging - INFO - [logging.py:31] - [b799a273] GET /api/meals - Client: testclient
2025-08-22 17:06:15,415 - api.middleware.logging - INFO - [logging.py:44] - [b799a273] 403 - Time: 0.002s
2025-08-22 17:06:15,416 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-01&end_date=2024-12-31 "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:15,421 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,422 - api.middleware.logging - INFO - [logging.py:31] - [40a23019] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,430 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,431 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,431 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,432 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,432 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,432 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615432254，包含 1 个操作
2025-08-22 17:06:15,432 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615432254 中的操作 1/1
2025-08-22 17:06:15,441 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615432254 提交成功
2025-08-22 17:06:15,442 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,442 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,443 - api.middleware.logging - INFO - [logging.py:44] - [40a23019] 200 - Time: 0.021s
2025-08-22 17:06:15,463 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,465 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,470 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,472 - api.middleware.logging - INFO - [logging.py:31] - [b91e09f4] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,480 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,480 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,481 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,481 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,481 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,481 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615481659，包含 1 个操作
2025-08-22 17:06:15,481 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615481659 中的操作 1/1
2025-08-22 17:06:15,492 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615481659 提交成功
2025-08-22 17:06:15,493 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,493 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,494 - api.middleware.logging - INFO - [logging.py:44] - [b91e09f4] 200 - Time: 0.022s
2025-08-22 17:06:15,507 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,509 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,515 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,515 - api.middleware.logging - INFO - [logging.py:31] - [0d4a8974] GET /api/meals/1 - Client: testclient
2025-08-22 17:06:15,517 - api.middleware.logging - INFO - [logging.py:44] - [0d4a8974] 403 - Time: 0.002s
2025-08-22 17:06:15,519 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1 "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:15,523 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,524 - api.middleware.logging - INFO - [logging.py:31] - [e8624e2c] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,534 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,535 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,535 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,535 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,535 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,536 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615536010，包含 1 个操作
2025-08-22 17:06:15,536 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615536010 中的操作 1/1
2025-08-22 17:06:15,546 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615536010 提交成功
2025-08-22 17:06:15,546 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,546 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,547 - api.middleware.logging - INFO - [logging.py:44] - [e8624e2c] 200 - Time: 0.023s
2025-08-22 17:06:15,559 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,561 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,567 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,568 - api.middleware.logging - INFO - [logging.py:31] - [2a0f1a78] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,576 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,577 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,578 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,578 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,578 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,578 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615578518，包含 1 个操作
2025-08-22 17:06:15,578 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615578518 中的操作 1/1
2025-08-22 17:06:15,587 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615578518 提交成功
2025-08-22 17:06:15,587 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,587 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,588 - api.middleware.logging - INFO - [logging.py:44] - [2a0f1a78] 200 - Time: 0.020s
2025-08-22 17:06:15,625 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,628 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,633 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,634 - api.middleware.logging - INFO - [logging.py:31] - [563e76d9] GET /api/meals/1/order - Client: testclient
2025-08-22 17:06:15,636 - api.middleware.logging - INFO - [logging.py:44] - [563e76d9] 404 - Time: 0.002s
2025-08-22 17:06:15,638 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1/order "HTTP/1.1 404 Not Found"
2025-08-22 17:06:15,641 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,642 - api.middleware.logging - INFO - [logging.py:31] - [aa3f6b0f] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,650 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,651 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,651 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,652 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,652 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,652 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615652334，包含 1 个操作
2025-08-22 17:06:15,652 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615652334 中的操作 1/1
2025-08-22 17:06:15,663 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615652334 提交成功
2025-08-22 17:06:15,663 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,663 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,664 - api.middleware.logging - INFO - [logging.py:44] - [aa3f6b0f] 200 - Time: 0.022s
2025-08-22 17:06:15,691 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,694 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,699 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,700 - api.middleware.logging - INFO - [logging.py:31] - [7edd3caf] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,713 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,714 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,714 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,714 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,714 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,714 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615714924，包含 1 个操作
2025-08-22 17:06:15,715 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615714924 中的操作 1/1
2025-08-22 17:06:15,727 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615714924 提交成功
2025-08-22 17:06:15,727 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,727 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,728 - api.middleware.logging - INFO - [logging.py:44] - [7edd3caf] 200 - Time: 0.028s
2025-08-22 17:06:15,755 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,757 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,762 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,763 - api.middleware.logging - INFO - [logging.py:31] - [23407b66] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,771 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,772 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,772 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,772 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,772 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,773 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615772994，包含 1 个操作
2025-08-22 17:06:15,773 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615772994 中的操作 1/1
2025-08-22 17:06:15,789 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615772994 提交成功
2025-08-22 17:06:15,789 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,789 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,790 - api.middleware.logging - INFO - [logging.py:44] - [23407b66] 200 - Time: 0.027s
2025-08-22 17:06:15,812 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,815 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,821 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,821 - api.middleware.logging - INFO - [logging.py:31] - [2cb9f575] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,831 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,832 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,833 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,833 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,833 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,833 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615833781，包含 1 个操作
2025-08-22 17:06:15,834 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615833781 中的操作 1/1
2025-08-22 17:06:15,844 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615833781 提交成功
2025-08-22 17:06:15,844 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,844 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,845 - api.middleware.logging - INFO - [logging.py:44] - [2cb9f575] 200 - Time: 0.023s
2025-08-22 17:06:15,863 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,866 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,871 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,873 - api.middleware.logging - INFO - [logging.py:31] - [63de0928] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,881 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,882 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,882 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,882 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,882 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,882 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615882958，包含 1 个操作
2025-08-22 17:06:15,883 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615882958 中的操作 1/1
2025-08-22 17:06:15,892 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615882958 提交成功
2025-08-22 17:06:15,892 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:15,892 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,893 - api.middleware.logging - INFO - [logging.py:44] - [63de0928] 200 - Time: 0.020s
2025-08-22 17:06:15,919 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,922 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,927 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,928 - api.middleware.logging - INFO - [logging.py:31] - [67508128] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,937 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,937 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,938 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,938 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,938 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-22 17:06:15,938 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615938576，包含 1 个操作
2025-08-22 17:06:15,938 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615938576 中的操作 1/1
2025-08-22 17:06:15,947 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615938576 提交成功
2025-08-22 17:06:15,947 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_3b77fd501946df1a)
2025-08-22 17:06:15,948 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:15,949 - api.middleware.logging - INFO - [logging.py:44] - [67508128] 200 - Time: 0.020s
2025-08-22 17:06:15,976 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:15,980 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:15,986 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:15,987 - api.middleware.logging - INFO - [logging.py:31] - [d5fa1fa8] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:15,995 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:15,996 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:15,997 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:15,997 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:15,997 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:15,997 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170615997560，包含 1 个操作
2025-08-22 17:06:15,998 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170615997560 中的操作 1/1
2025-08-22 17:06:16,012 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170615997560 提交成功
2025-08-22 17:06:16,012 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,013 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,013 - api.middleware.logging - INFO - [logging.py:44] - [d5fa1fa8] 200 - Time: 0.026s
2025-08-22 17:06:16,056 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,059 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,065 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,066 - api.middleware.logging - INFO - [logging.py:31] - [ecf69121] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,075 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,076 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,076 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,077 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,077 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,077 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616077359，包含 1 个操作
2025-08-22 17:06:16,077 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616077359 中的操作 1/1
2025-08-22 17:06:16,108 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616077359 提交成功
2025-08-22 17:06:16,109 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,109 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,110 - api.middleware.logging - INFO - [logging.py:44] - [ecf69121] 200 - Time: 0.044s
2025-08-22 17:06:16,137 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,140 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,145 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,146 - api.middleware.logging - INFO - [logging.py:31] - [47b5fd8d] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,155 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,156 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,156 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,157 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,157 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,157 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616157232，包含 1 个操作
2025-08-22 17:06:16,157 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616157232 中的操作 1/1
2025-08-22 17:06:16,166 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616157232 提交成功
2025-08-22 17:06:16,166 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,166 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,167 - api.middleware.logging - INFO - [logging.py:44] - [47b5fd8d] 200 - Time: 0.021s
2025-08-22 17:06:16,186 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,190 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,195 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,196 - api.middleware.logging - INFO - [logging.py:31] - [fbeb9111] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,205 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,206 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,207 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,207 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,207 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,207 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616207491，包含 1 个操作
2025-08-22 17:06:16,207 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616207491 中的操作 1/1
2025-08-22 17:06:16,217 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616207491 提交成功
2025-08-22 17:06:16,217 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,217 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,218 - api.middleware.logging - INFO - [logging.py:44] - [fbeb9111] 200 - Time: 0.021s
2025-08-22 17:06:16,233 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,235 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,243 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,244 - api.middleware.logging - INFO - [logging.py:31] - [6da95f28] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,255 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,255 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,256 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,256 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,256 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,256 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616256581，包含 1 个操作
2025-08-22 17:06:16,256 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616256581 中的操作 1/1
2025-08-22 17:06:16,266 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616256581 提交成功
2025-08-22 17:06:16,266 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,266 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,267 - api.middleware.logging - INFO - [logging.py:44] - [6da95f28] 200 - Time: 0.022s
2025-08-22 17:06:16,289 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,292 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,297 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,297 - api.middleware.logging - INFO - [logging.py:31] - [2c2785b2] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,305 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,306 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,307 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,307 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,307 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,307 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616307518，包含 1 个操作
2025-08-22 17:06:16,307 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616307518 中的操作 1/1
2025-08-22 17:06:16,316 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616307518 提交成功
2025-08-22 17:06:16,316 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,316 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,317 - api.middleware.logging - INFO - [logging.py:44] - [2c2785b2] 200 - Time: 0.019s
2025-08-22 17:06:16,340 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,343 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,348 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,349 - api.middleware.logging - INFO - [logging.py:31] - [eb7d7974] GET /api/orders/1 - Client: testclient
2025-08-22 17:06:16,350 - api.middleware.logging - INFO - [logging.py:44] - [eb7d7974] 405 - Time: 0.002s
2025-08-22 17:06:16,352 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/orders/1 "HTTP/1.1 405 Method Not Allowed"
2025-08-22 17:06:16,357 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,358 - api.middleware.logging - INFO - [logging.py:31] - [3b6dcb19] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,369 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,370 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,370 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,370 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,371 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,371 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616371169，包含 1 个操作
2025-08-22 17:06:16,371 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616371169 中的操作 1/1
2025-08-22 17:06:16,385 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616371169 提交成功
2025-08-22 17:06:16,385 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,385 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,386 - api.middleware.logging - INFO - [logging.py:44] - [3b6dcb19] 200 - Time: 0.028s
2025-08-22 17:06:16,424 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,427 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,432 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,433 - api.middleware.logging - INFO - [logging.py:31] - [559121c1] GET /api/users/profile - Client: testclient
2025-08-22 17:06:16,435 - api.middleware.logging - INFO - [logging.py:44] - [559121c1] 403 - Time: 0.001s
2025-08-22 17:06:16,436 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:16,441 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,442 - api.middleware.logging - INFO - [logging.py:31] - [bba84c7d] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,453 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,453 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,454 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,454 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,454 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,454 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616454772，包含 1 个操作
2025-08-22 17:06:16,455 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616454772 中的操作 1/1
2025-08-22 17:06:16,466 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616454772 提交成功
2025-08-22 17:06:16,466 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,466 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,467 - api.middleware.logging - INFO - [logging.py:44] - [bba84c7d] 200 - Time: 0.025s
2025-08-22 17:06:16,492 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,495 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,500 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,501 - api.middleware.logging - INFO - [logging.py:31] - [82c80017] GET /api/users/balance - Client: testclient
2025-08-22 17:06:16,502 - api.middleware.logging - INFO - [logging.py:44] - [82c80017] 404 - Time: 0.002s
2025-08-22 17:06:16,504 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/balance "HTTP/1.1 404 Not Found"
2025-08-22 17:06:16,508 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,509 - api.middleware.logging - INFO - [logging.py:31] - [34b08e6a] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,518 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,519 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,519 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,520 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,520 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,520 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616520281，包含 1 个操作
2025-08-22 17:06:16,520 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616520281 中的操作 1/1
2025-08-22 17:06:16,529 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616520281 提交成功
2025-08-22 17:06:16,529 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,529 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,530 - api.middleware.logging - INFO - [logging.py:44] - [34b08e6a] 200 - Time: 0.021s
2025-08-22 17:06:16,560 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,562 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,567 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,568 - api.middleware.logging - INFO - [logging.py:31] - [a2c3bfbf] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,580 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,581 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,582 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,582 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,582 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,582 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616582550，包含 1 个操作
2025-08-22 17:06:16,583 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616582550 中的操作 1/1
2025-08-22 17:06:16,592 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616582550 提交成功
2025-08-22 17:06:16,592 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,593 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,593 - api.middleware.logging - INFO - [logging.py:44] - [a2c3bfbf] 200 - Time: 0.025s
2025-08-22 17:06:16,635 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,638 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,643 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,644 - api.middleware.logging - INFO - [logging.py:31] - [c711cf42] GET /api/users/ledger - Client: testclient
2025-08-22 17:06:16,646 - api.middleware.logging - INFO - [logging.py:44] - [c711cf42] 403 - Time: 0.002s
2025-08-22 17:06:16,647 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/ledger "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:16,652 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,653 - api.middleware.logging - INFO - [logging.py:31] - [65c7448a] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,663 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,663 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,664 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,664 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,664 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,664 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616664739，包含 1 个操作
2025-08-22 17:06:16,665 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616664739 中的操作 1/1
2025-08-22 17:06:16,674 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616664739 提交成功
2025-08-22 17:06:16,674 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,674 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,675 - api.middleware.logging - INFO - [logging.py:44] - [65c7448a] 200 - Time: 0.022s
2025-08-22 17:06:16,705 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,708 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,713 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,714 - api.middleware.logging - INFO - [logging.py:31] - [82356b33] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,725 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,726 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,726 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,727 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,727 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,727 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616727306，包含 1 个操作
2025-08-22 17:06:16,727 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616727306 中的操作 1/1
2025-08-22 17:06:16,736 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616727306 提交成功
2025-08-22 17:06:16,736 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,736 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,737 - api.middleware.logging - INFO - [logging.py:44] - [82356b33] 200 - Time: 0.022s
2025-08-22 17:06:16,757 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,760 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,765 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,766 - api.middleware.logging - INFO - [logging.py:31] - [3ca14057] GET /api/users/orders - Client: testclient
2025-08-22 17:06:16,767 - api.middleware.logging - INFO - [logging.py:44] - [3ca14057] 403 - Time: 0.001s
2025-08-22 17:06:16,769 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/orders "HTTP/1.1 403 Forbidden"
2025-08-22 17:06:16,773 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,774 - api.middleware.logging - INFO - [logging.py:31] - [586525ad] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,785 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,786 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,786 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,786 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,787 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,787 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616787157，包含 1 个操作
2025-08-22 17:06:16,787 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616787157 中的操作 1/1
2025-08-22 17:06:16,796 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616787157 提交成功
2025-08-22 17:06:16,796 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,796 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,797 - api.middleware.logging - INFO - [logging.py:44] - [586525ad] 200 - Time: 0.023s
2025-08-22 17:06:16,810 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,813 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,819 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,819 - api.middleware.logging - INFO - [logging.py:31] - [9814c08d] POST /api/auth/wechat/login - Client: testclient
2025-08-22 17:06:16,830 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-22 17:06:16,830 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-22 17:06:16,831 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-22 17:06:16,831 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-22 17:06:16,831 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-22 17:06:16,831 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250822170616831566，包含 1 个操作
2025-08-22 17:06:16,831 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250822170616831566 中的操作 1/1
2025-08-22 17:06:16,841 - DatabaseManager - INFO - [manager.py:156] - 事务 20250822170616831566 提交成功
2025-08-22 17:06:16,841 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_520202aa9e114da5)
2025-08-22 17:06:16,842 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-22 17:06:16,842 - api.middleware.logging - INFO - [logging.py:44] - [9814c08d] 200 - Time: 0.023s
2025-08-22 17:06:16,867 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-22 17:06:16,870 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-22 17:06:16,875 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-22 17:06:16,876 - api.middleware.logging - INFO - [logging.py:31] - [3e4c01d8] GET /api/users/statistics/orders - Client: testclient
2025-08-22 17:06:16,878 - api.middleware.logging - INFO - [logging.py:44] - [3e4c01d8] 404 - Time: 0.002s
2025-08-22 17:06:16,880 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/statistics/orders "HTTP/1.1 404 Not Found"
2025-08-22 17:08:50,624 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 11:25:51,854 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 11:25:51,876 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 11:25:51,876 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 11:25:51,877 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 12:45:16,146 - api.middleware.logging - INFO - [logging.py:31] - [44f0cc9c] GET /api/v1/users/profile - Client: 127.0.0.1
2025-08-23 12:45:16,151 - api.middleware.logging - INFO - [logging.py:44] - [44f0cc9c] 404 - Time: 0.005s
2025-08-23 12:51:23,275 - api.middleware.logging - INFO - [logging.py:31] - [8cbce925] GET /api/v1/users/profile - Client: 127.0.0.1
2025-08-23 12:51:23,278 - api.middleware.logging - INFO - [logging.py:44] - [8cbce925] 404 - Time: 0.003s
2025-08-23 12:52:09,557 - api.middleware.logging - INFO - [logging.py:31] - [10cbb1d2] GET /api/v1/users/profile - Client: 127.0.0.1
2025-08-23 12:52:09,559 - api.middleware.logging - INFO - [logging.py:44] - [10cbb1d2] 404 - Time: 0.002s
2025-08-23 12:52:35,323 - api.middleware.logging - INFO - [logging.py:31] - [500edb02] GET /api/v1/users/profile - Client: 127.0.0.1
2025-08-23 12:52:35,325 - api.middleware.logging - INFO - [logging.py:44] - [500edb02] 404 - Time: 0.002s
2025-08-23 12:53:17,108 - api.middleware.logging - INFO - [logging.py:31] - [57f3c3cf] GET /api/v1/users/profile - Client: 127.0.0.1
2025-08-23 12:53:17,109 - api.middleware.logging - INFO - [logging.py:44] - [57f3c3cf] 404 - Time: 0.001s
2025-08-23 12:56:00,998 - api.middleware.logging - INFO - [logging.py:31] - [cf2af8c9] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 12:56:00,999 - api.middleware.logging - INFO - [logging.py:44] - [cf2af8c9] 404 - Time: 0.001s
2025-08-23 12:56:18,532 - api.middleware.logging - INFO - [logging.py:31] - [fd1d9c41] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 12:56:18,534 - api.middleware.logging - INFO - [logging.py:44] - [fd1d9c41] 404 - Time: 0.002s
2025-08-23 12:56:30,323 - api.middleware.logging - INFO - [logging.py:31] - [13def4c1] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 12:56:30,325 - api.middleware.logging - INFO - [logging.py:44] - [13def4c1] 404 - Time: 0.002s
2025-08-23 12:57:15,376 - api.middleware.logging - INFO - [logging.py:31] - [dfe3cf2d] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 12:57:15,378 - api.middleware.logging - INFO - [logging.py:44] - [dfe3cf2d] 404 - Time: 0.002s
2025-08-23 12:57:52,257 - api.middleware.logging - INFO - [logging.py:31] - [5097264b] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 12:57:52,260 - api.middleware.logging - INFO - [logging.py:44] - [5097264b] 404 - Time: 0.003s
2025-08-23 12:58:00,022 - api.middleware.logging - INFO - [logging.py:31] - [d29eee8d] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 12:58:00,024 - api.middleware.logging - INFO - [logging.py:44] - [d29eee8d] 404 - Time: 0.002s
2025-08-23 12:59:12,463 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 12:59:13,302 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 12:59:13,325 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 12:59:13,325 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 12:59:13,326 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:00:37,912 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:01:27,581 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:01:27,600 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:01:27,601 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:01:27,601 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:01:50,949 - api.middleware.logging - INFO - [logging.py:31] - [fa79d18a] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 13:01:50,958 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:01:50,959 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:01:50,960 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 13:01:50,964 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 13:01:50,964 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0d35XA100rvzQU10GO3004tTva35XA1w
2025-08-23 13:01:50,965 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823130150965341，包含 1 个操作
2025-08-23 13:01:50,965 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823130150965341 中的操作 1/1
2025-08-23 13:01:50,978 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823130150965341 提交成功
2025-08-23 13:01:50,984 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_5e632ec0395a4213)
2025-08-23 13:01:50,985 - api.auth.routes - ERROR - [routes.py:161] - 微信登录失败: 1 validation error for UserInfo
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-23 13:01:50,986 - api.middleware.logging - INFO - [logging.py:44] - [fa79d18a] 200 - Time: 0.038s
2025-08-23 13:01:50,997 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:02:37,519 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:02:38,318 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:02:38,337 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:02:38,338 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:02:38,338 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:02:47,597 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:03:40,898 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:03:40,919 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:03:40,919 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:03:40,919 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:03:49,016 - api.middleware.logging - INFO - [logging.py:31] - [0bf0a4af] POST /api/v1/auth/wechat/login - Client: 127.0.0.1
2025-08-23 13:03:49,025 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:03:49,026 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:03:49,028 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 13:03:49,028 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 13:03:49,029 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0d3oSu000y7tPU1yDh200Rm1iu4oSu0H
2025-08-23 13:03:49,029 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823130349029703，包含 1 个操作
2025-08-23 13:03:49,030 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823130349029703 中的操作 1/1
2025-08-23 13:03:49,047 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823130349029703 提交成功
2025-08-23 13:03:49,047 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_daae37be3aafc266)
2025-08-23 13:03:49,061 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:03:49,062 - api.middleware.logging - INFO - [logging.py:44] - [0bf0a4af] 200 - Time: 0.046s
2025-08-23 13:03:49,073 - api.middleware.logging - INFO - [logging.py:31] - [73b84eec] GET /api/v1/users/profile - Client: 127.0.0.1
2025-08-23 13:03:49,075 - api.middleware.logging - INFO - [logging.py:44] - [73b84eec] 404 - Time: 0.002s
2025-08-23 13:04:10,393 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:04:11,134 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:04:11,156 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:04:11,157 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:04:11,157 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:04:35,756 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:04:36,529 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:04:36,550 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:04:36,551 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:04:36,551 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:04:46,036 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:04:46,815 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:04:46,834 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:04:46,835 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:04:46,836 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:04:56,220 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:04:56,968 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:04:56,990 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:04:56,990 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:04:56,991 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:06:16,235 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:06:16,968 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:06:16,988 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:06:16,994 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:06:16,994 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:06:27,340 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:06:28,093 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:06:28,115 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:06:28,117 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:06:28,117 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:06:38,691 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:06:39,411 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:06:39,433 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:06:39,433 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:06:39,433 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:06:50,207 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:06:50,970 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:06:50,992 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:06:50,992 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:06:50,993 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:07:01,789 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:07:02,535 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:07:02,554 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:07:02,555 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:07:02,556 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:07:25,885 - api.middleware.logging - INFO - [logging.py:31] - [b4de2740] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:07:25,894 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:07:25,895 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:07:25,903 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:07:25,905 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:07:25,905 - api.users.routes - ERROR - [routes.py:78] - 获取用户档案失败: 3 validation errors for UserProfileResponse
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
created_at
  Input should be a valid string [type=string_type, input_value=datetime.datetime(2025, 8, 23, 13, 3, 49, 30000), input_type=datetime]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
last_login_at
  Input should be a valid string [type=string_type, input_value=datetime.datetime(2025, 8, 23, 13, 3, 49, 30000), input_type=datetime]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-23 13:07:25,906 - api.middleware.logging - INFO - [logging.py:44] - [b4de2740] 200 - Time: 0.021s
2025-08-23 13:07:25,908 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:07:35,072 - api.middleware.logging - INFO - [logging.py:31] - [884e8b4d] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:07:35,082 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:07:35,083 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:07:35,091 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:07:35,093 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:07:35,094 - api.users.routes - ERROR - [routes.py:78] - 获取用户档案失败: 3 validation errors for UserProfileResponse
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
created_at
  Input should be a valid string [type=string_type, input_value=datetime.datetime(2025, 8, 23, 13, 3, 49, 30000), input_type=datetime]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
last_login_at
  Input should be a valid string [type=string_type, input_value=datetime.datetime(2025, 8, 23, 13, 3, 49, 30000), input_type=datetime]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-23 13:07:35,095 - api.middleware.logging - INFO - [logging.py:44] - [884e8b4d] 200 - Time: 0.024s
2025-08-23 13:07:35,098 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:08:11,393 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:08:45,405 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:08:45,425 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:08:45,425 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:08:45,426 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:08:51,512 - api.middleware.logging - INFO - [logging.py:31] - [46984580] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:08:51,521 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:08:51,523 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:08:51,529 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:08:51,531 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:08:51,532 - api.users.routes - ERROR - [routes.py:78] - 获取用户档案失败: 3 validation errors for UserProfileResponse
wechat_name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
created_at
  Input should be a valid string [type=string_type, input_value=datetime.datetime(2025, 8, 23, 13, 3, 49, 30000), input_type=datetime]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
last_login_at
  Input should be a valid string [type=string_type, input_value=datetime.datetime(2025, 8, 23, 13, 3, 49, 30000), input_type=datetime]
    For further information visit https://errors.pydantic.dev/2.5/v/string_type
2025-08-23 13:08:51,534 - api.middleware.logging - INFO - [logging.py:44] - [46984580] 200 - Time: 0.023s
2025-08-23 13:08:51,536 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:11:46,269 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:11:47,025 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:11:47,046 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:11:47,051 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:11:47,051 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:11:54,326 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:12:26,456 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:12:26,481 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:12:26,481 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:12:26,481 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:12:32,755 - api.middleware.logging - INFO - [logging.py:31] - [5fa8e06e] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:12:32,763 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:12:32,764 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:12:32,769 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:12:32,773 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:12:32,775 - api.middleware.logging - INFO - [logging.py:44] - [5fa8e06e] 200 - Time: 0.019s
2025-08-23 13:12:32,776 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:12:49,890 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:13:24,542 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:13:24,562 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:13:24,563 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:13:24,563 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:13:30,612 - api.middleware.logging - INFO - [logging.py:31] - [2274fd6e] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:13:30,621 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:13:30,622 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:13:30,624 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 13:13:30,627 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:13:30,627 - api.middleware.logging - INFO - [logging.py:44] - [2274fd6e] 401 - Time: 0.016s
2025-08-23 13:16:44,107 - api.middleware.logging - INFO - [logging.py:31] - [137cf114] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 13:16:44,113 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:16:44,114 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:16:44,115 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 13:16:44,116 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 13:16:44,116 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0e3wEknl2pvU7g4QZjll2zPLfe1wEknb
2025-08-23 13:16:44,116 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823131644116948，包含 1 个操作
2025-08-23 13:16:44,117 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823131644116948 中的操作 1/1
2025-08-23 13:16:44,127 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823131644116948 提交成功
2025-08-23 13:16:44,128 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_ab73d6612ed191c1)
2025-08-23 13:16:44,129 - api.middleware.logging - INFO - [logging.py:44] - [137cf114] 200 - Time: 0.022s
2025-08-23 13:16:44,140 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:16:44,152 - api.middleware.logging - INFO - [logging.py:31] - [f6692fb9] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:16:44,158 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:16:44,160 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:16:44,165 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:16:44,167 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:16:44,171 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:16:44,171 - api.middleware.logging - INFO - [logging.py:44] - [f6692fb9] 200 - Time: 0.019s
2025-08-23 13:16:57,935 - api.middleware.logging - INFO - [logging.py:31] - [5a67fcbd] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:16:57,944 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:16:57,946 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:16:57,953 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:16:57,957 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:16:57,961 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:16:57,961 - api.middleware.logging - INFO - [logging.py:44] - [5a67fcbd] 200 - Time: 0.026s
2025-08-23 13:17:26,074 - api.middleware.logging - INFO - [logging.py:31] - [06217eed] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:17:26,082 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:17:26,084 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:17:26,089 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:17:26,093 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:17:26,094 - api.middleware.logging - INFO - [logging.py:44] - [06217eed] 200 - Time: 0.020s
2025-08-23 13:17:26,096 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:17:43,642 - api.middleware.logging - INFO - [logging.py:31] - [fa5d2418] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:17:43,651 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:17:43,653 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:17:43,661 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:17:43,663 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:17:43,664 - api.middleware.logging - INFO - [logging.py:44] - [fa5d2418] 200 - Time: 0.022s
2025-08-23 13:17:43,666 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:17:49,332 - api.middleware.logging - INFO - [logging.py:31] - [4d599db3] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:17:49,340 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:17:49,341 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:17:49,350 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:17:49,353 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:17:49,354 - api.middleware.logging - INFO - [logging.py:44] - [4d599db3] 200 - Time: 0.021s
2025-08-23 13:17:49,356 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:18:06,966 - api.middleware.logging - INFO - [logging.py:31] - [3ca56428] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:18:06,974 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:18:06,975 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:18:06,982 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:18:06,985 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:18:06,986 - api.middleware.logging - INFO - [logging.py:44] - [3ca56428] 200 - Time: 0.020s
2025-08-23 13:18:06,988 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:18:15,585 - api.middleware.logging - INFO - [logging.py:31] - [972bfb7b] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:18:15,593 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:18:15,593 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:18:15,599 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:18:15,602 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:18:15,605 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:18:15,606 - api.middleware.logging - INFO - [logging.py:44] - [972bfb7b] 200 - Time: 0.020s
2025-08-23 13:18:48,769 - api.middleware.logging - INFO - [logging.py:31] - [9194da88] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:18:48,776 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:18:48,778 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:18:48,784 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:18:48,786 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:18:48,788 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:18:48,788 - api.middleware.logging - INFO - [logging.py:44] - [9194da88] 200 - Time: 0.019s
2025-08-23 13:19:02,078 - api.middleware.logging - INFO - [logging.py:31] - [92bd2267] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:19:02,087 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:19:02,088 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:19:02,095 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:19:02,097 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:19:02,100 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:19:02,101 - api.middleware.logging - INFO - [logging.py:44] - [92bd2267] 200 - Time: 0.023s
2025-08-23 13:19:08,841 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:19:41,731 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:19:41,753 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:19:41,754 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:19:41,754 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:19:47,021 - api.middleware.logging - INFO - [logging.py:31] - [b6b8080e] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:19:47,029 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:19:47,030 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:19:47,033 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 13:19:47,035 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:19:47,036 - api.middleware.logging - INFO - [logging.py:44] - [b6b8080e] 401 - Time: 0.015s
2025-08-23 13:20:34,271 - api.middleware.logging - INFO - [logging.py:31] - [eb2b1a3e] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 13:20:34,279 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:20:34,280 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:20:34,281 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 13:20:34,281 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 13:20:34,281 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0f3mTZ0w34plv536rd0w3PhBES0mTZ07
2025-08-23 13:20:34,282 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823132034282413，包含 1 个操作
2025-08-23 13:20:34,282 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823132034282413 中的操作 1/1
2025-08-23 13:20:34,302 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823132034282413 提交成功
2025-08-23 13:20:34,303 - api.auth.routes - INFO - [routes.py:112] - 现有用户登录: None (mock_openid_0590f497868a59fb)
2025-08-23 13:20:34,384 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:20:34,384 - api.middleware.logging - INFO - [logging.py:44] - [eb2b1a3e] 200 - Time: 0.113s
2025-08-23 13:20:34,395 - api.middleware.logging - INFO - [logging.py:31] - [77ff5d78] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:20:34,402 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:20:34,403 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:20:34,409 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:20:34,411 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:20:34,415 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:20:34,415 - api.middleware.logging - INFO - [logging.py:44] - [77ff5d78] 200 - Time: 0.019s
2025-08-23 13:20:46,040 - api.middleware.logging - INFO - [logging.py:31] - [2bdfa48e] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:20:46,047 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:20:46,048 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:20:46,054 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:20:46,057 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:20:46,059 - api.middleware.logging - INFO - [logging.py:44] - [2bdfa48e] 200 - Time: 0.018s
2025-08-23 13:20:46,060 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:20:54,293 - api.middleware.logging - INFO - [logging.py:31] - [d6a61de3] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:20:54,301 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:20:54,303 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:20:54,309 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:20:54,312 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:20:54,315 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:20:54,316 - api.middleware.logging - INFO - [logging.py:44] - [d6a61de3] 200 - Time: 0.022s
2025-08-23 13:21:07,495 - api.middleware.logging - INFO - [logging.py:31] - [e7f15925] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:21:07,502 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:21:07,503 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:21:07,509 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:21:07,513 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 13:21:07,515 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:21:07,515 - api.middleware.logging - INFO - [logging.py:44] - [e7f15925] 200 - Time: 0.019s
2025-08-23 13:39:57,530 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:54:06,631 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:54:06,651 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:54:06,652 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:54:06,652 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:54:15,473 - api.middleware.logging - INFO - [logging.py:31] - [df8ad317] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 13:54:15,479 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:54:15,482 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:54:15,485 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 13:54:15,487 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:54:15,488 - api.middleware.logging - INFO - [logging.py:44] - [df8ad317] 401 - Time: 0.014s
2025-08-23 13:55:06,867 - api.middleware.logging - INFO - [logging.py:31] - [884ab86b] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 13:55:06,874 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:55:06,876 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:55:06,876 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 13:55:06,877 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 13:55:06,877 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0a3XZ11w3hZmv53J2h4w36Bu8V3XZ11m
2025-08-23 13:55:06,879 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823135506879672，包含 1 个操作
2025-08-23 13:55:06,879 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823135506879672 中的操作 1/1
2025-08-23 13:55:06,888 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823135506879672 提交成功
2025-08-23 13:55:06,888 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_df2dcb3b3eb222d1
2025-08-23 13:55:06,889 - api.middleware.logging - INFO - [logging.py:44] - [884ab86b] 200 - Time: 0.023s
2025-08-23 13:55:06,900 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:56:44,872 - api.middleware.logging - INFO - [logging.py:31] - [8f70390b] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 13:56:44,884 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:56:44,886 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:56:44,894 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:56:44,895 - api.middleware.logging - INFO - [logging.py:44] - [8f70390b] 200 - Time: 0.024s
2025-08-23 13:56:55,700 - api.middleware.logging - INFO - [logging.py:31] - [c12912ff] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 13:56:55,712 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:56:55,714 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:56:55,720 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823135655720374，包含 1 个操作
2025-08-23 13:56:55,721 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823135655720374 中的操作 1/1
2025-08-23 13:56:55,731 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823135655720374 提交成功
2025-08-23 13:56:55,731 - api.auth.routes - INFO - [routes.py:178] - 用户注册完成: PP (mock_openid_df2dcb3b3eb222d1)
2025-08-23 13:56:55,732 - api.middleware.logging - INFO - [logging.py:44] - [c12912ff] 200 - Time: 0.032s
2025-08-23 13:56:55,744 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:56:57,502 - api.middleware.logging - INFO - [logging.py:31] - [ef75f2a8] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 13:56:57,514 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:56:57,515 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:56:57,523 - api.middleware.logging - INFO - [logging.py:44] - [ef75f2a8] 200 - Time: 0.022s
2025-08-23 13:56:57,525 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:57:03,225 - api.middleware.logging - INFO - [logging.py:31] - [d84dad3e] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 13:57:03,233 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:57:03,234 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:57:03,239 - api.middleware.logging - INFO - [logging.py:44] - [d84dad3e] 200 - Time: 0.015s
2025-08-23 13:57:03,241 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:58:50,700 - api.middleware.logging - INFO - [logging.py:31] - [76512946] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 13:58:50,710 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:58:50,711 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:58:50,715 - api.middleware.logging - INFO - [logging.py:44] - [76512946] 200 - Time: 0.015s
2025-08-23 13:58:50,716 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:58:55,398 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 13:59:35,936 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 13:59:35,960 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 13:59:35,960 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 13:59:35,961 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 13:59:42,529 - api.middleware.logging - INFO - [logging.py:31] - [19e1ddcf] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 13:59:42,537 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:59:42,537 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:59:42,540 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 13:59:42,542 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:59:42,544 - api.middleware.logging - INFO - [logging.py:44] - [19e1ddcf] 401 - Time: 0.014s
2025-08-23 13:59:57,573 - api.middleware.logging - INFO - [logging.py:31] - [ab5526e0] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 13:59:57,581 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 13:59:57,582 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 13:59:57,583 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 13:59:57,583 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 13:59:57,583 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0c3a9d0w3TJJu53vQE1w38J6am1a9d0j
2025-08-23 13:59:57,586 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823135957586089，包含 1 个操作
2025-08-23 13:59:57,586 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823135957586089 中的操作 1/1
2025-08-23 13:59:57,595 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823135957586089 提交成功
2025-08-23 13:59:57,595 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_a8669f3e1e9c6db4
2025-08-23 13:59:57,607 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 13:59:57,607 - api.middleware.logging - INFO - [logging.py:44] - [ab5526e0] 200 - Time: 0.034s
2025-08-23 14:00:03,548 - api.middleware.logging - INFO - [logging.py:31] - [2e70d8f9] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 14:00:03,554 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:00:03,556 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:00:03,560 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823140003560007，包含 1 个操作
2025-08-23 14:00:03,561 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823140003560007 中的操作 1/1
2025-08-23 14:00:03,572 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823140003560007 提交成功
2025-08-23 14:00:03,572 - api.auth.routes - INFO - [routes.py:178] - 用户注册完成: PP (mock_openid_a8669f3e1e9c6db4)
2025-08-23 14:00:03,584 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:00:03,585 - api.middleware.logging - INFO - [logging.py:44] - [2e70d8f9] 200 - Time: 0.038s
2025-08-23 14:00:05,319 - api.middleware.logging - INFO - [logging.py:31] - [38bbd4e2] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 14:00:05,326 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:00:05,327 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:00:05,333 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:00:05,333 - api.middleware.logging - INFO - [logging.py:44] - [38bbd4e2] 200 - Time: 0.014s
2025-08-23 14:24:22,374 - api.middleware.logging - INFO - [logging.py:31] - [6db275d8] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 14:24:22,382 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:24:22,383 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:24:22,388 - api.middleware.logging - INFO - [logging.py:44] - [6db275d8] 200 - Time: 0.014s
2025-08-23 14:24:22,389 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:24:39,599 - api.middleware.logging - INFO - [logging.py:31] - [1af774c5] GET /api/meals/calendar - Client: 127.0.0.1
2025-08-23 14:24:39,607 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:24:39,608 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:24:39,613 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:24:39,615 - api.middleware.logging - INFO - [logging.py:44] - [1af774c5] 422 - Time: 0.016s
2025-08-23 14:24:39,619 - api.middleware.logging - INFO - [logging.py:31] - [a6591278] GET /api/meals/calendar - Client: 127.0.0.1
2025-08-23 14:24:39,627 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:24:39,628 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:24:39,632 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:24:39,633 - api.middleware.logging - INFO - [logging.py:44] - [a6591278] 422 - Time: 0.015s
2025-08-23 14:25:30,463 - api.middleware.logging - INFO - [logging.py:31] - [cce29467] GET /api/meals/calendar - Client: 127.0.0.1
2025-08-23 14:25:30,470 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:25:30,471 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:25:30,475 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:25:30,475 - api.middleware.logging - INFO - [logging.py:44] - [cce29467] 422 - Time: 0.012s
2025-08-23 14:27:34,024 - api.middleware.logging - INFO - [logging.py:31] - [9f8db5bf] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:27:34,030 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:27:34,032 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:27:34,043 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:27:34,044 - api.middleware.logging - INFO - [logging.py:44] - [9f8db5bf] 200 - Time: 0.021s
2025-08-23 14:27:34,047 - api.middleware.logging - INFO - [logging.py:31] - [407d9ce4] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:27:34,053 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:27:34,054 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:27:34,062 - api.middleware.logging - INFO - [logging.py:44] - [407d9ce4] 200 - Time: 0.016s
2025-08-23 14:27:34,064 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:27:48,063 - api.middleware.logging - INFO - [logging.py:31] - [25b4255e] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:27:48,070 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:27:48,071 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:27:48,079 - api.middleware.logging - INFO - [logging.py:44] - [25b4255e] 200 - Time: 0.016s
2025-08-23 14:27:48,081 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:27:48,082 - api.middleware.logging - INFO - [logging.py:31] - [5c39fbca] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:27:48,089 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:27:48,091 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:27:48,098 - api.middleware.logging - INFO - [logging.py:44] - [5c39fbca] 200 - Time: 0.016s
2025-08-23 14:27:48,099 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:28:00,449 - api.middleware.logging - INFO - [logging.py:31] - [6ef2b330] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:28:00,459 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:28:00,460 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:28:00,467 - api.middleware.logging - INFO - [logging.py:44] - [6ef2b330] 200 - Time: 0.018s
2025-08-23 14:28:00,469 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:28:00,472 - api.middleware.logging - INFO - [logging.py:31] - [61d70abe] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:28:00,477 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:28:00,479 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:28:00,487 - api.middleware.logging - INFO - [logging.py:44] - [61d70abe] 200 - Time: 0.015s
2025-08-23 14:28:00,488 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:28:22,508 - api.middleware.logging - INFO - [logging.py:31] - [c92ab3cc] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:28:22,517 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:28:22,518 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:28:22,526 - api.middleware.logging - INFO - [logging.py:44] - [c92ab3cc] 200 - Time: 0.018s
2025-08-23 14:28:22,528 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:28:22,530 - api.middleware.logging - INFO - [logging.py:31] - [95cd6c84] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:28:22,537 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:28:22,538 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:28:22,547 - api.middleware.logging - INFO - [logging.py:44] - [95cd6c84] 200 - Time: 0.017s
2025-08-23 14:28:22,548 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:35:30,067 - api.middleware.logging - INFO - [logging.py:31] - [03f7a57e] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:35:30,075 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:35:30,076 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:35:30,086 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:35:30,086 - api.middleware.logging - INFO - [logging.py:44] - [03f7a57e] 200 - Time: 0.019s
2025-08-23 14:35:31,325 - api.middleware.logging - INFO - [logging.py:31] - [e451c5cd] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:35:31,334 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:35:31,334 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:35:31,344 - api.middleware.logging - INFO - [logging.py:44] - [e451c5cd] 200 - Time: 0.019s
2025-08-23 14:35:31,347 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:45:36,520 - api.middleware.logging - INFO - [logging.py:31] - [e1a2e97b] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:45:36,528 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:45:36,529 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:45:36,536 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:45:36,539 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:45:36,540 - api.middleware.logging - INFO - [logging.py:44] - [e1a2e97b] 200 - Time: 0.020s
2025-08-23 14:45:36,541 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:45:36,543 - api.middleware.logging - INFO - [logging.py:31] - [f9c6312b] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:45:36,550 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:45:36,554 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:45:36,560 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:45:36,562 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:45:36,564 - api.middleware.logging - INFO - [logging.py:44] - [f9c6312b] 200 - Time: 0.020s
2025-08-23 14:45:36,566 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:46:10,611 - api.middleware.logging - INFO - [logging.py:31] - [bfad927b] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:46:10,617 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:46:10,619 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:46:10,627 - api.middleware.logging - INFO - [logging.py:44] - [bfad927b] 200 - Time: 0.016s
2025-08-23 14:46:10,629 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:46:10,631 - api.middleware.logging - INFO - [logging.py:31] - [08183ce9] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:46:10,638 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:46:10,639 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:46:10,647 - api.middleware.logging - INFO - [logging.py:44] - [08183ce9] 200 - Time: 0.017s
2025-08-23 14:46:10,649 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:46:47,740 - api.middleware.logging - INFO - [logging.py:31] - [ae04bddf] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:46:47,750 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:46:47,751 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:46:47,758 - api.middleware.logging - INFO - [logging.py:44] - [ae04bddf] 200 - Time: 0.018s
2025-08-23 14:46:47,759 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:46:47,762 - api.middleware.logging - INFO - [logging.py:31] - [d983ade4] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:46:47,769 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:46:47,770 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:46:47,778 - api.middleware.logging - INFO - [logging.py:44] - [d983ade4] 200 - Time: 0.016s
2025-08-23 14:46:47,779 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:46:51,249 - api.middleware.logging - INFO - [logging.py:31] - [1214992e] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:46:51,257 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:46:51,258 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:46:51,263 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:46:51,266 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:46:51,269 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:46:51,269 - api.middleware.logging - INFO - [logging.py:44] - [1214992e] 200 - Time: 0.020s
2025-08-23 14:46:51,271 - api.middleware.logging - INFO - [logging.py:31] - [8f5d2a40] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:46:51,277 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:46:51,278 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:46:51,285 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:46:51,287 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:46:51,288 - api.middleware.logging - INFO - [logging.py:44] - [8f5d2a40] 200 - Time: 0.017s
2025-08-23 14:46:51,290 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:47:11,860 - api.middleware.logging - INFO - [logging.py:31] - [a4da5283] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:47:11,873 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:47:11,874 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:47:11,882 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:47:11,884 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:47:11,886 - api.middleware.logging - INFO - [logging.py:44] - [a4da5283] 200 - Time: 0.026s
2025-08-23 14:47:11,887 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:47:11,891 - api.middleware.logging - INFO - [logging.py:31] - [a92b88dc] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:47:11,898 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:47:11,899 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:47:11,908 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:47:11,911 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:47:11,916 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:47:11,917 - api.middleware.logging - INFO - [logging.py:44] - [a92b88dc] 200 - Time: 0.026s
2025-08-23 14:49:16,357 - api.middleware.logging - INFO - [logging.py:31] - [d085b7cc] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:49:16,363 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:49:16,366 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:49:16,373 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:49:16,375 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:49:16,376 - api.middleware.logging - INFO - [logging.py:44] - [d085b7cc] 200 - Time: 0.019s
2025-08-23 14:49:16,378 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:49:16,380 - api.middleware.logging - INFO - [logging.py:31] - [cc927247] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:49:16,388 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:49:16,390 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:49:16,397 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:49:16,399 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:49:16,400 - api.middleware.logging - INFO - [logging.py:44] - [cc927247] 200 - Time: 0.020s
2025-08-23 14:49:16,402 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:08,791 - api.middleware.logging - INFO - [logging.py:31] - [e9986a28] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:52:08,799 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:08,800 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:08,808 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:08,811 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:08,813 - api.middleware.logging - INFO - [logging.py:44] - [e9986a28] 200 - Time: 0.022s
2025-08-23 14:52:08,814 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:10,295 - api.middleware.logging - INFO - [logging.py:31] - [7f6fbc77] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:52:10,304 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:10,307 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:10,317 - api.middleware.logging - INFO - [logging.py:44] - [7f6fbc77] 200 - Time: 0.022s
2025-08-23 14:52:10,319 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:10,320 - api.middleware.logging - INFO - [logging.py:31] - [8ca4884e] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:52:10,329 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:10,330 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:10,342 - api.middleware.logging - INFO - [logging.py:44] - [8ca4884e] 200 - Time: 0.021s
2025-08-23 14:52:10,343 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:11,255 - api.middleware.logging - INFO - [logging.py:31] - [010efe36] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:52:11,261 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:11,263 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:11,272 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:11,275 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:11,277 - api.middleware.logging - INFO - [logging.py:44] - [010efe36] 200 - Time: 0.023s
2025-08-23 14:52:11,280 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:11,284 - api.middleware.logging - INFO - [logging.py:31] - [8f4001a4] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:52:11,293 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:11,295 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:11,303 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:11,307 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:11,310 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:11,311 - api.middleware.logging - INFO - [logging.py:44] - [8f4001a4] 200 - Time: 0.027s
2025-08-23 14:52:25,724 - api.middleware.logging - INFO - [logging.py:31] - [5c4c2c4a] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:52:25,731 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:25,732 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:25,739 - api.middleware.logging - INFO - [logging.py:44] - [5c4c2c4a] 200 - Time: 0.016s
2025-08-23 14:52:25,741 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:26,982 - api.middleware.logging - INFO - [logging.py:31] - [e105f176] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:52:26,991 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:52:26,992 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:52:27,000 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:27,002 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:52:27,004 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:52:27,004 - api.middleware.logging - INFO - [logging.py:44] - [e105f176] 200 - Time: 0.023s
2025-08-23 14:53:22,101 - api.middleware.logging - INFO - [logging.py:31] - [f807dca4] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:53:22,111 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:53:22,112 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:53:22,118 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:53:22,121 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:53:22,122 - api.middleware.logging - INFO - [logging.py:44] - [f807dca4] 200 - Time: 0.020s
2025-08-23 14:53:22,124 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:03,364 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 14:54:35,863 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 14:54:35,887 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 14:54:35,888 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 14:54:35,888 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 14:54:41,454 - api.middleware.logging - INFO - [logging.py:31] - [c0b139c0] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:54:41,461 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:41,462 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:41,468 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:41,470 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:41,471 - api.middleware.logging - INFO - [logging.py:44] - [c0b139c0] 200 - Time: 0.017s
2025-08-23 14:54:41,473 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:42,923 - api.middleware.logging - INFO - [logging.py:31] - [8d60d030] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:54:42,929 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:42,930 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:42,943 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:42,943 - api.middleware.logging - INFO - [logging.py:44] - [8d60d030] 200 - Time: 0.020s
2025-08-23 14:54:42,945 - api.middleware.logging - INFO - [logging.py:31] - [87451f6d] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:54:42,952 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:42,953 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:42,963 - api.middleware.logging - INFO - [logging.py:44] - [87451f6d] 200 - Time: 0.018s
2025-08-23 14:54:42,965 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:44,313 - api.middleware.logging - INFO - [logging.py:31] - [76109136] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:54:44,321 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:44,322 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:44,328 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:44,331 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:44,332 - api.middleware.logging - INFO - [logging.py:44] - [76109136] 200 - Time: 0.019s
2025-08-23 14:54:44,334 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:44,335 - api.middleware.logging - INFO - [logging.py:31] - [a0c9a984] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:54:44,344 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:44,346 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:44,355 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:44,360 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:44,364 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:44,364 - api.middleware.logging - INFO - [logging.py:44] - [a0c9a984] 200 - Time: 0.029s
2025-08-23 14:54:54,006 - api.middleware.logging - INFO - [logging.py:31] - [52ff2841] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:54:54,015 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:54,016 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:54,024 - api.middleware.logging - INFO - [logging.py:44] - [52ff2841] 200 - Time: 0.018s
2025-08-23 14:54:54,026 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:54:55,409 - api.middleware.logging - INFO - [logging.py:31] - [acc19e50] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:54:55,415 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:54:55,417 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:54:55,426 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:55,428 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:54:55,429 - api.middleware.logging - INFO - [logging.py:44] - [acc19e50] 200 - Time: 0.020s
2025-08-23 14:54:55,431 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:55:02,397 - api.middleware.logging - INFO - [logging.py:31] - [5767c40e] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:55:02,407 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:55:02,408 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:55:02,414 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:55:02,417 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:55:02,424 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:55:02,424 - api.middleware.logging - INFO - [logging.py:44] - [5767c40e] 200 - Time: 0.027s
2025-08-23 14:56:28,589 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 14:57:02,094 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 14:57:02,115 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 14:57:02,116 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 14:57:02,116 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 14:57:07,100 - api.middleware.logging - INFO - [logging.py:31] - [8058b461] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:57:07,109 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:57:07,111 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:57:07,116 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 14:57:07,119 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:57:07,121 - api.middleware.logging - INFO - [logging.py:44] - [8058b461] 401 - Time: 0.021s
2025-08-23 14:57:24,868 - api.middleware.logging - INFO - [logging.py:31] - [b1893bc7] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 14:57:24,875 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:57:24,876 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:57:24,877 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 14:57:24,878 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 14:57:24,878 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0e3WWq100KYvQU1j3u200i5NM33WWq1Z
2025-08-23 14:57:24,880 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823145724880897，包含 1 个操作
2025-08-23 14:57:24,880 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823145724880897 中的操作 1/1
2025-08-23 14:57:24,890 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823145724880897 提交成功
2025-08-23 14:57:24,891 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_e6e66b20e909d9e5
2025-08-23 14:57:24,892 - api.middleware.logging - INFO - [logging.py:44] - [b1893bc7] 200 - Time: 0.024s
2025-08-23 14:57:24,903 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:57:31,914 - api.middleware.logging - INFO - [logging.py:31] - [6c1599c0] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 14:57:31,922 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:57:31,923 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:57:31,926 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823145731926970，包含 1 个操作
2025-08-23 14:57:31,927 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823145731926970 中的操作 1/1
2025-08-23 14:57:31,938 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823145731926970 提交成功
2025-08-23 14:57:31,938 - api.auth.routes - INFO - [routes.py:178] - 用户注册完成: PP (mock_openid_e6e66b20e909d9e5)
2025-08-23 14:57:31,939 - api.middleware.logging - INFO - [logging.py:44] - [6c1599c0] 200 - Time: 0.025s
2025-08-23 14:57:31,949 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:57:33,946 - api.middleware.logging - INFO - [logging.py:31] - [1072a984] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:57:33,954 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:57:33,954 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:57:33,971 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:57:33,971 - api.middleware.logging - INFO - [logging.py:44] - [1072a984] 200 - Time: 0.024s
2025-08-23 14:57:33,973 - api.middleware.logging - INFO - [logging.py:31] - [9bc36af9] GET /api/meals - Client: 127.0.0.1
2025-08-23 14:57:33,980 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:57:33,982 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:57:33,991 - api.middleware.logging - INFO - [logging.py:44] - [9bc36af9] 200 - Time: 0.018s
2025-08-23 14:57:33,993 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:57:43,702 - api.middleware.logging - INFO - [logging.py:31] - [37dc24b7] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:57:43,709 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:57:43,710 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:57:43,717 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:57:43,719 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:57:43,720 - api.middleware.logging - INFO - [logging.py:44] - [37dc24b7] 200 - Time: 0.018s
2025-08-23 14:57:43,722 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:58:01,583 - api.middleware.logging - INFO - [logging.py:31] - [1bf153a4] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:58:01,594 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:58:01,595 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:58:01,602 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:58:01,605 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:58:01,608 - api.middleware.logging - INFO - [logging.py:44] - [1bf153a4] 200 - Time: 0.024s
2025-08-23 14:58:01,609 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:59:33,073 - api.middleware.logging - INFO - [logging.py:31] - [cb3ca7de] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:59:33,080 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:59:33,082 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:59:33,088 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:59:33,090 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:59:33,091 - api.middleware.logging - INFO - [logging.py:44] - [cb3ca7de] 200 - Time: 0.018s
2025-08-23 14:59:33,092 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:59:38,725 - api.middleware.logging - INFO - [logging.py:31] - [ac3a0009] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 14:59:38,733 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 14:59:38,738 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 14:59:38,745 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:59:38,748 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 14:59:38,750 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 14:59:38,751 - api.middleware.logging - INFO - [logging.py:44] - [ac3a0009] 200 - Time: 0.026s
2025-08-23 15:01:06,124 - api.middleware.logging - INFO - [logging.py:31] - [49f8dcff] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:01:06,132 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:01:06,133 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:01:06,141 - api.middleware.logging - INFO - [logging.py:44] - [49f8dcff] 200 - Time: 0.017s
2025-08-23 15:01:06,143 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:01:06,145 - api.middleware.logging - INFO - [logging.py:31] - [4779963e] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:01:06,151 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:01:06,152 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:01:06,161 - api.middleware.logging - INFO - [logging.py:44] - [4779963e] 200 - Time: 0.015s
2025-08-23 15:01:06,162 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:08:07,763 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:08:08,520 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:08:08,541 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:08:08,542 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:08:08,542 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:08:43,107 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:08:43,848 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:08:43,868 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:08:43,868 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:08:43,868 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:09:09,673 - api.middleware.logging - INFO - [logging.py:31] - [36739bc4] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:09:09,683 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:09:09,684 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:09:09,695 - api.middleware.logging - INFO - [logging.py:44] - [36739bc4] 200 - Time: 0.021s
2025-08-23 15:09:09,697 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:09:09,699 - api.middleware.logging - INFO - [logging.py:31] - [b62f9924] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:09:09,706 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:09:09,708 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:09:09,717 - api.middleware.logging - INFO - [logging.py:44] - [b62f9924] 200 - Time: 0.018s
2025-08-23 15:09:09,718 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:09:11,802 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:09:12,591 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:09:12,612 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:09:12,613 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:09:12,614 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:10:22,251 - api.middleware.logging - INFO - [logging.py:31] - [0e0f4943] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 15:10:22,259 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:10:22,260 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:10:22,261 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 15:10:22,262 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 15:10:22,262 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0e3Ynlml2x7Vbg4PqInl22rfMn2Ynlmv
2025-08-23 15:10:22,264 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823151022264544，包含 1 个操作
2025-08-23 15:10:22,264 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823151022264544 中的操作 1/1
2025-08-23 15:10:22,265 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 15:10:22,265 - DatabaseManager - DEBUG - [supporting_operations.py:73] - 开发模式: __any__ 存在于白名单，mock_openid_8d2962be106b98e1 设为管理员
2025-08-23 15:10:22,273 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823151022264544 提交成功
2025-08-23 15:10:22,274 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_8d2962be106b98e1
2025-08-23 15:10:22,286 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:10:22,286 - api.middleware.logging - INFO - [logging.py:44] - [0e0f4943] 200 - Time: 0.036s
2025-08-23 15:10:46,719 - api.middleware.logging - INFO - [logging.py:31] - [206dd50a] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:10:46,727 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:10:46,728 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:10:46,733 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:10:46,735 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:10:46,736 - api.middleware.logging - INFO - [logging.py:44] - [206dd50a] 200 - Time: 0.017s
2025-08-23 15:10:46,738 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:10:48,892 - api.middleware.logging - INFO - [logging.py:31] - [af8ebc2c] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:10:48,901 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:10:48,901 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:10:48,913 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:10:48,913 - api.middleware.logging - INFO - [logging.py:44] - [af8ebc2c] 200 - Time: 0.021s
2025-08-23 15:10:48,915 - api.middleware.logging - INFO - [logging.py:31] - [547ce7a9] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:10:48,921 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:10:48,922 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:10:48,932 - api.middleware.logging - INFO - [logging.py:44] - [547ce7a9] 200 - Time: 0.017s
2025-08-23 15:10:48,933 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:12:06,456 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:12:41,149 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:12:41,173 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:12:41,173 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:12:41,173 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:12:50,355 - api.middleware.logging - INFO - [logging.py:31] - [9e02e5d6] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:12:50,363 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:12:50,364 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:12:50,367 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 15:12:50,369 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:12:50,370 - api.middleware.logging - INFO - [logging.py:44] - [9e02e5d6] 401 - Time: 0.015s
2025-08-23 15:13:07,769 - api.middleware.logging - INFO - [logging.py:31] - [da086fb9] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 15:13:07,780 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:07,781 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:07,782 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 15:13:07,782 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 15:13:07,783 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0e3bF40008jEPU1bjS200pvCco3bF40d
2025-08-23 15:13:07,784 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823151307784820，包含 1 个操作
2025-08-23 15:13:07,785 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823151307784820 中的操作 1/1
2025-08-23 15:13:07,786 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 15:13:07,787 - DatabaseManager - DEBUG - [supporting_operations.py:73] - 开发模式: __any__ 存在于白名单，mock_openid_95e8b869c87a1e21 设为管理员
2025-08-23 15:13:07,793 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823151307784820 提交成功
2025-08-23 15:13:07,793 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_95e8b869c87a1e21
2025-08-23 15:13:07,794 - api.middleware.logging - INFO - [logging.py:44] - [da086fb9] 200 - Time: 0.025s
2025-08-23 15:13:07,806 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:36,977 - api.middleware.logging - INFO - [logging.py:31] - [d7c3fe48] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:13:36,983 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:36,984 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:36,990 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:13:36,992 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:13:36,995 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:36,995 - api.middleware.logging - INFO - [logging.py:44] - [d7c3fe48] 200 - Time: 0.018s
2025-08-23 15:13:39,344 - api.middleware.logging - INFO - [logging.py:31] - [61a2a42c] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:13:39,352 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:39,354 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:39,365 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:39,366 - api.middleware.logging - INFO - [logging.py:44] - [61a2a42c] 200 - Time: 0.022s
2025-08-23 15:13:39,368 - api.middleware.logging - INFO - [logging.py:31] - [3690a415] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:13:39,375 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:39,376 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:39,387 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:39,387 - api.middleware.logging - INFO - [logging.py:44] - [3690a415] 200 - Time: 0.019s
2025-08-23 15:13:45,591 - api.middleware.logging - INFO - [logging.py:31] - [451c17df] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:13:45,603 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:45,608 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:45,617 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:13:45,620 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:13:45,623 - api.middleware.logging - INFO - [logging.py:44] - [451c17df] 200 - Time: 0.031s
2025-08-23 15:13:45,625 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:48,083 - api.middleware.logging - INFO - [logging.py:31] - [d05420fe] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:13:48,092 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:48,094 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:48,106 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:48,108 - api.middleware.logging - INFO - [logging.py:44] - [d05420fe] 200 - Time: 0.025s
2025-08-23 15:13:48,108 - api.middleware.logging - INFO - [logging.py:31] - [6f64436b] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:13:48,116 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:48,117 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:48,128 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:13:48,128 - api.middleware.logging - INFO - [logging.py:44] - [6f64436b] 200 - Time: 0.020s
2025-08-23 15:13:51,812 - api.middleware.logging - INFO - [logging.py:31] - [52da549a] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:13:51,821 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:13:51,822 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:13:51,831 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:13:51,834 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:13:51,836 - api.middleware.logging - INFO - [logging.py:44] - [52da549a] 200 - Time: 0.025s
2025-08-23 15:13:51,838 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:15:56,485 - api.middleware.logging - INFO - [logging.py:31] - [05f8c1cc] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:15:56,491 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:15:56,492 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:15:56,498 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:15:56,501 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:15:56,502 - api.middleware.logging - INFO - [logging.py:44] - [05f8c1cc] 200 - Time: 0.017s
2025-08-23 15:15:56,503 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:16:14,867 - api.middleware.logging - INFO - [logging.py:31] - [37a0d409] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:16:14,874 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:16:14,876 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:16:14,882 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:16:14,885 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:16:14,886 - api.middleware.logging - INFO - [logging.py:44] - [37a0d409] 200 - Time: 0.018s
2025-08-23 15:16:14,887 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:16:17,350 - api.middleware.logging - INFO - [logging.py:31] - [f4c21ec3] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:16:17,360 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:16:17,360 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:16:17,370 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:16:17,371 - api.middleware.logging - INFO - [logging.py:44] - [f4c21ec3] 200 - Time: 0.021s
2025-08-23 15:16:17,374 - api.middleware.logging - INFO - [logging.py:31] - [9a961dc6] GET /api/meals - Client: 127.0.0.1
2025-08-23 15:16:17,384 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:16:17,386 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:16:17,397 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:16:17,398 - api.middleware.logging - INFO - [logging.py:44] - [9a961dc6] 200 - Time: 0.023s
2025-08-23 15:16:22,078 - api.middleware.logging - INFO - [logging.py:31] - [39bd7288] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:16:22,086 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:16:22,087 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:16:22,094 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:16:22,097 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 15:16:22,099 - api.middleware.logging - INFO - [logging.py:44] - [39bd7288] 200 - Time: 0.022s
2025-08-23 15:16:22,101 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:22:21,122 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:22:21,916 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:22:21,938 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:22:21,938 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:22:21,938 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:22:45,454 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:22:46,211 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:22:46,233 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:22:46,233 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:22:46,234 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:22:55,811 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:22:56,560 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:22:56,581 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:22:56,582 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:22:56,582 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:23:07,468 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:23:08,226 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:23:08,248 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:23:08,249 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:23:08,249 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:23:19,126 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:23:19,871 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:23:19,891 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:23:19,891 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:23:19,892 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:23:29,477 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:23:30,239 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:23:30,260 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:23:30,260 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:23:30,261 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:23:37,466 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:27:33,385 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:27:33,405 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:27:33,405 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:27:33,408 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:27:40,015 - api.middleware.logging - INFO - [logging.py:31] - [5c58c785] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 15:27:40,024 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:27:40,025 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:27:40,030 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 15:27:40,033 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:27:40,034 - api.middleware.logging - INFO - [logging.py:44] - [5c58c785] 401 - Time: 0.019s
2025-08-23 15:33:08,677 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:33:09,457 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:33:09,477 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:33:09,477 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:33:09,478 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:34:33,734 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 15:35:04,953 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 15:35:04,974 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 15:35:04,974 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 15:35:04,974 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 15:35:11,090 - api.middleware.logging - INFO - [logging.py:31] - [fcbd3e7f] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 15:35:11,097 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:35:11,098 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:35:11,099 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 15:35:11,100 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 15:35:11,100 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0c37Xi0w3Z9Hu53hoe3w3lR8bh07Xi0t
2025-08-23 15:35:11,102 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823153511102339，包含 1 个操作
2025-08-23 15:35:11,104 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823153511102339 中的操作 1/1
2025-08-23 15:35:11,105 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 15:35:11,105 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_61f995c218a42989 设为管理员
2025-08-23 15:35:11,114 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823153511102339 提交成功
2025-08-23 15:35:11,116 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_61f995c218a42989
2025-08-23 15:35:11,117 - api.middleware.logging - INFO - [logging.py:44] - [fcbd3e7f] 200 - Time: 0.027s
2025-08-23 15:35:11,128 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:36:06,343 - api.middleware.logging - INFO - [logging.py:31] - [01b5878e] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 15:36:06,352 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 15:36:06,353 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 15:36:06,356 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 15:36:06,358 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 15:36:06,358 - api.middleware.logging - INFO - [logging.py:44] - [01b5878e] 401 - Time: 0.015s
2025-08-23 16:07:45,054 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 16:07:45,075 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 16:07:45,077 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 16:07:45,078 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 16:08:05,914 - api.middleware.logging - INFO - [logging.py:31] - [e8ec0dc1] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:08:05,922 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:08:05,923 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:08:05,923 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:08:05,924 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:08:05,924 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0b3xU30w3AEVu53HBo3w3niRAw4xU30-
2025-08-23 16:08:05,925 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823160805925906，包含 1 个操作
2025-08-23 16:08:05,927 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823160805925906 中的操作 1/1
2025-08-23 16:08:05,928 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:08:05,928 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_69b645528a2d8b7c 设为管理员
2025-08-23 16:08:05,934 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823160805925906 提交成功
2025-08-23 16:08:05,935 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_69b645528a2d8b7c
2025-08-23 16:08:05,935 - api.middleware.logging - INFO - [logging.py:44] - [e8ec0dc1] 200 - Time: 0.021s
2025-08-23 16:08:05,947 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:08:17,144 - api.middleware.logging - INFO - [logging.py:31] - [94ecda4f] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:08:17,154 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:08:17,155 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:08:17,158 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 16:08:17,161 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:08:17,162 - api.middleware.logging - INFO - [logging.py:44] - [94ecda4f] 401 - Time: 0.019s
2025-08-23 16:08:30,205 - api.middleware.logging - INFO - [logging.py:31] - [c00e0695] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:08:30,213 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:08:30,214 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:08:30,215 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:08:30,216 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:08:30,216 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0f3KVoml2odTbg4SCGml2u8WKM2KVom9
2025-08-23 16:08:30,218 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823160830218439，包含 1 个操作
2025-08-23 16:08:30,219 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823160830218439 中的操作 1/1
2025-08-23 16:08:30,220 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:08:30,221 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_9427912df4b82822 设为管理员
2025-08-23 16:08:30,230 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823160830218439 提交成功
2025-08-23 16:08:30,230 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_9427912df4b82822
2025-08-23 16:08:30,242 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:08:30,242 - api.middleware.logging - INFO - [logging.py:44] - [c00e0695] 200 - Time: 0.037s
2025-08-23 16:08:36,818 - api.middleware.logging - INFO - [logging.py:31] - [24efe370] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:08:36,824 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:08:36,825 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:08:36,829 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 16:08:36,831 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:08:36,832 - api.middleware.logging - INFO - [logging.py:44] - [24efe370] 401 - Time: 0.014s
2025-08-23 16:08:59,696 - api.middleware.logging - INFO - [logging.py:31] - [1629872d] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:08:59,703 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:08:59,705 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:08:59,705 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:08:59,706 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:08:59,706 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0a3p7p000UglPU1Q9j200lUA0W0p7p0y
2025-08-23 16:08:59,708 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823160859708541，包含 1 个操作
2025-08-23 16:08:59,709 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823160859708541 中的操作 1/1
2025-08-23 16:08:59,710 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:08:59,710 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_f79eac4d3b7eefa4 设为管理员
2025-08-23 16:08:59,717 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823160859708541 提交成功
2025-08-23 16:08:59,717 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_f79eac4d3b7eefa4
2025-08-23 16:08:59,729 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:08:59,729 - api.middleware.logging - INFO - [logging.py:44] - [1629872d] 200 - Time: 0.033s
2025-08-23 16:09:07,908 - api.middleware.logging - INFO - [logging.py:31] - [4a08d9b7] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:09:07,918 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:09:07,918 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:09:07,921 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 16:09:07,923 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:09:07,925 - api.middleware.logging - INFO - [logging.py:44] - [4a08d9b7] 401 - Time: 0.017s
2025-08-23 16:15:34,204 - api.middleware.logging - INFO - [logging.py:31] - [365720d6] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:15:34,212 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:15:34,213 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:15:34,214 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:15:34,215 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:15:34,216 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0c3oIv100E1rQU1iV2200grfRI1oIv14
2025-08-23 16:15:34,218 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823161534218919，包含 1 个操作
2025-08-23 16:15:34,219 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823161534218919 中的操作 1/1
2025-08-23 16:15:34,220 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:15:34,220 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_89119cce1585946a 设为管理员
2025-08-23 16:15:34,227 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823161534218919 提交成功
2025-08-23 16:15:34,227 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_89119cce1585946a
2025-08-23 16:15:34,228 - api.middleware.logging - INFO - [logging.py:44] - [365720d6] 200 - Time: 0.023s
2025-08-23 16:15:34,240 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:15:41,528 - api.middleware.logging - INFO - [logging.py:31] - [23ab52bd] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:15:41,538 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:15:41,539 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:15:41,542 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 16:15:41,546 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:15:41,548 - api.middleware.logging - INFO - [logging.py:44] - [23ab52bd] 401 - Time: 0.019s
2025-08-23 16:20:30,248 - api.middleware.logging - INFO - [logging.py:31] - [b8b2ab96] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:20:30,256 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:20:30,257 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:20:30,258 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:20:30,258 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:20:30,259 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0b3SL8000s3SPU1OcA000o9Xmy3SL80Z
2025-08-23 16:20:30,263 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823162030263455，包含 1 个操作
2025-08-23 16:20:30,263 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823162030263455 中的操作 1/1
2025-08-23 16:20:30,265 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:20:30,265 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_71b113a9fb38f7a0 设为管理员
2025-08-23 16:20:30,278 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823162030263455 提交成功
2025-08-23 16:20:30,279 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_71b113a9fb38f7a0
2025-08-23 16:20:30,294 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:20:30,294 - api.middleware.logging - INFO - [logging.py:44] - [b8b2ab96] 200 - Time: 0.045s
2025-08-23 16:20:40,191 - api.middleware.logging - INFO - [logging.py:31] - [4a3b9513] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:20:40,199 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:20:40,201 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:20:40,205 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 16:20:40,209 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:20:40,212 - api.middleware.logging - INFO - [logging.py:44] - [4a3b9513] 401 - Time: 0.020s
2025-08-23 16:20:40,632 - api.middleware.logging - INFO - [logging.py:31] - [587d42a9] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:20:40,639 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:20:40,640 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:20:40,641 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:20:40,642 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:20:40,642 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0a3JC8ml2BMjbg4zQcol2neI8V3JC8mq
2025-08-23 16:20:40,644 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823162040644301，包含 1 个操作
2025-08-23 16:20:40,644 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823162040644301 中的操作 1/1
2025-08-23 16:20:40,645 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:20:40,645 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_5e08c7ac927e8782 设为管理员
2025-08-23 16:20:40,655 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823162040644301 提交成功
2025-08-23 16:20:40,656 - api.auth.routes - INFO - [routes.py:140] - 未注册用户登录: mock_openid_5e08c7ac927e8782
2025-08-23 16:20:40,668 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:20:40,668 - api.middleware.logging - INFO - [logging.py:44] - [587d42a9] 200 - Time: 0.036s
2025-08-23 16:20:48,480 - api.middleware.logging - INFO - [logging.py:31] - [c01a5972] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:20:48,490 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:20:48,491 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:20:48,494 - api.auth.routes - ERROR - [routes.py:67] - 用户认证失败: 
2025-08-23 16:20:48,497 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:20:48,499 - api.middleware.logging - INFO - [logging.py:44] - [c01a5972] 401 - Time: 0.018s
2025-08-23 16:22:59,551 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 16:23:00,352 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 16:23:00,373 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 16:23:00,373 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 16:23:00,374 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 16:23:31,537 - api.middleware.logging - INFO - [logging.py:31] - [3a6a0c78] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:23:31,546 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:23:31,547 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:23:31,548 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:23:31,549 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:23:31,549 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0e3k0q000TaBPU1HqO100SSjwn4k0q0o
2025-08-23 16:23:31,552 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823162331552265，包含 1 个操作
2025-08-23 16:23:31,552 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823162331552265 中的操作 1/1
2025-08-23 16:23:31,553 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:23:31,554 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_cc360fa03685d7bf 设为管理员
2025-08-23 16:23:31,562 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823162331552265 提交成功
2025-08-23 16:23:31,563 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_cc360fa03685d7bf
2025-08-23 16:23:31,576 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:23:31,577 - api.middleware.logging - INFO - [logging.py:44] - [3a6a0c78] 200 - Time: 0.039s
2025-08-23 16:23:38,153 - api.middleware.logging - INFO - [logging.py:31] - [50f0ad77] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:23:38,164 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:23:38,165 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:23:38,166 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:23:38,167 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=9, open_id=mock_openid_cc360fa03685d7bf
2025-08-23 16:23:38,170 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=9, found=True
2025-08-23 16:23:38,171 - api.auth.routes - ERROR - [routes.py:75] - 用户状态异常: user_id=9, status=unregistered
2025-08-23 16:23:38,173 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:23:38,175 - api.middleware.logging - INFO - [logging.py:44] - [50f0ad77] 401 - Time: 0.022s
2025-08-23 16:25:49,964 - api.middleware.logging - INFO - [logging.py:31] - [08feb269] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:25:49,971 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:25:49,972 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:25:49,973 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:25:49,973 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:25:49,973 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0b3zZ40w3yTav53Bnz3w3dhu212zZ40P
2025-08-23 16:25:49,977 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823162549977138，包含 1 个操作
2025-08-23 16:25:49,978 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823162549977138 中的操作 1/1
2025-08-23 16:25:49,979 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:25:49,980 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_d1cd90a616a7619b 设为管理员
2025-08-23 16:25:50,098 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823162549977138 提交成功
2025-08-23 16:25:50,099 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_d1cd90a616a7619b
2025-08-23 16:25:50,112 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:25:50,112 - api.middleware.logging - INFO - [logging.py:44] - [08feb269] 200 - Time: 0.148s
2025-08-23 16:26:06,269 - api.middleware.logging - INFO - [logging.py:31] - [11ef7b5d] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:26:06,277 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:26:06,278 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:26:06,279 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:26:06,279 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=10, open_id=mock_openid_d1cd90a616a7619b
2025-08-23 16:26:06,281 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=10, found=True
2025-08-23 16:26:06,283 - api.auth.routes - ERROR - [routes.py:75] - 用户状态异常: user_id=10, status=unregistered
2025-08-23 16:26:06,285 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:26:06,287 - api.middleware.logging - INFO - [logging.py:44] - [11ef7b5d] 401 - Time: 0.018s
2025-08-23 16:27:01,305 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-23 16:27:02,114 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-23 16:27:02,139 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-23 16:27:02,139 - api.main - INFO - [main.py:35] - 环境: development
2025-08-23 16:27:02,140 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-23 16:27:16,810 - api.middleware.logging - INFO - [logging.py:31] - [d017e4b0] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-23 16:27:16,820 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:27:16,821 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:27:16,822 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:27:16,822 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-23 16:27:16,822 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0f3AkY000Kz8QU12Dm200kjCU14AkY0U
2025-08-23 16:27:16,824 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823162716824523，包含 1 个操作
2025-08-23 16:27:16,825 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823162716824523 中的操作 1/1
2025-08-23 16:27:16,826 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-23 16:27:16,826 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_d27efb6bc93a9eb2 设为管理员
2025-08-23 16:27:16,833 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823162716824523 提交成功
2025-08-23 16:27:16,834 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_d27efb6bc93a9eb2
2025-08-23 16:27:16,835 - api.middleware.logging - INFO - [logging.py:44] - [d017e4b0] 200 - Time: 0.025s
2025-08-23 16:27:16,849 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:27:23,529 - api.middleware.logging - INFO - [logging.py:31] - [2862c4a7] POST /api/auth/register - Client: 127.0.0.1
2025-08-23 16:27:23,538 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:27:23,540 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:27:23,540 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:27:23,540 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:27:23,543 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:27:23,543 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:27:23,545 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823162723545468，包含 1 个操作
2025-08-23 16:27:23,546 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823162723545468 中的操作 1/1
2025-08-23 16:27:23,557 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823162723545468 提交成功
2025-08-23 16:27:23,558 - api.auth.routes - INFO - [routes.py:203] - 用户注册完成: PP (mock_openid_d27efb6bc93a9eb2)
2025-08-23 16:27:23,559 - api.middleware.logging - INFO - [logging.py:44] - [2862c4a7] 200 - Time: 0.030s
2025-08-23 16:27:23,570 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:27:25,278 - api.middleware.logging - INFO - [logging.py:31] - [49816133] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:27:25,285 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:27:25,286 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:27:25,286 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:27:25,287 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:27:25,291 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:27:25,292 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:27:25,295 - api.middleware.logging - INFO - [logging.py:44] - [49816133] 200 - Time: 0.017s
2025-08-23 16:27:25,297 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:51:04,382 - api.middleware.logging - INFO - [logging.py:31] - [c69987de] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:51:04,393 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:51:04,395 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:51:04,396 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:51:04,397 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:51:04,400 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:51:04,401 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:51:04,406 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:51:04,406 - api.middleware.logging - INFO - [logging.py:44] - [c69987de] 200 - Time: 0.024s
2025-08-23 16:51:40,830 - api.middleware.logging - INFO - [logging.py:31] - [65ebfaa9] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:51:40,841 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:51:40,842 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:51:40,843 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:51:40,845 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:51:40,848 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:51:40,849 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:51:40,852 - api.middleware.logging - INFO - [logging.py:44] - [65ebfaa9] 200 - Time: 0.022s
2025-08-23 16:51:40,855 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:51:47,974 - api.middleware.logging - INFO - [logging.py:31] - [b7bf1017] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:51:47,981 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:51:47,983 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:51:47,984 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:51:47,985 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:51:47,986 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:51:47,987 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:51:47,993 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:51:47,993 - api.middleware.logging - INFO - [logging.py:44] - [b7bf1017] 200 - Time: 0.019s
2025-08-23 16:51:53,406 - api.middleware.logging - INFO - [logging.py:31] - [dd5655ca] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:51:53,415 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:51:53,416 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:51:53,417 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:51:53,417 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:51:53,420 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:51:53,420 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:51:53,425 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:51:53,426 - api.middleware.logging - INFO - [logging.py:44] - [dd5655ca] 200 - Time: 0.020s
2025-08-23 16:51:57,428 - api.middleware.logging - INFO - [logging.py:31] - [614fa9c0] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:51:57,436 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:51:57,437 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:51:57,438 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:51:57,439 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:51:57,441 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:51:57,442 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:51:57,447 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:51:57,448 - api.middleware.logging - INFO - [logging.py:44] - [614fa9c0] 200 - Time: 0.021s
2025-08-23 16:52:10,495 - api.middleware.logging - INFO - [logging.py:31] - [4e060ab3] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:52:10,504 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:52:10,505 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:52:10,506 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:52:10,507 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:52:10,511 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:52:10,512 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:52:10,517 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:52:10,517 - api.middleware.logging - INFO - [logging.py:44] - [4e060ab3] 200 - Time: 0.022s
2025-08-23 16:52:22,865 - api.middleware.logging - INFO - [logging.py:31] - [e5f0cb14] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:52:22,874 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:52:22,876 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:52:22,877 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:52:22,878 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:52:22,880 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:52:22,881 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:52:22,886 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:52:22,886 - api.middleware.logging - INFO - [logging.py:44] - [e5f0cb14] 200 - Time: 0.021s
2025-08-23 16:52:34,370 - api.middleware.logging - INFO - [logging.py:31] - [68a18870] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:52:34,377 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:52:34,379 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:52:34,380 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:52:34,381 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:52:34,383 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:52:34,384 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:52:34,386 - api.middleware.logging - INFO - [logging.py:44] - [68a18870] 200 - Time: 0.017s
2025-08-23 16:52:34,389 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:53:06,818 - api.middleware.logging - INFO - [logging.py:31] - [4d7483f4] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:53:06,828 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:53:06,829 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:53:06,830 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:53:06,830 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:53:06,833 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:53:06,833 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:53:06,841 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:53:06,843 - api.middleware.logging - INFO - [logging.py:44] - [4d7483f4] 200 - Time: 0.024s
2025-08-23 16:53:11,794 - api.middleware.logging - INFO - [logging.py:31] - [696decc9] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:53:11,803 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:53:11,805 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:53:11,810 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:53:11,810 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:53:11,813 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:53:11,814 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:53:11,817 - api.middleware.logging - INFO - [logging.py:44] - [696decc9] 200 - Time: 0.023s
2025-08-23 16:53:11,818 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:53:37,653 - api.middleware.logging - INFO - [logging.py:31] - [f934a193] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:53:37,660 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:53:37,661 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:53:37,663 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:53:37,664 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:53:37,667 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:53:37,667 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:53:37,672 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:53:37,672 - api.middleware.logging - INFO - [logging.py:44] - [f934a193] 200 - Time: 0.019s
2025-08-23 16:53:43,581 - api.middleware.logging - INFO - [logging.py:31] - [a599c47d] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:53:43,588 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:53:43,589 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:53:43,590 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:53:43,591 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:53:43,593 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:53:43,594 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:53:43,596 - api.middleware.logging - INFO - [logging.py:44] - [a599c47d] 200 - Time: 0.016s
2025-08-23 16:53:43,598 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:53:58,216 - api.middleware.logging - INFO - [logging.py:31] - [1b129dda] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:53:58,223 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:53:58,225 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:53:58,225 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:53:58,226 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:53:58,229 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:53:58,230 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:53:58,233 - api.middleware.logging - INFO - [logging.py:44] - [1b129dda] 200 - Time: 0.017s
2025-08-23 16:53:58,235 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:54:13,453 - api.middleware.logging - INFO - [logging.py:31] - [d2836150] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:54:13,461 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:54:13,462 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:54:13,463 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:54:13,463 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:54:13,465 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:54:13,467 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:54:13,471 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:54:13,472 - api.middleware.logging - INFO - [logging.py:44] - [d2836150] 200 - Time: 0.019s
2025-08-23 16:54:31,500 - api.middleware.logging - INFO - [logging.py:31] - [7d75a468] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:54:31,509 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:54:31,511 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:54:31,512 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:54:31,512 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:54:31,515 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:54:31,516 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:54:31,519 - api.middleware.logging - INFO - [logging.py:44] - [7d75a468] 200 - Time: 0.019s
2025-08-23 16:54:31,521 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:54:36,127 - api.middleware.logging - INFO - [logging.py:31] - [f7ae35fd] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:54:36,136 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:54:36,137 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:54:36,138 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:54:36,138 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:54:36,140 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:54:36,142 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:54:36,143 - api.middleware.logging - INFO - [logging.py:44] - [f7ae35fd] 200 - Time: 0.017s
2025-08-23 16:54:36,147 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:54:57,392 - api.middleware.logging - INFO - [logging.py:31] - [e6c82815] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:54:57,400 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:54:57,401 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:54:57,402 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:54:57,402 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:54:57,404 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:54:57,404 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:54:57,407 - api.middleware.logging - INFO - [logging.py:44] - [e6c82815] 200 - Time: 0.015s
2025-08-23 16:54:57,409 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:55:41,793 - api.middleware.logging - INFO - [logging.py:31] - [72ffb9e0] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:55:41,802 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:55:41,803 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:55:41,804 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:55:41,804 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:55:41,807 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:55:41,808 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:55:41,813 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:55:41,814 - api.middleware.logging - INFO - [logging.py:44] - [72ffb9e0] 200 - Time: 0.021s
2025-08-23 16:55:47,494 - api.middleware.logging - INFO - [logging.py:31] - [d3d2e310] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:55:47,501 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:55:47,502 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:55:47,503 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:55:47,504 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:55:47,508 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:55:47,509 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:55:47,513 - api.middleware.logging - INFO - [logging.py:44] - [d3d2e310] 200 - Time: 0.018s
2025-08-23 16:55:47,515 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:55:52,990 - api.middleware.logging - INFO - [logging.py:31] - [1a859bbf] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:55:53,000 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:55:53,002 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:55:53,002 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:55:53,003 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:55:53,005 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:55:53,006 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:55:53,010 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:55:53,011 - api.middleware.logging - INFO - [logging.py:44] - [1a859bbf] 200 - Time: 0.021s
2025-08-23 16:55:59,120 - api.middleware.logging - INFO - [logging.py:31] - [9f439d97] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:55:59,129 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:55:59,130 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:55:59,131 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:55:59,132 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:55:59,134 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:55:59,134 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:55:59,139 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:55:59,139 - api.middleware.logging - INFO - [logging.py:44] - [9f439d97] 200 - Time: 0.019s
2025-08-23 16:56:05,878 - api.middleware.logging - INFO - [logging.py:31] - [ad8fe160] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:56:05,886 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:56:05,888 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:56:05,889 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:56:05,890 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:56:05,894 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:56:05,894 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:56:05,899 - api.middleware.logging - INFO - [logging.py:44] - [ad8fe160] 200 - Time: 0.021s
2025-08-23 16:56:05,901 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:56:11,418 - api.middleware.logging - INFO - [logging.py:31] - [dd8095fa] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:56:11,428 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:56:11,429 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:56:11,430 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:56:11,431 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:56:11,433 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:56:11,433 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:56:11,438 - api.middleware.logging - INFO - [logging.py:44] - [dd8095fa] 200 - Time: 0.019s
2025-08-23 16:56:11,440 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:56:16,452 - api.middleware.logging - INFO - [logging.py:31] - [03c25412] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:56:16,462 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:56:16,464 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:56:16,465 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:56:16,466 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:56:16,467 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:56:16,468 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:56:16,470 - api.middleware.logging - INFO - [logging.py:44] - [03c25412] 200 - Time: 0.018s
2025-08-23 16:56:16,473 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:56:43,844 - api.middleware.logging - INFO - [logging.py:31] - [ec0199b2] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:56:43,851 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:56:43,852 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:56:43,853 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:56:43,853 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:56:43,856 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:56:43,857 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:56:43,863 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:56:43,863 - api.middleware.logging - INFO - [logging.py:44] - [ec0199b2] 200 - Time: 0.020s
2025-08-23 16:57:48,504 - api.middleware.logging - INFO - [logging.py:31] - [9c21e558] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 16:57:48,513 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:57:48,514 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:57:48,515 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:57:48,516 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:57:48,519 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:57:48,520 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:57:48,526 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:57:48,527 - api.middleware.logging - INFO - [logging.py:44] - [9c21e558] 200 - Time: 0.023s
2025-08-23 16:59:31,905 - api.middleware.logging - INFO - [logging.py:31] - [c6a49058] GET /api/meals - Client: 127.0.0.1
2025-08-23 16:59:31,913 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:59:31,914 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:59:31,915 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:59:31,916 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:59:31,918 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:59:31,919 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:59:31,929 - api.middleware.logging - INFO - [logging.py:44] - [c6a49058] 200 - Time: 0.024s
2025-08-23 16:59:31,931 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 16:59:31,932 - api.middleware.logging - INFO - [logging.py:31] - [52db8d1c] GET /api/meals - Client: 127.0.0.1
2025-08-23 16:59:31,941 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 16:59:31,943 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 16:59:31,944 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 16:59:31,945 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 16:59:31,947 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 16:59:31,948 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 16:59:31,956 - api.middleware.logging - INFO - [logging.py:44] - [52db8d1c] 200 - Time: 0.023s
2025-08-23 16:59:31,959 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:00:37,239 - api.middleware.logging - INFO - [logging.py:31] - [f86d3ad7] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 17:00:37,255 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:00:37,256 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:00:37,258 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:00:37,259 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:00:37,266 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:00:37,266 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:00:37,274 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:00:37,274 - api.middleware.logging - INFO - [logging.py:44] - [f86d3ad7] 200 - Time: 0.036s
2025-08-23 17:00:39,212 - api.middleware.logging - INFO - [logging.py:31] - [efb57a02] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:00:39,220 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:00:39,221 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:00:39,222 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:00:39,222 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:00:39,225 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:00:39,226 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:00:39,233 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:00:39,233 - api.middleware.logging - INFO - [logging.py:44] - [efb57a02] 200 - Time: 0.021s
2025-08-23 17:00:39,235 - api.middleware.logging - INFO - [logging.py:31] - [f9187d51] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:00:39,244 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:00:39,245 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:00:39,246 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:00:39,246 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:00:39,250 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:00:39,250 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:00:39,262 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:00:39,262 - api.middleware.logging - INFO - [logging.py:44] - [f9187d51] 200 - Time: 0.027s
2025-08-23 17:00:45,100 - api.middleware.logging - INFO - [logging.py:31] - [7617e1f3] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 17:00:45,109 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:00:45,110 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:00:45,111 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:00:45,112 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:00:45,114 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:00:45,114 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:00:45,116 - api.middleware.logging - INFO - [logging.py:44] - [7617e1f3] 200 - Time: 0.016s
2025-08-23 17:00:45,118 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:00:46,526 - api.middleware.logging - INFO - [logging.py:31] - [27d39d69] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:00:46,534 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:00:46,535 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:00:46,536 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:00:46,537 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:00:46,539 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:00:46,540 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:00:46,548 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:00:46,549 - api.middleware.logging - INFO - [logging.py:44] - [27d39d69] 200 - Time: 0.023s
2025-08-23 17:00:46,551 - api.middleware.logging - INFO - [logging.py:31] - [4689bbf6] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:00:46,558 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:00:46,559 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:00:46,560 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:00:46,561 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:00:46,568 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:00:46,569 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:00:46,577 - api.middleware.logging - INFO - [logging.py:44] - [4689bbf6] 200 - Time: 0.026s
2025-08-23 17:00:46,580 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:02:11,015 - api.middleware.logging - INFO - [logging.py:31] - [9cddb722] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:02:11,026 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:02:11,028 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:02:11,030 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:02:11,030 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:02:11,034 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:02:11,034 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:02:11,043 - api.middleware.logging - INFO - [logging.py:44] - [9cddb722] 200 - Time: 0.028s
2025-08-23 17:02:11,045 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:02:11,046 - api.middleware.logging - INFO - [logging.py:31] - [65c2d79c] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:02:11,056 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:02:11,059 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:02:11,060 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:02:11,061 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:02:11,064 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:02:11,065 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:02:11,072 - api.middleware.logging - INFO - [logging.py:44] - [65c2d79c] 200 - Time: 0.025s
2025-08-23 17:02:11,073 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:02:47,563 - api.middleware.logging - INFO - [logging.py:31] - [abfabf71] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:02:47,571 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:02:47,572 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:02:47,573 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:02:47,573 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:02:47,575 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:02:47,576 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:02:47,581 - api.middleware.logging - INFO - [logging.py:44] - [abfabf71] 200 - Time: 0.018s
2025-08-23 17:02:47,583 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:02:47,585 - api.middleware.logging - INFO - [logging.py:31] - [475e44b4] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:02:47,593 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:02:47,594 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:02:47,594 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:02:47,594 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:02:47,598 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:02:47,600 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:02:47,609 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:02:47,610 - api.middleware.logging - INFO - [logging.py:44] - [475e44b4] 200 - Time: 0.025s
2025-08-23 17:03:23,468 - api.middleware.logging - INFO - [logging.py:31] - [4716e646] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 17:03:23,478 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:23,480 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:23,481 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:23,481 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:23,483 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:23,484 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:23,488 - api.middleware.logging - INFO - [logging.py:44] - [4716e646] 200 - Time: 0.020s
2025-08-23 17:03:23,490 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:25,009 - api.middleware.logging - INFO - [logging.py:31] - [990e9607] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:03:25,018 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:25,020 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:25,021 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:25,022 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:25,024 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:25,024 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:25,029 - api.middleware.logging - INFO - [logging.py:44] - [990e9607] 200 - Time: 0.020s
2025-08-23 17:03:25,031 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:25,032 - api.middleware.logging - INFO - [logging.py:31] - [a6956337] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:03:25,040 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:25,041 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:25,042 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:25,042 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:25,044 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:25,044 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:25,053 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:25,053 - api.middleware.logging - INFO - [logging.py:44] - [a6956337] 200 - Time: 0.021s
2025-08-23 17:03:26,768 - api.middleware.logging - INFO - [logging.py:31] - [3eaf839c] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:03:26,775 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:26,776 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:26,777 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:26,777 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:26,779 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:26,780 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:26,784 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:26,789 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:26,791 - api.middleware.logging - INFO - [logging.py:44] - [3eaf839c] 200 - Time: 0.024s
2025-08-23 17:03:26,792 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:26,793 - api.middleware.logging - INFO - [logging.py:31] - [17d280ae] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:03:26,800 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:26,801 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:26,802 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:26,803 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:26,806 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:26,807 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:26,811 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:26,814 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:26,817 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:26,817 - api.middleware.logging - INFO - [logging.py:44] - [17d280ae] 200 - Time: 0.024s
2025-08-23 17:03:48,567 - api.middleware.logging - INFO - [logging.py:31] - [12537df4] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:03:48,576 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:48,578 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:48,578 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:48,579 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:48,581 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:48,581 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:48,587 - api.middleware.logging - INFO - [logging.py:44] - [12537df4] 200 - Time: 0.020s
2025-08-23 17:03:48,588 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:49,483 - api.middleware.logging - INFO - [logging.py:31] - [6f4ba5f4] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:03:49,492 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:49,493 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:49,494 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:49,495 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:49,498 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:49,499 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:49,504 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:49,507 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:49,509 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:49,509 - api.middleware.logging - INFO - [logging.py:44] - [6f4ba5f4] 200 - Time: 0.026s
2025-08-23 17:03:52,867 - api.middleware.logging - INFO - [logging.py:31] - [a99a5a28] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:03:52,874 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:52,875 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:52,876 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:52,876 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:52,880 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:52,880 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:52,886 - api.middleware.logging - INFO - [logging.py:44] - [a99a5a28] 200 - Time: 0.019s
2025-08-23 17:03:52,887 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:03:53,719 - api.middleware.logging - INFO - [logging.py:31] - [0db4e348] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:03:53,725 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:03:53,727 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:03:53,727 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:03:53,728 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:03:53,730 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:03:53,731 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:03:53,736 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:53,738 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:03:53,739 - api.middleware.logging - INFO - [logging.py:44] - [0db4e348] 200 - Time: 0.021s
2025-08-23 17:03:53,741 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:14:24,978 - api.middleware.logging - INFO - [logging.py:31] - [29da214a] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:14:24,988 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:14:24,989 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:14:24,990 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:14:24,991 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:14:24,993 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:14:24,993 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:14:24,997 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:25,001 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:25,004 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:14:25,005 - api.middleware.logging - INFO - [logging.py:44] - [29da214a] 200 - Time: 0.026s
2025-08-23 17:14:25,006 - api.middleware.logging - INFO - [logging.py:31] - [628950c8] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:14:25,013 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:14:25,015 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:14:25,015 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:14:25,016 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:14:25,018 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:14:25,019 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:14:25,023 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:25,025 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:25,027 - api.middleware.logging - INFO - [logging.py:44] - [628950c8] 200 - Time: 0.021s
2025-08-23 17:14:25,028 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:14:44,122 - api.middleware.logging - INFO - [logging.py:31] - [6abf13b5] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:14:44,129 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:14:44,130 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:14:44,131 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:14:44,131 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:14:44,133 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:14:44,134 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:14:44,139 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:44,141 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:44,142 - api.middleware.logging - INFO - [logging.py:44] - [6abf13b5] 200 - Time: 0.020s
2025-08-23 17:14:44,144 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:14:44,146 - api.middleware.logging - INFO - [logging.py:31] - [602e40ce] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:14:44,153 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:14:44,154 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:14:44,155 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:14:44,156 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:14:44,158 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:14:44,159 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:14:44,163 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:44,165 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:14:44,167 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:14:44,168 - api.middleware.logging - INFO - [logging.py:44] - [602e40ce] 200 - Time: 0.022s
2025-08-23 17:15:00,211 - api.middleware.logging - INFO - [logging.py:31] - [ff126d70] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:00,218 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:00,219 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:00,220 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:00,221 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:00,224 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:00,225 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:00,229 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:00,232 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:00,233 - api.middleware.logging - INFO - [logging.py:44] - [ff126d70] 200 - Time: 0.021s
2025-08-23 17:15:00,235 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:00,238 - api.middleware.logging - INFO - [logging.py:31] - [17864fd7] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:00,244 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:00,245 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:00,246 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:00,247 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:00,249 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:00,249 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:00,253 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:00,255 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:00,258 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:00,258 - api.middleware.logging - INFO - [logging.py:44] - [17864fd7] 200 - Time: 0.020s
2025-08-23 17:15:28,161 - api.middleware.logging - INFO - [logging.py:31] - [8240f2e3] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:28,168 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:28,170 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:28,171 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:28,171 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:28,175 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:28,175 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:28,181 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:28,183 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:28,185 - api.middleware.logging - INFO - [logging.py:44] - [8240f2e3] 200 - Time: 0.023s
2025-08-23 17:15:28,187 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:28,188 - api.middleware.logging - INFO - [logging.py:31] - [546b1a74] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:28,196 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:28,197 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:28,198 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:28,198 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:28,200 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:28,201 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:28,205 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:28,207 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:28,209 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:28,209 - api.middleware.logging - INFO - [logging.py:44] - [546b1a74] 200 - Time: 0.021s
2025-08-23 17:15:33,023 - api.middleware.logging - INFO - [logging.py:31] - [77c59720] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:33,030 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:33,031 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:33,032 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:33,032 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:33,034 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:33,035 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:33,038 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:33,041 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:33,044 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:33,045 - api.middleware.logging - INFO - [logging.py:44] - [77c59720] 200 - Time: 0.022s
2025-08-23 17:15:33,047 - api.middleware.logging - INFO - [logging.py:31] - [574bc4ae] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:33,054 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:33,055 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:33,055 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:33,056 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:33,058 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:33,059 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:33,063 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:33,065 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:33,066 - api.middleware.logging - INFO - [logging.py:44] - [574bc4ae] 200 - Time: 0.019s
2025-08-23 17:15:33,068 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:51,970 - api.middleware.logging - INFO - [logging.py:31] - [808cf8d1] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:51,978 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:51,978 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:51,979 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:51,979 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:51,982 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:51,982 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:51,987 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:51,990 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:51,991 - api.middleware.logging - INFO - [logging.py:44] - [808cf8d1] 200 - Time: 0.021s
2025-08-23 17:15:51,993 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:51,995 - api.middleware.logging - INFO - [logging.py:31] - [75df97b8] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:15:52,001 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:15:52,003 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:15:52,003 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:15:52,004 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:15:52,008 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:15:52,008 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:15:52,012 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:52,014 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:15:52,017 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:15:52,017 - api.middleware.logging - INFO - [logging.py:44] - [75df97b8] 200 - Time: 0.022s
2025-08-23 17:16:10,216 - api.middleware.logging - INFO - [logging.py:31] - [44340ee4] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:16:10,223 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:10,224 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:10,225 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:10,225 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:10,228 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:10,228 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:10,232 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:10,235 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:10,236 - api.middleware.logging - INFO - [logging.py:44] - [44340ee4] 200 - Time: 0.021s
2025-08-23 17:16:10,238 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:10,240 - api.middleware.logging - INFO - [logging.py:31] - [de9ea45f] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:16:10,265 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:10,266 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:10,267 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:10,267 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:10,270 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:10,270 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:10,274 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:10,277 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:10,280 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:10,280 - api.middleware.logging - INFO - [logging.py:44] - [de9ea45f] 200 - Time: 0.040s
2025-08-23 17:16:45,950 - api.middleware.logging - INFO - [logging.py:31] - [bc0c8e69] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 17:16:45,958 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:45,959 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:45,960 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:45,961 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:45,964 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:45,964 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:45,969 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:45,969 - api.middleware.logging - INFO - [logging.py:44] - [bc0c8e69] 200 - Time: 0.019s
2025-08-23 17:16:47,320 - api.middleware.logging - INFO - [logging.py:31] - [e511a88b] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:16:47,326 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:47,327 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:47,328 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:47,329 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:47,331 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:47,332 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:47,340 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:47,340 - api.middleware.logging - INFO - [logging.py:44] - [e511a88b] 200 - Time: 0.020s
2025-08-23 17:16:47,345 - api.middleware.logging - INFO - [logging.py:31] - [7985811d] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:16:47,354 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:47,354 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:47,356 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:47,358 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:47,360 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:47,361 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:47,367 - api.middleware.logging - INFO - [logging.py:44] - [7985811d] 200 - Time: 0.022s
2025-08-23 17:16:47,369 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:48,329 - api.middleware.logging - INFO - [logging.py:31] - [edad9d0d] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:16:48,336 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:48,338 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:48,338 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:48,339 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:48,341 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:48,341 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:48,347 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:48,350 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:48,355 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:48,355 - api.middleware.logging - INFO - [logging.py:44] - [edad9d0d] 200 - Time: 0.026s
2025-08-23 17:16:48,357 - api.middleware.logging - INFO - [logging.py:31] - [169759a6] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:16:48,364 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:48,366 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:48,366 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:48,367 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:48,369 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:48,370 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:48,375 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:48,378 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:16:48,379 - api.middleware.logging - INFO - [logging.py:44] - [169759a6] 200 - Time: 0.022s
2025-08-23 17:16:48,380 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:49,742 - api.middleware.logging - INFO - [logging.py:31] - [e4bb81e2] GET /api/admin/addons - Client: 127.0.0.1
2025-08-23 17:16:49,751 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:49,752 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:49,754 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:49,756 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:49,760 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:49,761 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:49,767 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:49,767 - api.middleware.logging - INFO - [logging.py:44] - [e4bb81e2] 200 - Time: 0.026s
2025-08-23 17:16:56,716 - api.middleware.logging - INFO - [logging.py:31] - [7db03c4e] DELETE /api/admin/addons/3 - Client: 127.0.0.1
2025-08-23 17:16:56,723 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:16:56,726 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:16:56,727 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:16:56,727 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:16:56,732 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:16:56,734 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:16:56,736 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823171656735919，包含 1 个操作
2025-08-23 17:16:56,736 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823171656735919 中的操作 1/1
2025-08-23 17:16:56,751 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250823171656735919 执行失败: Constraint Error: Duplicate key "addon_id: 3" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-23 17:16:56,752 - DatabaseManager - INFO - [manager.py:164] - 事务 20250823171656735919 已回滚
2025-08-23 17:16:56,752 - api.admin.routes - ERROR - [routes.py:108] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 3" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-23 17:16:56,755 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:16:56,755 - api.middleware.logging - INFO - [logging.py:44] - [7db03c4e] 200 - Time: 0.039s
2025-08-23 17:17:09,693 - api.middleware.logging - INFO - [logging.py:31] - [942b6b89] POST /api/admin/addons - Client: 127.0.0.1
2025-08-23 17:17:09,700 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:17:09,702 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:17:09,703 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:17:09,703 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:17:09,706 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:17:09,706 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:17:09,707 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823171709707975，包含 1 个操作
2025-08-23 17:17:09,707 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823171709707975 中的操作 1/1
2025-08-23 17:17:09,720 - DatabaseManager - INFO - [manager.py:156] - 事务 20250823171709707975 提交成功
2025-08-23 17:17:09,741 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:17:09,741 - api.middleware.logging - INFO - [logging.py:44] - [942b6b89] 200 - Time: 0.048s
2025-08-23 17:19:57,073 - api.middleware.logging - INFO - [logging.py:31] - [f14a1fe1] GET /api/admin/addons - Client: 127.0.0.1
2025-08-23 17:19:57,081 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:19:57,082 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:19:57,083 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:19:57,083 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:19:57,085 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:19:57,086 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:19:57,091 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:19:57,091 - api.middleware.logging - INFO - [logging.py:44] - [f14a1fe1] 200 - Time: 0.018s
2025-08-23 17:20:09,213 - api.middleware.logging - INFO - [logging.py:31] - [fda67d14] GET /api/admin/addons - Client: 127.0.0.1
2025-08-23 17:20:09,221 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:20:09,222 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:20:09,223 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:20:09,223 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:20:09,225 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:20:09,226 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:20:09,231 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:20:09,232 - api.middleware.logging - INFO - [logging.py:44] - [fda67d14] 200 - Time: 0.019s
2025-08-23 17:20:56,802 - api.middleware.logging - INFO - [logging.py:31] - [4fdd7a27] GET /api/auth/me - Client: 127.0.0.1
2025-08-23 17:20:56,811 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:20:56,812 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:20:56,813 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:20:56,814 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:20:56,815 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:20:56,816 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:20:56,820 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:20:56,820 - api.middleware.logging - INFO - [logging.py:44] - [4fdd7a27] 200 - Time: 0.018s
2025-08-23 17:20:58,055 - api.middleware.logging - INFO - [logging.py:31] - [35d155ad] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:20:58,062 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:20:58,063 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:20:58,065 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:20:58,066 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:20:58,068 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:20:58,068 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:20:58,073 - api.middleware.logging - INFO - [logging.py:44] - [35d155ad] 200 - Time: 0.019s
2025-08-23 17:20:58,074 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:20:58,077 - api.middleware.logging - INFO - [logging.py:31] - [100d236b] GET /api/meals - Client: 127.0.0.1
2025-08-23 17:20:58,088 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:20:58,089 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:20:58,090 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:20:58,090 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:20:58,093 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:20:58,094 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:20:58,104 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:20:58,105 - api.middleware.logging - INFO - [logging.py:44] - [100d236b] 200 - Time: 0.027s
2025-08-23 17:20:58,764 - api.middleware.logging - INFO - [logging.py:31] - [e658e179] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:20:58,771 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:20:58,773 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:20:58,774 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:20:58,775 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:20:58,778 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:20:58,779 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:20:58,783 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:20:58,786 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:20:58,788 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:20:58,789 - api.middleware.logging - INFO - [logging.py:44] - [e658e179] 200 - Time: 0.025s
2025-08-23 17:20:58,790 - api.middleware.logging - INFO - [logging.py:31] - [0d5b5690] GET /api/users/profile - Client: 127.0.0.1
2025-08-23 17:20:58,798 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:20:58,799 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:20:58,801 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:20:58,801 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:20:58,805 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:20:58,805 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:20:58,810 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:20:58,815 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-23 17:20:58,817 - api.middleware.logging - INFO - [logging.py:44] - [0d5b5690] 200 - Time: 0.026s
2025-08-23 17:20:58,818 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:21:00,154 - api.middleware.logging - INFO - [logging.py:31] - [64d79f91] GET /api/admin/addons - Client: 127.0.0.1
2025-08-23 17:21:00,162 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:21:00,164 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:21:00,165 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:21:00,165 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:21:00,167 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:21:00,168 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:21:00,172 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:21:00,173 - api.middleware.logging - INFO - [logging.py:44] - [64d79f91] 200 - Time: 0.019s
2025-08-23 17:21:03,351 - api.middleware.logging - INFO - [logging.py:31] - [40234880] DELETE /api/admin/addons/5 - Client: 127.0.0.1
2025-08-23 17:21:03,358 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-23 17:21:03,359 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-23 17:21:03,359 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-23 17:21:03,360 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=11, open_id=mock_openid_d27efb6bc93a9eb2
2025-08-23 17:21:03,362 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=11, found=True
2025-08-23 17:21:03,362 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=11
2025-08-23 17:21:03,363 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250823172103363887，包含 1 个操作
2025-08-23 17:21:03,363 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250823172103363887 中的操作 1/1
2025-08-23 17:21:03,369 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250823172103363887 执行失败: Constraint Error: Duplicate key "addon_id: 5" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-23 17:21:03,369 - DatabaseManager - INFO - [manager.py:164] - 事务 20250823172103363887 已回滚
2025-08-23 17:21:03,370 - api.admin.routes - ERROR - [routes.py:108] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 5" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-23 17:21:03,372 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-23 17:21:03,372 - api.middleware.logging - INFO - [logging.py:44] - [40234880] 200 - Time: 0.021s
2025-08-25 20:10:06,506 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:10:06,528 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:10:06,528 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:10:06,529 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:10:23,143 - api.middleware.logging - INFO - [logging.py:31] - [62dd520b] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:10:23,151 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:23,153 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:23,154 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:23,154 - api.auth.routes - ERROR - [routes.py:55] - JWT解码失败: 'NoneType' object has no attribute 'get'
2025-08-25 20:10:23,155 - api.auth.routes - ERROR - [routes.py:92] - 用户认证失败 - 未知错误: AttributeError: 'NoneType' object has no attribute 'get'
2025-08-25 20:10:23,158 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:23,173 - api.middleware.logging - INFO - [logging.py:44] - [62dd520b] 401 - Time: 0.030s
2025-08-25 20:10:23,754 - api.middleware.logging - INFO - [logging.py:31] - [18d0eedd] POST /api/auth/wechat/login - Client: 127.0.0.1
2025-08-25 20:10:23,761 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:23,762 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:23,763 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-25 20:10:23,764 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-25 20:10:23,765 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0a3LZZ000AFvRU128D200AY4QN2LZZ0a
2025-08-25 20:10:23,766 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825201023766952，包含 1 个操作
2025-08-25 20:10:23,767 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825201023766952 中的操作 1/1
2025-08-25 20:10:23,768 - root - INFO - [config.py:71] - 成功加载配置文件: E:\ppfiles\mp\ganghaofan_cc\server\config/config-dev.json
2025-08-25 20:10:23,769 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_a61c62e64ac36d47 设为管理员
2025-08-25 20:10:23,781 - DatabaseManager - INFO - [manager.py:156] - 事务 20250825201023766952 提交成功
2025-08-25 20:10:23,791 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_a61c62e64ac36d47
2025-08-25 20:10:23,793 - api.middleware.logging - INFO - [logging.py:44] - [18d0eedd] 200 - Time: 0.039s
2025-08-25 20:10:23,806 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:34,911 - api.middleware.logging - INFO - [logging.py:31] - [b9e8a396] POST /api/auth/register - Client: 127.0.0.1
2025-08-25 20:10:34,922 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:34,924 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:34,926 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:34,927 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:34,929 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:34,930 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:34,933 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825201034933536，包含 1 个操作
2025-08-25 20:10:34,933 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825201034933536 中的操作 1/1
2025-08-25 20:10:34,944 - DatabaseManager - INFO - [manager.py:156] - 事务 20250825201034933536 提交成功
2025-08-25 20:10:34,945 - api.auth.routes - INFO - [routes.py:203] - 用户注册完成: PP (mock_openid_a61c62e64ac36d47)
2025-08-25 20:10:34,946 - api.middleware.logging - INFO - [logging.py:44] - [b9e8a396] 200 - Time: 0.035s
2025-08-25 20:10:34,958 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:36,716 - api.middleware.logging - INFO - [logging.py:31] - [bad35839] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:10:36,726 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:36,727 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:36,727 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:36,729 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:36,733 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:36,733 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:36,740 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:36,741 - api.middleware.logging - INFO - [logging.py:44] - [bad35839] 200 - Time: 0.025s
2025-08-25 20:10:38,765 - api.middleware.logging - INFO - [logging.py:31] - [6c2ca6a3] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:10:38,774 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:38,775 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:38,777 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:38,777 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:38,779 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:38,780 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:38,790 - api.middleware.logging - INFO - [logging.py:44] - [6c2ca6a3] 200 - Time: 0.025s
2025-08-25 20:10:38,791 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:38,793 - api.middleware.logging - INFO - [logging.py:31] - [7481c914] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:10:38,803 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:38,804 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:38,806 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:38,806 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:38,809 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:38,809 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:38,818 - api.middleware.logging - INFO - [logging.py:44] - [7481c914] 200 - Time: 0.025s
2025-08-25 20:10:38,820 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:42,654 - api.middleware.logging - INFO - [logging.py:31] - [26d67ca7] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:10:42,661 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:42,663 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:42,664 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:42,664 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:42,666 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:42,667 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:42,671 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:10:42,673 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:10:42,676 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:42,676 - api.middleware.logging - INFO - [logging.py:44] - [26d67ca7] 200 - Time: 0.022s
2025-08-25 20:10:42,678 - api.middleware.logging - INFO - [logging.py:31] - [99ca9382] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:10:42,695 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:42,696 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:42,697 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:42,698 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:42,701 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:42,701 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:42,705 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:10:42,707 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:10:42,712 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:42,712 - api.middleware.logging - INFO - [logging.py:44] - [99ca9382] 200 - Time: 0.034s
2025-08-25 20:10:45,476 - api.middleware.logging - INFO - [logging.py:31] - [ddc9862e] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:10:45,488 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:45,489 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:45,490 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:45,492 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:45,495 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:45,498 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:45,507 - api.middleware.logging - INFO - [logging.py:44] - [ddc9862e] 200 - Time: 0.032s
2025-08-25 20:10:45,509 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:48,598 - api.middleware.logging - INFO - [logging.py:31] - [e4a664dc] DELETE /api/admin/addons/4 - Client: 127.0.0.1
2025-08-25 20:10:48,606 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:10:48,608 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:10:48,609 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:10:48,609 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:10:48,612 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:10:48,614 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:10:48,618 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825201048618284，包含 1 个操作
2025-08-25 20:10:48,619 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825201048618284 中的操作 1/1
2025-08-25 20:10:48,628 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250825201048618284 执行失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-25 20:10:48,629 - DatabaseManager - INFO - [manager.py:164] - 事务 20250825201048618284 已回滚
2025-08-25 20:10:48,629 - api.admin.routes - ERROR - [routes.py:108] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-25 20:10:48,633 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:10:48,633 - api.middleware.logging - INFO - [logging.py:44] - [e4a664dc] 200 - Time: 0.035s
2025-08-25 20:14:45,493 - api.middleware.logging - INFO - [logging.py:31] - [3a82563c] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:14:45,501 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:14:45,502 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:14:45,504 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:14:45,505 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:14:45,507 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:14:45,507 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:14:45,512 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:14:45,513 - api.middleware.logging - INFO - [logging.py:44] - [3a82563c] 200 - Time: 0.020s
2025-08-25 20:15:34,919 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:15:35,714 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:15:35,736 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:15:35,738 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:15:35,738 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:15:55,493 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:15:56,275 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:15:56,296 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:15:56,296 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:15:56,296 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:18:48,865 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:18:49,660 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:18:49,680 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:18:49,681 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:18:49,683 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:19:05,837 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:21:35,223 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:21:35,243 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:21:35,244 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:21:35,247 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:21:53,284 - api.middleware.logging - INFO - [logging.py:31] - [9cee1858] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:21:53,295 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:21:53,296 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:21:53,297 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:21:53,298 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:21:53,302 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:21:53,303 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:21:53,307 - api.middleware.logging - INFO - [logging.py:44] - [9cee1858] 200 - Time: 0.024s
2025-08-25 20:21:53,309 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:21:54,827 - api.middleware.logging - INFO - [logging.py:31] - [8fcbd688] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:21:54,834 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:21:54,835 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:21:54,837 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:21:54,838 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:21:54,841 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:21:54,841 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:21:54,849 - api.middleware.logging - INFO - [logging.py:44] - [8fcbd688] 200 - Time: 0.022s
2025-08-25 20:21:54,850 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:21:54,855 - api.middleware.logging - INFO - [logging.py:31] - [8ac71ca5] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:21:54,865 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:21:54,865 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:21:54,866 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:21:54,869 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:21:54,873 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:21:54,874 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:21:54,884 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:21:54,884 - api.middleware.logging - INFO - [logging.py:44] - [8ac71ca5] 200 - Time: 0.029s
2025-08-25 20:21:55,541 - api.middleware.logging - INFO - [logging.py:31] - [98de1e33] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:21:55,550 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:21:55,552 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:21:55,553 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:21:55,554 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:21:55,556 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:21:55,556 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:21:55,560 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:21:55,563 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:21:55,566 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:21:55,566 - api.middleware.logging - INFO - [logging.py:44] - [98de1e33] 200 - Time: 0.024s
2025-08-25 20:21:55,567 - api.middleware.logging - INFO - [logging.py:31] - [bbdc46eb] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:21:55,575 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:21:55,577 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:21:55,577 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:21:55,578 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:21:55,581 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:21:55,582 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:21:55,589 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:21:55,593 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:21:55,594 - api.middleware.logging - INFO - [logging.py:44] - [bbdc46eb] 200 - Time: 0.026s
2025-08-25 20:21:55,596 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:21:57,082 - api.middleware.logging - INFO - [logging.py:31] - [ca2ff8ed] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:21:57,092 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:21:57,094 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:21:57,096 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:21:57,097 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:21:57,106 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:21:57,106 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:21:57,115 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:21:57,116 - api.middleware.logging - INFO - [logging.py:44] - [ca2ff8ed] 200 - Time: 0.034s
2025-08-25 20:22:00,263 - api.middleware.logging - INFO - [logging.py:31] - [4e59e505] DELETE /api/admin/addons/3 - Client: 127.0.0.1
2025-08-25 20:22:00,274 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:22:00,275 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:22:00,276 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:22:00,276 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:22:00,281 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:22:00,281 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:22:00,291 - db.addon_operations_fix - ERROR - [addon_operations_fix.py:76] - UPDATE操作失败: Constraint Error: Duplicate key "addon_id: 3" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-25 20:22:00,326 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:22:00,326 - api.middleware.logging - INFO - [logging.py:44] - [4e59e505] 200 - Time: 0.063s
2025-08-25 20:22:03,463 - api.middleware.logging - INFO - [logging.py:31] - [42c45664] DELETE /api/admin/addons/2 - Client: 127.0.0.1
2025-08-25 20:22:03,470 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:22:03,472 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:22:03,472 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:22:03,473 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:22:03,475 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:22:03,476 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:22:03,481 - db.addon_operations_fix - ERROR - [addon_operations_fix.py:76] - UPDATE操作失败: Constraint Error: Duplicate key "addon_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (docs - sql - indexes).
2025-08-25 20:22:03,499 - api.middleware.logging - INFO - [logging.py:44] - [42c45664] 200 - Time: 0.037s
2025-08-25 20:22:03,511 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:27:51,157 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:36:58,618 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:36:58,639 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:36:58,639 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:36:58,642 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:37:13,749 - api.middleware.logging - INFO - [logging.py:31] - [d1eecaa3] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:37:13,759 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:13,761 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:13,762 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:13,762 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:13,766 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:13,766 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:13,771 - api.middleware.logging - INFO - [logging.py:44] - [d1eecaa3] 200 - Time: 0.022s
2025-08-25 20:37:13,772 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:37:15,039 - api.middleware.logging - INFO - [logging.py:31] - [aacd5d34] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:37:15,049 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:15,051 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:15,052 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:15,053 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:15,058 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:15,060 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:15,075 - api.middleware.logging - INFO - [logging.py:44] - [aacd5d34] 200 - Time: 0.036s
2025-08-25 20:37:15,076 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:37:15,079 - api.middleware.logging - INFO - [logging.py:31] - [d3e39bac] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:37:15,088 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:15,089 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:15,090 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:15,092 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:15,095 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:15,096 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:15,107 - api.middleware.logging - INFO - [logging.py:44] - [d3e39bac] 200 - Time: 0.029s
2025-08-25 20:37:15,110 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:37:15,835 - api.middleware.logging - INFO - [logging.py:31] - [352993c7] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:37:15,843 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:15,844 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:15,845 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:15,846 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:15,849 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:15,849 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:15,857 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:37:15,860 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:37:15,863 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:37:15,863 - api.middleware.logging - INFO - [logging.py:44] - [352993c7] 200 - Time: 0.030s
2025-08-25 20:37:15,866 - api.middleware.logging - INFO - [logging.py:31] - [2d03a357] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:37:15,877 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:15,878 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:15,879 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:15,881 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:15,885 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:15,885 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:15,892 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:37:15,895 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:37:15,897 - api.middleware.logging - INFO - [logging.py:44] - [2d03a357] 200 - Time: 0.030s
2025-08-25 20:37:15,898 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:37:19,485 - api.middleware.logging - INFO - [logging.py:31] - [72400098] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:37:19,493 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:19,494 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:19,495 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:19,496 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:19,501 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:19,501 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:19,508 - api.middleware.logging - INFO - [logging.py:44] - [72400098] 200 - Time: 0.023s
2025-08-25 20:37:19,509 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:37:21,750 - api.middleware.logging - INFO - [logging.py:31] - [43068fc2] DELETE /api/admin/addons/4 - Client: 127.0.0.1
2025-08-25 20:37:21,758 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:37:21,761 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:37:21,762 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:37:21,763 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:37:21,767 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:37:21,768 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:37:21,768 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825203721768136，包含 1 个操作
2025-08-25 20:37:21,769 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825203721768136 中的操作 1/1
2025-08-25 20:37:21,776 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250825203721768136 执行失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-08-25 20:37:21,778 - DatabaseManager - INFO - [manager.py:164] - 事务 20250825203721768136 已回滚
2025-08-25 20:37:21,778 - api.admin.routes - ERROR - [routes.py:105] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-08-25 20:37:21,783 - api.middleware.logging - INFO - [logging.py:44] - [43068fc2] 200 - Time: 0.033s
2025-08-25 20:37:21,785 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:38:46,396 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:44:35,780 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:44:35,802 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:44:35,803 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:44:35,808 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:44:43,222 - api.middleware.logging - INFO - [logging.py:31] - [74d007d0] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:44:43,232 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:43,234 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:43,235 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:43,236 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:43,242 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:43,243 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:43,250 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:44:43,250 - api.middleware.logging - INFO - [logging.py:44] - [74d007d0] 200 - Time: 0.028s
2025-08-25 20:44:51,933 - api.middleware.logging - INFO - [logging.py:31] - [ef2d1c60] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:44:51,943 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:51,944 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:51,945 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:51,946 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:51,949 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:51,951 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:51,969 - api.middleware.logging - INFO - [logging.py:44] - [ef2d1c60] 200 - Time: 0.036s
2025-08-25 20:44:51,971 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:44:51,974 - api.middleware.logging - INFO - [logging.py:31] - [96e011d1] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:44:51,984 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:51,986 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:51,987 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:51,988 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:51,991 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:51,992 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:52,009 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:44:52,010 - api.middleware.logging - INFO - [logging.py:44] - [96e011d1] 200 - Time: 0.036s
2025-08-25 20:44:53,173 - api.middleware.logging - INFO - [logging.py:31] - [50be2f69] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:44:53,182 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:53,184 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:53,184 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:53,185 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:53,189 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:53,189 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:53,196 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:44:53,201 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:44:53,205 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:44:53,205 - api.middleware.logging - INFO - [logging.py:44] - [50be2f69] 200 - Time: 0.032s
2025-08-25 20:44:53,207 - api.middleware.logging - INFO - [logging.py:31] - [e819d9ad] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:44:53,217 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:53,219 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:53,221 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:53,222 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:53,226 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:53,229 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:53,238 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:44:53,248 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:44:53,253 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:44:53,254 - api.middleware.logging - INFO - [logging.py:44] - [e819d9ad] 200 - Time: 0.047s
2025-08-25 20:44:54,483 - api.middleware.logging - INFO - [logging.py:31] - [17c841f5] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:44:54,494 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:54,496 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:54,498 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:54,499 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:54,504 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:54,504 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:54,511 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:44:54,511 - api.middleware.logging - INFO - [logging.py:44] - [17c841f5] 200 - Time: 0.028s
2025-08-25 20:44:56,826 - api.middleware.logging - INFO - [logging.py:31] - [a3fd2a35] DELETE /api/admin/addons/4 - Client: 127.0.0.1
2025-08-25 20:44:56,834 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:44:56,835 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:44:56,836 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:44:56,837 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:44:56,841 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:44:56,841 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:44:56,842 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825204456842966，包含 1 个操作
2025-08-25 20:44:56,847 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825204456842966 中的操作 1/1
2025-08-25 20:44:56,856 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250825204456842966 执行失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-08-25 20:44:56,857 - DatabaseManager - INFO - [manager.py:164] - 事务 20250825204456842966 已回滚
2025-08-25 20:44:56,858 - api.admin.routes - ERROR - [routes.py:105] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-08-25 20:44:56,863 - api.middleware.logging - INFO - [logging.py:44] - [a3fd2a35] 200 - Time: 0.037s
2025-08-25 20:44:56,865 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:47:49,513 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:47:50,278 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:47:50,302 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:47:50,304 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:47:50,305 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:48:31,301 - api.middleware.logging - INFO - [logging.py:31] - [89e9f8cb] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:48:31,310 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:31,313 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:31,317 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:31,318 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:31,327 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:31,330 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:31,338 - api.middleware.logging - INFO - [logging.py:44] - [89e9f8cb] 200 - Time: 0.037s
2025-08-25 20:48:31,339 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:32,861 - api.middleware.logging - INFO - [logging.py:31] - [3967845a] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:48:32,870 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:32,872 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:32,872 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:32,873 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:32,876 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:32,876 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:32,891 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:32,891 - api.middleware.logging - INFO - [logging.py:44] - [3967845a] 200 - Time: 0.030s
2025-08-25 20:48:32,894 - api.middleware.logging - INFO - [logging.py:31] - [2f7a4169] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:48:32,904 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:32,906 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:32,907 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:32,907 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:32,910 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:32,911 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:32,922 - api.middleware.logging - INFO - [logging.py:44] - [2f7a4169] 200 - Time: 0.028s
2025-08-25 20:48:32,924 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:35,020 - api.middleware.logging - INFO - [logging.py:31] - [5df9b7d9] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:48:35,029 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:35,030 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:35,031 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:35,032 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:35,035 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:35,035 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:35,041 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:48:35,045 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:48:35,046 - api.middleware.logging - INFO - [logging.py:44] - [5df9b7d9] 200 - Time: 0.026s
2025-08-25 20:48:35,049 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:35,050 - api.middleware.logging - INFO - [logging.py:31] - [3e5a5223] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:48:35,058 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:35,060 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:35,061 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:35,062 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:35,066 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:35,067 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:35,073 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:48:35,078 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:48:35,081 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:35,081 - api.middleware.logging - INFO - [logging.py:44] - [3e5a5223] 200 - Time: 0.031s
2025-08-25 20:48:36,739 - api.middleware.logging - INFO - [logging.py:31] - [ff30bae9] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:48:36,749 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:36,755 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:36,756 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:36,758 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:36,765 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:36,765 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:36,775 - api.middleware.logging - INFO - [logging.py:44] - [ff30bae9] 200 - Time: 0.036s
2025-08-25 20:48:36,776 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:38,868 - api.middleware.logging - INFO - [logging.py:31] - [c9cc502f] DELETE /api/admin/addons/4 - Client: 127.0.0.1
2025-08-25 20:48:38,878 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:48:38,881 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:48:38,882 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:48:38,884 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:48:38,890 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:48:38,892 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:48:38,906 - api.admin.routes - ERROR - [routes.py:105] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 4" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-08-25 20:48:38,908 - api.middleware.logging - INFO - [logging.py:44] - [c9cc502f] 200 - Time: 0.041s
2025-08-25 20:48:38,911 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:48:43,100 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 20:49:16,308 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 20:49:16,329 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 20:49:16,329 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 20:49:16,330 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 20:49:21,536 - api.middleware.logging - INFO - [logging.py:31] - [4f50df3d] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 20:49:21,547 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:21,551 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:21,553 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:21,554 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:21,559 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:21,561 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:21,565 - api.middleware.logging - INFO - [logging.py:44] - [4f50df3d] 200 - Time: 0.029s
2025-08-25 20:49:21,566 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:49:22,984 - api.middleware.logging - INFO - [logging.py:31] - [e7082b41] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:49:22,993 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:22,995 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:22,996 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:22,997 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:23,001 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:23,002 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:23,016 - api.middleware.logging - INFO - [logging.py:44] - [e7082b41] 200 - Time: 0.033s
2025-08-25 20:49:23,018 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:49:23,020 - api.middleware.logging - INFO - [logging.py:31] - [4247b041] GET /api/meals - Client: 127.0.0.1
2025-08-25 20:49:23,030 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:23,032 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:23,034 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:23,035 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:23,039 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:23,039 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:23,050 - api.middleware.logging - INFO - [logging.py:44] - [4247b041] 200 - Time: 0.029s
2025-08-25 20:49:23,052 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:49:24,104 - api.middleware.logging - INFO - [logging.py:31] - [72e93027] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:49:24,112 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:24,113 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:24,114 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:24,115 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:24,119 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:24,120 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:24,126 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:49:24,131 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:49:24,134 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:49:24,134 - api.middleware.logging - INFO - [logging.py:44] - [72e93027] 200 - Time: 0.030s
2025-08-25 20:49:24,136 - api.middleware.logging - INFO - [logging.py:31] - [f07f835d] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 20:49:24,145 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:24,147 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:24,148 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:24,151 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:24,156 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:24,157 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:24,167 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:49:24,171 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 20:49:24,175 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:49:24,175 - api.middleware.logging - INFO - [logging.py:44] - [f07f835d] 200 - Time: 0.040s
2025-08-25 20:49:25,356 - api.middleware.logging - INFO - [logging.py:31] - [3f4c59f6] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 20:49:25,366 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:25,368 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:25,369 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:25,370 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:25,373 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:25,375 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:25,380 - api.middleware.logging - INFO - [logging.py:44] - [3f4c59f6] 200 - Time: 0.024s
2025-08-25 20:49:25,382 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:49:27,404 - api.middleware.logging - INFO - [logging.py:31] - [24a5dd07] DELETE /api/admin/addons/5 - Client: 127.0.0.1
2025-08-25 20:49:27,417 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 20:49:27,419 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 20:49:27,419 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 20:49:27,421 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 20:49:27,425 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 20:49:27,425 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 20:49:27,434 - api.admin.routes - ERROR - [routes.py:105] - 停用附加项失败: Constraint Error: Duplicate key "addon_id: 5" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-08-25 20:49:27,436 - api.middleware.logging - INFO - [logging.py:44] - [24a5dd07] 200 - Time: 0.031s
2025-08-25 20:49:27,437 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 20:53:22,935 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 13:55:17,999 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 13:55:18,021 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 13:55:18,021 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 13:55:18,021 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 13:55:40,864 - api.middleware.logging - INFO - [logging.py:31] - [49a3099a] GET /health - Client: 127.0.0.1
2025-08-25 13:55:40,865 - api.middleware.logging - INFO - [logging.py:44] - [49a3099a] 200 - Time: 0.002s
2025-08-25 13:56:08,060 - api.middleware.logging - INFO - [logging.py:31] - [81face31] GET /admin/addons - Client: 127.0.0.1
2025-08-25 13:56:08,061 - api.middleware.logging - INFO - [logging.py:44] - [81face31] 404 - Time: 0.002s
2025-08-25 13:57:48,097 - api.middleware.logging - INFO - [logging.py:31] - [acbaec91] GET /admin/addons - Client: 127.0.0.1
2025-08-25 13:57:48,098 - api.middleware.logging - INFO - [logging.py:44] - [acbaec91] 404 - Time: 0.002s
2025-08-25 13:57:54,340 - api.middleware.logging - INFO - [logging.py:31] - [a1bb0d5a] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 13:57:54,341 - api.middleware.logging - INFO - [logging.py:44] - [a1bb0d5a] 403 - Time: 0.001s
2025-08-25 13:58:18,392 - api.middleware.logging - INFO - [logging.py:31] - [3964d538] DELETE /api/admin/addons/5 - Client: 127.0.0.1
2025-08-25 13:58:18,400 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 13:58:18,403 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 13:58:18,404 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 13:58:18,404 - api.auth.routes - ERROR - [routes.py:55] - JWT解码失败: module 'jwt' has no attribute 'JWTError'
2025-08-25 13:58:18,404 - api.auth.routes - ERROR - [routes.py:92] - 用户认证失败 - 未知错误: AttributeError: module 'jwt' has no attribute 'JWTError'
2025-08-25 13:58:18,406 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 13:58:18,407 - api.middleware.logging - INFO - [logging.py:44] - [3964d538] 401 - Time: 0.015s
2025-08-25 13:58:39,849 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 13:58:39,871 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 13:58:39,871 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 13:58:39,871 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 13:58:51,459 - api.middleware.logging - INFO - [logging.py:31] - [d72f43e8] GET /health - Client: 127.0.0.1
2025-08-25 13:58:51,460 - api.middleware.logging - INFO - [logging.py:44] - [d72f43e8] 200 - Time: 0.001s
2025-08-25 21:02:44,188 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 21:02:44,209 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 21:02:44,210 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 21:02:44,216 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 21:02:58,193 - api.middleware.logging - INFO - [logging.py:31] - [bab57a4f] GET /api/auth/me - Client: 127.0.0.1
2025-08-25 21:02:58,202 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:02:58,204 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:02:58,205 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:02:58,206 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:02:58,211 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:02:58,212 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:02:58,219 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:02:58,219 - api.middleware.logging - INFO - [logging.py:44] - [bab57a4f] 200 - Time: 0.027s
2025-08-25 21:02:59,459 - api.middleware.logging - INFO - [logging.py:31] - [c59139bc] GET /api/meals - Client: 127.0.0.1
2025-08-25 21:02:59,467 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:02:59,470 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:02:59,471 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:02:59,472 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:02:59,475 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:02:59,476 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:02:59,491 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:02:59,492 - api.middleware.logging - INFO - [logging.py:44] - [c59139bc] 200 - Time: 0.033s
2025-08-25 21:02:59,495 - api.middleware.logging - INFO - [logging.py:31] - [f58dbbaf] GET /api/meals - Client: 127.0.0.1
2025-08-25 21:02:59,506 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:02:59,507 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:02:59,508 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:02:59,510 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:02:59,514 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:02:59,516 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:02:59,526 - api.middleware.logging - INFO - [logging.py:44] - [f58dbbaf] 200 - Time: 0.031s
2025-08-25 21:02:59,529 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:03:00,123 - api.middleware.logging - INFO - [logging.py:31] - [1dd65d50] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 21:03:00,131 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:03:00,136 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:03:00,137 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:03:00,139 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:03:00,142 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:03:00,142 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:03:00,153 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 21:03:00,159 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 21:03:00,161 - api.middleware.logging - INFO - [logging.py:44] - [1dd65d50] 200 - Time: 0.039s
2025-08-25 21:03:00,163 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:03:00,169 - api.middleware.logging - INFO - [logging.py:31] - [a2830a10] GET /api/users/profile - Client: 127.0.0.1
2025-08-25 21:03:00,186 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:03:00,189 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:03:00,191 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:03:00,195 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:03:00,207 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:03:00,210 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:03:00,223 - DatabaseManager - ERROR - [query_operations.py:525] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 21:03:00,233 - DatabaseManager - ERROR - [query_operations.py:576] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-25 21:03:00,237 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:03:00,239 - api.middleware.logging - INFO - [logging.py:44] - [a2830a10] 200 - Time: 0.070s
2025-08-25 21:03:01,334 - api.middleware.logging - INFO - [logging.py:31] - [bbde10fb] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 21:03:01,343 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:03:01,345 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:03:01,346 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:03:01,347 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:03:01,350 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:03:01,352 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:03:01,356 - api.middleware.logging - INFO - [logging.py:44] - [bbde10fb] 200 - Time: 0.021s
2025-08-25 21:03:01,359 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:03:08,018 - api.middleware.logging - INFO - [logging.py:31] - [35eaf119] POST /api/admin/addons - Client: 127.0.0.1
2025-08-25 21:03:08,027 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:03:08,028 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:03:08,030 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:03:08,034 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:03:08,042 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:03:08,043 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:03:08,045 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825210308045802，包含 1 个操作
2025-08-25 21:03:08,046 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825210308045802 中的操作 1/1
2025-08-25 21:03:08,067 - DatabaseManager - INFO - [manager.py:156] - 事务 20250825210308045802 提交成功
2025-08-25 21:03:08,069 - api.middleware.logging - INFO - [logging.py:44] - [35eaf119] 200 - Time: 0.052s
2025-08-25 21:03:08,082 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:03:11,242 - api.middleware.logging - INFO - [logging.py:31] - [6b115088] DELETE /api/admin/addons/7 - Client: 127.0.0.1
2025-08-25 21:03:11,253 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:03:11,255 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:03:11,255 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:03:11,257 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:03:11,264 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:03:11,265 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:03:11,307 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:03:11,307 - api.middleware.logging - INFO - [logging.py:44] - [6b115088] 200 - Time: 0.065s
2025-08-25 21:03:50,404 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 21:03:51,154 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 21:03:51,179 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 21:03:51,184 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 21:03:51,185 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 21:04:13,031 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-25 21:04:13,778 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-25 21:04:13,798 - api.main - INFO - [main.py:34] - 罡好饭API服务启动中...
2025-08-25 21:04:13,800 - api.main - INFO - [main.py:35] - 环境: development
2025-08-25 21:04:13,805 - api.main - INFO - [main.py:36] - 调试模式: True
2025-08-25 21:05:55,963 - api.middleware.logging - INFO - [logging.py:31] - [9012a4a1] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 21:05:55,974 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:05:55,975 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:05:55,976 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:05:55,978 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:05:55,982 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:05:55,983 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:05:55,993 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:05:55,993 - api.middleware.logging - INFO - [logging.py:44] - [9012a4a1] 200 - Time: 0.030s
2025-08-25 21:06:24,007 - api.middleware.logging - INFO - [logging.py:31] - [a9a82034] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 21:06:24,014 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:06:24,016 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:06:24,016 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:06:24,018 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:06:24,021 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:06:24,022 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:06:24,027 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:06:24,027 - api.middleware.logging - INFO - [logging.py:44] - [a9a82034] 200 - Time: 0.020s
2025-08-25 21:06:50,516 - api.middleware.logging - INFO - [logging.py:31] - [babb96a9] GET /api/admin/addons - Client: 127.0.0.1
2025-08-25 21:06:50,523 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:06:50,526 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:06:50,527 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:06:50,527 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:06:50,530 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:06:50,533 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:06:50,538 - api.middleware.logging - INFO - [logging.py:44] - [babb96a9] 200 - Time: 0.022s
2025-08-25 21:06:50,539 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:07:32,285 - api.middleware.logging - INFO - [logging.py:31] - [b5664079] POST /api/admin/addons - Client: 127.0.0.1
2025-08-25 21:07:32,292 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:07:32,295 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:07:32,297 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:07:32,298 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:07:32,301 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:07:32,303 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:07:32,305 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250825210732305645，包含 1 个操作
2025-08-25 21:07:32,308 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250825210732305645 中的操作 1/1
2025-08-25 21:07:32,328 - DatabaseManager - INFO - [manager.py:156] - 事务 20250825210732305645 提交成功
2025-08-25 21:07:32,342 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:07:32,342 - api.middleware.logging - INFO - [logging.py:44] - [b5664079] 200 - Time: 0.057s
2025-08-25 21:07:34,977 - api.middleware.logging - INFO - [logging.py:31] - [d7b28368] DELETE /api/admin/addons/8 - Client: 127.0.0.1
2025-08-25 21:07:34,994 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: E:\ppfiles\mp\ganghaofan_cc\data/gang_hao_fan_dev.db
2025-08-25 21:07:34,995 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-25 21:07:34,997 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-25 21:07:35,000 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=12, open_id=mock_openid_a61c62e64ac36d47
2025-08-25 21:07:35,003 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=12, found=True
2025-08-25 21:07:35,004 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=12
2025-08-25 21:07:35,040 - api.middleware.logging - INFO - [logging.py:44] - [d7b28368] 200 - Time: 0.062s
2025-08-25 21:07:35,053 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-25 21:07:57,604 - api.main - INFO - [main.py:41] - 罡好饭API服务关闭中...
2025-08-30 11:52:44,471 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 11:52:44,619 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,621 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,624 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244624911，包含 1 个操作
2025-08-30 11:52:44,625 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244624911 中的操作 1/1
2025-08-30 11:52:44,636 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244624911 提交成功
2025-08-30 11:52:44,638 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244638381，包含 1 个操作
2025-08-30 11:52:44,638 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244638381 中的操作 1/1
2025-08-30 11:52:44,642 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244638381 提交成功
2025-08-30 11:52:44,645 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,651 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,652 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,654 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244654771，包含 1 个操作
2025-08-30 11:52:44,655 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244654771 中的操作 1/1
2025-08-30 11:52:44,659 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244654771 提交成功
2025-08-30 11:52:44,661 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244661070，包含 1 个操作
2025-08-30 11:52:44,661 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244661070 中的操作 1/1
2025-08-30 11:52:44,665 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244661070 提交成功
2025-08-30 11:52:44,666 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244666548，包含 1 个操作
2025-08-30 11:52:44,666 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244666548 中的操作 1/1
2025-08-30 11:52:44,668 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115244666548 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-30 11:52:44,668 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115244666548 已回滚
2025-08-30 11:52:44,670 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,675 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,676 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,679 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244679796，包含 1 个操作
2025-08-30 11:52:44,680 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244679796 中的操作 1/1
2025-08-30 11:52:44,685 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244679796 提交成功
2025-08-30 11:52:44,686 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244686396，包含 1 个操作
2025-08-30 11:52:44,686 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244686396 中的操作 1/1
2025-08-30 11:52:44,690 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244686396 提交成功
2025-08-30 11:52:44,705 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,712 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,713 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,716 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244716596，包含 1 个操作
2025-08-30 11:52:44,716 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244716596 中的操作 1/1
2025-08-30 11:52:44,721 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244716596 提交成功
2025-08-30 11:52:44,723 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244723203，包含 1 个操作
2025-08-30 11:52:44,723 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244723203 中的操作 1/1
2025-08-30 11:52:44,727 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244723203 提交成功
2025-08-30 11:52:44,728 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244728256，包含 1 个操作
2025-08-30 11:52:44,728 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244728256 中的操作 1/1
2025-08-30 11:52:44,734 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244728256 提交成功
2025-08-30 11:52:44,737 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,744 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,745 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,749 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244748998，包含 1 个操作
2025-08-30 11:52:44,749 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244748998 中的操作 1/1
2025-08-30 11:52:44,755 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244748998 提交成功
2025-08-30 11:52:44,757 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244757593，包含 1 个操作
2025-08-30 11:52:44,757 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244757593 中的操作 1/1
2025-08-30 11:52:44,763 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244757593 提交成功
2025-08-30 11:52:44,763 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244763900，包含 1 个操作
2025-08-30 11:52:44,764 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244763900 中的操作 1/1
2025-08-30 11:52:44,772 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244763900 提交成功
2025-08-30 11:52:44,773 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244773008，包含 1 个操作
2025-08-30 11:52:44,773 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244773008 中的操作 1/1
2025-08-30 11:52:44,776 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244773008 提交成功
2025-08-30 11:52:44,781 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,801 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,810 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,813 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244813942，包含 1 个操作
2025-08-30 11:52:44,814 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244813942 中的操作 1/1
2025-08-30 11:52:44,818 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244813942 提交成功
2025-08-30 11:52:44,820 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244819980，包含 1 个操作
2025-08-30 11:52:44,820 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244819980 中的操作 1/1
2025-08-30 11:52:44,824 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244819980 提交成功
2025-08-30 11:52:44,824 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244824625，包含 1 个操作
2025-08-30 11:52:44,824 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244824625 中的操作 1/1
2025-08-30 11:52:44,830 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244824625 提交成功
2025-08-30 11:52:44,830 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244830846，包含 1 个操作
2025-08-30 11:52:44,831 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244830846 中的操作 1/1
2025-08-30 11:52:44,835 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244830846 提交成功
2025-08-30 11:52:44,837 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,843 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,844 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,857 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244857897，包含 1 个操作
2025-08-30 11:52:44,858 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244857897 中的操作 1/1
2025-08-30 11:52:44,862 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244857897 提交成功
2025-08-30 11:52:44,863 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244863721，包含 1 个操作
2025-08-30 11:52:44,863 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244863721 中的操作 1/1
2025-08-30 11:52:44,868 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244863721 提交成功
2025-08-30 11:52:44,868 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244868361，包含 1 个操作
2025-08-30 11:52:44,868 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244868361 中的操作 1/1
2025-08-30 11:52:44,873 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244868361 提交成功
2025-08-30 11:52:44,890 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,896 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,898 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,902 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244902115，包含 1 个操作
2025-08-30 11:52:44,902 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244902115 中的操作 1/1
2025-08-30 11:52:44,906 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244902115 提交成功
2025-08-30 11:52:44,908 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244908063，包含 1 个操作
2025-08-30 11:52:44,908 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244908063 中的操作 1/1
2025-08-30 11:52:44,913 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244908063 提交成功
2025-08-30 11:52:44,913 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244913548，包含 1 个操作
2025-08-30 11:52:44,913 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244913548 中的操作 1/1
2025-08-30 11:52:44,921 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244913548 提交成功
2025-08-30 11:52:44,921 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244921780，包含 1 个操作
2025-08-30 11:52:44,921 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244921780 中的操作 1/1
2025-08-30 11:52:44,930 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244921780 提交成功
2025-08-30 11:52:44,932 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,938 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,939 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,942 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244942296，包含 1 个操作
2025-08-30 11:52:44,942 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244942296 中的操作 1/1
2025-08-30 11:52:44,946 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244942296 提交成功
2025-08-30 11:52:44,947 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244947938，包含 1 个操作
2025-08-30 11:52:44,948 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244947938 中的操作 1/1
2025-08-30 11:52:44,953 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244947938 提交成功
2025-08-30 11:52:44,953 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244953349，包含 1 个操作
2025-08-30 11:52:44,953 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244953349 中的操作 1/1
2025-08-30 11:52:44,957 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244953349 提交成功
2025-08-30 11:52:44,957 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244957762，包含 1 个操作
2025-08-30 11:52:44,957 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244957762 中的操作 1/1
2025-08-30 11:52:44,963 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244957762 提交成功
2025-08-30 11:52:44,963 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244963887，包含 1 个操作
2025-08-30 11:52:44,964 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244963887 中的操作 1/1
2025-08-30 11:52:44,971 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244963887 提交成功
2025-08-30 11:52:44,972 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244972031，包含 1 个操作
2025-08-30 11:52:44,972 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244972031 中的操作 1/1
2025-08-30 11:52:44,985 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244972031 提交成功
2025-08-30 11:52:44,988 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:44,994 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:44,995 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:44,998 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115244998351，包含 1 个操作
2025-08-30 11:52:44,998 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115244998351 中的操作 1/1
2025-08-30 11:52:45,003 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115244998351 提交成功
2025-08-30 11:52:45,003 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245003320，包含 1 个操作
2025-08-30 11:52:45,003 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245003320 中的操作 1/1
2025-08-30 11:52:45,007 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245003320 提交成功
2025-08-30 11:52:45,008 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245008780，包含 1 个操作
2025-08-30 11:52:45,009 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245008780 中的操作 1/1
2025-08-30 11:52:45,012 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245008780 提交成功
2025-08-30 11:52:45,012 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245012872，包含 1 个操作
2025-08-30 11:52:45,013 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245012872 中的操作 1/1
2025-08-30 11:52:45,018 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245012872 提交成功
2025-08-30 11:52:45,018 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245018928，包含 1 个操作
2025-08-30 11:52:45,019 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245018928 中的操作 1/1
2025-08-30 11:52:45,021 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245018928 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-30 11:52:45,022 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245018928 已回滚
2025-08-30 11:52:45,024 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,029 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,030 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,033 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245033919，包含 1 个操作
2025-08-30 11:52:45,034 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245033919 中的操作 1/1
2025-08-30 11:52:45,038 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245033919 提交成功
2025-08-30 11:52:45,039 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245039853，包含 1 个操作
2025-08-30 11:52:45,040 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245039853 中的操作 1/1
2025-08-30 11:52:45,044 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245039853 提交成功
2025-08-30 11:52:45,045 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245045076，包含 1 个操作
2025-08-30 11:52:45,045 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245045076 中的操作 1/1
2025-08-30 11:52:45,049 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245045076 提交成功
2025-08-30 11:52:45,049 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245049931，包含 1 个操作
2025-08-30 11:52:45,050 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245049931 中的操作 1/1
2025-08-30 11:52:45,055 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245049931 提交成功
2025-08-30 11:52:45,056 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245056082，包含 1 个操作
2025-08-30 11:52:45,056 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245056082 中的操作 1/1
2025-08-30 11:52:45,064 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245056082 提交成功
2025-08-30 11:52:45,064 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245064404，包含 1 个操作
2025-08-30 11:52:45,064 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245064404 中的操作 1/1
2025-08-30 11:52:45,077 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245064404 提交成功
2025-08-30 11:52:45,077 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245077838，包含 1 个操作
2025-08-30 11:52:45,078 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245077838 中的操作 1/1
2025-08-30 11:52:45,088 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245077838 提交成功
2025-08-30 11:52:45,091 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,097 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,098 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,101 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245101260，包含 1 个操作
2025-08-30 11:52:45,101 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245101260 中的操作 1/1
2025-08-30 11:52:45,105 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245101260 提交成功
2025-08-30 11:52:45,106 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245106268，包含 1 个操作
2025-08-30 11:52:45,106 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245106268 中的操作 1/1
2025-08-30 11:52:45,107 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245106268 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:45,107 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245106268 已回滚
2025-08-30 11:52:45,111 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,116 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,117 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,120 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245120629，包含 1 个操作
2025-08-30 11:52:45,120 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245120629 中的操作 1/1
2025-08-30 11:52:45,129 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245120629 提交成功
2025-08-30 11:52:45,131 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245131445，包含 1 个操作
2025-08-30 11:52:45,131 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245131445 中的操作 1/1
2025-08-30 11:52:45,140 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245131445 提交成功
2025-08-30 11:52:45,141 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245141204，包含 1 个操作
2025-08-30 11:52:45,141 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245141204 中的操作 1/1
2025-08-30 11:52:45,147 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245141204 提交成功
2025-08-30 11:52:45,147 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245147382，包含 1 个操作
2025-08-30 11:52:45,147 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245147382 中的操作 1/1
2025-08-30 11:52:45,155 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245147382 提交成功
2025-08-30 11:52:45,155 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245155828，包含 1 个操作
2025-08-30 11:52:45,156 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245155828 中的操作 1/1
2025-08-30 11:52:45,167 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245155828 提交成功
2025-08-30 11:52:45,169 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245169395，包含 1 个操作
2025-08-30 11:52:45,169 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245169395 中的操作 1/1
2025-08-30 11:52:45,172 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245169395 执行失败: 餐次已满，无法下单
2025-08-30 11:52:45,172 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245169395 已回滚
2025-08-30 11:52:45,175 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,180 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,181 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,184 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245184686，包含 1 个操作
2025-08-30 11:52:45,184 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245184686 中的操作 1/1
2025-08-30 11:52:45,189 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245184686 提交成功
2025-08-30 11:52:45,190 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245190599，包含 1 个操作
2025-08-30 11:52:45,190 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245190599 中的操作 1/1
2025-08-30 11:52:45,195 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245190599 提交成功
2025-08-30 11:52:45,195 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245195161，包含 1 个操作
2025-08-30 11:52:45,195 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245195161 中的操作 1/1
2025-08-30 11:52:45,199 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245195161 提交成功
2025-08-30 11:52:45,199 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245199341，包含 1 个操作
2025-08-30 11:52:45,199 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245199341 中的操作 1/1
2025-08-30 11:52:45,204 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245199341 提交成功
2025-08-30 11:52:45,205 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245205269，包含 1 个操作
2025-08-30 11:52:45,205 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245205269 中的操作 1/1
2025-08-30 11:52:45,213 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245205269 提交成功
2025-08-30 11:52:45,213 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245213897，包含 1 个操作
2025-08-30 11:52:45,214 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245213897 中的操作 1/1
2025-08-30 11:52:45,226 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245213897 提交成功
2025-08-30 11:52:45,226 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245226386，包含 1 个操作
2025-08-30 11:52:45,226 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245226386 中的操作 1/1
2025-08-30 11:52:45,229 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245226386 执行失败: 用户已有该餐次的有效订单 1
2025-08-30 11:52:45,229 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245226386 已回滚
2025-08-30 11:52:45,232 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,237 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,238 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,241 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245241302，包含 1 个操作
2025-08-30 11:52:45,241 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245241302 中的操作 1/1
2025-08-30 11:52:45,246 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245241302 提交成功
2025-08-30 11:52:45,248 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245248136，包含 1 个操作
2025-08-30 11:52:45,248 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245248136 中的操作 1/1
2025-08-30 11:52:45,252 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245248136 提交成功
2025-08-30 11:52:45,252 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245252365，包含 1 个操作
2025-08-30 11:52:45,252 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245252365 中的操作 1/1
2025-08-30 11:52:45,258 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245252365 提交成功
2025-08-30 11:52:45,258 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245258616，包含 1 个操作
2025-08-30 11:52:45,258 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245258616 中的操作 1/1
2025-08-30 11:52:45,264 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245258616 提交成功
2025-08-30 11:52:45,271 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,277 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,277 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,280 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245280789，包含 1 个操作
2025-08-30 11:52:45,281 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245280789 中的操作 1/1
2025-08-30 11:52:45,285 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245280789 提交成功
2025-08-30 11:52:45,286 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245286617，包含 1 个操作
2025-08-30 11:52:45,286 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245286617 中的操作 1/1
2025-08-30 11:52:45,291 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245286617 提交成功
2025-08-30 11:52:45,291 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245291460，包含 1 个操作
2025-08-30 11:52:45,291 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245291460 中的操作 1/1
2025-08-30 11:52:45,298 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245291460 提交成功
2025-08-30 11:52:45,298 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245298382，包含 1 个操作
2025-08-30 11:52:45,298 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245298382 中的操作 1/1
2025-08-30 11:52:45,303 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245298382 提交成功
2025-08-30 11:52:45,303 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245303853，包含 1 个操作
2025-08-30 11:52:45,304 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245303853 中的操作 1/1
2025-08-30 11:52:45,312 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245303853 提交成功
2025-08-30 11:52:45,312 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245312431，包含 1 个操作
2025-08-30 11:52:45,312 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245312431 中的操作 1/1
2025-08-30 11:52:45,325 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245312431 提交成功
2025-08-30 11:52:45,333 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,338 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,339 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,342 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245342228，包含 1 个操作
2025-08-30 11:52:45,342 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245342228 中的操作 1/1
2025-08-30 11:52:45,346 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245342228 提交成功
2025-08-30 11:52:45,348 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245348727，包含 1 个操作
2025-08-30 11:52:45,348 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245348727 中的操作 1/1
2025-08-30 11:52:45,353 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245348727 提交成功
2025-08-30 11:52:45,353 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245353550，包含 1 个操作
2025-08-30 11:52:45,353 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245353550 中的操作 1/1
2025-08-30 11:52:45,357 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245353550 提交成功
2025-08-30 11:52:45,357 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245357750，包含 1 个操作
2025-08-30 11:52:45,357 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245357750 中的操作 1/1
2025-08-30 11:52:45,363 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245357750 提交成功
2025-08-30 11:52:45,363 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245363866，包含 1 个操作
2025-08-30 11:52:45,364 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245363866 中的操作 1/1
2025-08-30 11:52:45,372 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245363866 提交成功
2025-08-30 11:52:45,372 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245372160，包含 1 个操作
2025-08-30 11:52:45,372 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245372160 中的操作 1/1
2025-08-30 11:52:45,386 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245372160 提交成功
2025-08-30 11:52:45,392 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,398 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,399 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,403 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245403594，包含 1 个操作
2025-08-30 11:52:45,403 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245403594 中的操作 1/1
2025-08-30 11:52:45,408 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245403594 提交成功
2025-08-30 11:52:45,408 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245408376，包含 1 个操作
2025-08-30 11:52:45,408 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245408376 中的操作 1/1
2025-08-30 11:52:45,413 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245408376 提交成功
2025-08-30 11:52:45,414 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245414585，包含 1 个操作
2025-08-30 11:52:45,414 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245414585 中的操作 1/1
2025-08-30 11:52:45,418 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245414585 提交成功
2025-08-30 11:52:45,419 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245419061，包含 1 个操作
2025-08-30 11:52:45,419 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245419061 中的操作 1/1
2025-08-30 11:52:45,424 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245419061 提交成功
2025-08-30 11:52:45,430 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,435 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,436 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,438 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245438945，包含 1 个操作
2025-08-30 11:52:45,439 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245438945 中的操作 1/1
2025-08-30 11:52:45,443 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245438945 提交成功
2025-08-30 11:52:45,444 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245444585，包含 1 个操作
2025-08-30 11:52:45,444 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245444585 中的操作 1/1
2025-08-30 11:52:45,448 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245444585 提交成功
2025-08-30 11:52:45,450 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245450521，包含 1 个操作
2025-08-30 11:52:45,450 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245450521 中的操作 1/1
2025-08-30 11:52:45,458 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245450521 提交成功
2025-08-30 11:52:45,458 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245458740，包含 1 个操作
2025-08-30 11:52:45,458 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245458740 中的操作 1/1
2025-08-30 11:52:45,466 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245458740 提交成功
2025-08-30 11:52:45,474 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,480 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,481 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,483 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245483960，包含 1 个操作
2025-08-30 11:52:45,484 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245483960 中的操作 1/1
2025-08-30 11:52:45,488 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245483960 提交成功
2025-08-30 11:52:45,489 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245489749，包含 1 个操作
2025-08-30 11:52:45,489 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245489749 中的操作 1/1
2025-08-30 11:52:45,494 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245489749 提交成功
2025-08-30 11:52:45,494 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245494237，包含 1 个操作
2025-08-30 11:52:45,494 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245494237 中的操作 1/1
2025-08-30 11:52:45,498 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245494237 提交成功
2025-08-30 11:52:45,498 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245498282，包含 1 个操作
2025-08-30 11:52:45,498 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245498282 中的操作 1/1
2025-08-30 11:52:45,504 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245498282 提交成功
2025-08-30 11:52:45,504 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245504531，包含 1 个操作
2025-08-30 11:52:45,504 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245504531 中的操作 1/1
2025-08-30 11:52:45,512 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245504531 提交成功
2025-08-30 11:52:45,512 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245512779，包含 1 个操作
2025-08-30 11:52:45,512 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245512779 中的操作 1/1
2025-08-30 11:52:45,525 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245512779 提交成功
2025-08-30 11:52:45,533 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,538 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,539 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,542 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245542327，包含 1 个操作
2025-08-30 11:52:45,542 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245542327 中的操作 1/1
2025-08-30 11:52:45,547 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245542327 提交成功
2025-08-30 11:52:45,548 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245548432，包含 1 个操作
2025-08-30 11:52:45,548 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245548432 中的操作 1/1
2025-08-30 11:52:45,553 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245548432 提交成功
2025-08-30 11:52:45,553 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245553619，包含 1 个操作
2025-08-30 11:52:45,553 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245553619 中的操作 1/1
2025-08-30 11:52:45,561 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245553619 提交成功
2025-08-30 11:52:45,561 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245561970，包含 1 个操作
2025-08-30 11:52:45,562 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245561970 中的操作 1/1
2025-08-30 11:52:45,569 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245561970 提交成功
2025-08-30 11:52:45,574 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,579 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,580 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,583 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245583418，包含 1 个操作
2025-08-30 11:52:45,583 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245583418 中的操作 1/1
2025-08-30 11:52:45,588 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245583418 提交成功
2025-08-30 11:52:45,589 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245589354，包含 1 个操作
2025-08-30 11:52:45,589 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245589354 中的操作 1/1
2025-08-30 11:52:45,594 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245589354 提交成功
2025-08-30 11:52:45,594 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245594185，包含 1 个操作
2025-08-30 11:52:45,594 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245594185 中的操作 1/1
2025-08-30 11:52:45,598 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245594185 提交成功
2025-08-30 11:52:45,598 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245598397，包含 1 个操作
2025-08-30 11:52:45,598 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245598397 中的操作 1/1
2025-08-30 11:52:45,604 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245598397 提交成功
2025-08-30 11:52:45,604 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245604516，包含 1 个操作
2025-08-30 11:52:45,604 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245604516 中的操作 1/1
2025-08-30 11:52:45,612 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245604516 提交成功
2025-08-30 11:52:45,612 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245612620，包含 1 个操作
2025-08-30 11:52:45,612 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245612620 中的操作 1/1
2025-08-30 11:52:45,626 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245612620 提交成功
2025-08-30 11:52:45,632 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,638 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,639 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,642 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245642046，包含 1 个操作
2025-08-30 11:52:45,642 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245642046 中的操作 1/1
2025-08-30 11:52:45,646 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245642046 提交成功
2025-08-30 11:52:45,648 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245647986，包含 1 个操作
2025-08-30 11:52:45,648 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245647986 中的操作 1/1
2025-08-30 11:52:45,652 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245647986 提交成功
2025-08-30 11:52:45,652 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245652416，包含 1 个操作
2025-08-30 11:52:45,652 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245652416 中的操作 1/1
2025-08-30 11:52:45,662 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245652416 提交成功
2025-08-30 11:52:45,662 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245662296，包含 1 个操作
2025-08-30 11:52:45,662 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245662296 中的操作 1/1
2025-08-30 11:52:45,668 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245662296 提交成功
2025-08-30 11:52:45,668 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245668617，包含 1 个操作
2025-08-30 11:52:45,668 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245668617 中的操作 1/1
2025-08-30 11:52:45,674 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245668617 提交成功
2025-08-30 11:52:45,674 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245674292，包含 1 个操作
2025-08-30 11:52:45,674 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245674292 中的操作 1/1
2025-08-30 11:52:45,680 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245674292 提交成功
2025-08-30 11:52:45,680 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245680832，包含 1 个操作
2025-08-30 11:52:45,680 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245680832 中的操作 1/1
2025-08-30 11:52:45,686 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245680832 提交成功
2025-08-30 11:52:45,696 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,702 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,703 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,708 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,713 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,714 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,718 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,724 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,725 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,729 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,735 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,736 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,739 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245739534，包含 1 个操作
2025-08-30 11:52:45,739 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245739534 中的操作 1/1
2025-08-30 11:52:45,744 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245739534 提交成功
2025-08-30 11:52:45,745 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,753 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,753 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,758 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245758055，包含 1 个操作
2025-08-30 11:52:45,758 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245758055 中的操作 1/1
2025-08-30 11:52:45,762 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245758055 提交成功
2025-08-30 11:52:45,763 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245762990，包含 1 个操作
2025-08-30 11:52:45,763 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245762990 中的操作 1/1
2025-08-30 11:52:45,764 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245762990 执行失败: 用户OpenID duplicate_test 已存在
2025-08-30 11:52:45,764 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245762990 已回滚
2025-08-30 11:52:45,766 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,771 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,772 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,775 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245775719，包含 1 个操作
2025-08-30 11:52:45,775 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245775719 中的操作 1/1
2025-08-30 11:52:45,781 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245775719 提交成功
2025-08-30 11:52:45,781 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245781776，包含 1 个操作
2025-08-30 11:52:45,782 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245781776 中的操作 1/1
2025-08-30 11:52:45,787 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245781776 提交成功
2025-08-30 11:52:45,789 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,795 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,796 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,799 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245799149，包含 1 个操作
2025-08-30 11:52:45,799 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245799149 中的操作 1/1
2025-08-30 11:52:45,800 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245799149 提交成功
2025-08-30 11:52:45,801 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,807 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,807 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,810 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245810505，包含 1 个操作
2025-08-30 11:52:45,810 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245810505 中的操作 1/1
2025-08-30 11:52:45,815 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245810505 提交成功
2025-08-30 11:52:45,818 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,824 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,825 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,830 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,835 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,836 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,839 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245839241，包含 1 个操作
2025-08-30 11:52:45,839 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245839241 中的操作 1/1
2025-08-30 11:52:45,843 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245839241 提交成功
2025-08-30 11:52:45,845 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245844982，包含 1 个操作
2025-08-30 11:52:45,845 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245844982 中的操作 1/1
2025-08-30 11:52:45,850 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245844982 提交成功
2025-08-30 11:52:45,850 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245850466，包含 1 个操作
2025-08-30 11:52:45,850 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245850466 中的操作 1/1
2025-08-30 11:52:45,853 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245850466 提交成功
2025-08-30 11:52:45,854 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245854800，包含 1 个操作
2025-08-30 11:52:45,855 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245854800 中的操作 1/1
2025-08-30 11:52:45,858 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245854800 提交成功
2025-08-30 11:52:45,860 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,865 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,866 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,869 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245869452，包含 1 个操作
2025-08-30 11:52:45,869 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245869452 中的操作 1/1
2025-08-30 11:52:45,875 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245869452 提交成功
2025-08-30 11:52:45,876 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245876328，包含 1 个操作
2025-08-30 11:52:45,876 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245876328 中的操作 1/1
2025-08-30 11:52:45,880 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245876328 提交成功
2025-08-30 11:52:45,881 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245881083，包含 1 个操作
2025-08-30 11:52:45,881 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245881083 中的操作 1/1
2025-08-30 11:52:45,883 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245881083 提交成功
2025-08-30 11:52:45,885 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,890 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,892 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,896 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245896002，包含 1 个操作
2025-08-30 11:52:45,896 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245896002 中的操作 1/1
2025-08-30 11:52:45,902 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245896002 提交成功
2025-08-30 11:52:45,904 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245904096，包含 1 个操作
2025-08-30 11:52:45,904 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245904096 中的操作 1/1
2025-08-30 11:52:45,909 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245904096 提交成功
2025-08-30 11:52:45,909 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245909726，包含 1 个操作
2025-08-30 11:52:45,909 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245909726 中的操作 1/1
2025-08-30 11:52:45,913 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245909726 提交成功
2025-08-30 11:52:45,914 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245914540，包含 1 个操作
2025-08-30 11:52:45,914 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245914540 中的操作 1/1
2025-08-30 11:52:45,918 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245914540 提交成功
2025-08-30 11:52:45,920 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,926 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,927 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,929 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245929971，包含 1 个操作
2025-08-30 11:52:45,930 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245929971 中的操作 1/1
2025-08-30 11:52:45,946 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245929971 提交成功
2025-08-30 11:52:45,948 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245948275，包含 1 个操作
2025-08-30 11:52:45,948 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245948275 中的操作 1/1
2025-08-30 11:52:45,950 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245948275 执行失败: 管理员不能停用自己的账户
2025-08-30 11:52:45,950 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245948275 已回滚
2025-08-30 11:52:45,952 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,958 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,958 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,962 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245962022，包含 1 个操作
2025-08-30 11:52:45,962 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245962022 中的操作 1/1
2025-08-30 11:52:45,966 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245962022 提交成功
2025-08-30 11:52:45,967 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245967240，包含 1 个操作
2025-08-30 11:52:45,967 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245967240 中的操作 1/1
2025-08-30 11:52:45,971 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245967240 提交成功
2025-08-30 11:52:45,972 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245972009，包含 1 个操作
2025-08-30 11:52:45,972 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245972009 中的操作 1/1
2025-08-30 11:52:45,973 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115245972009 执行失败: 操作用户不是管理员或账户已停用
2025-08-30 11:52:45,973 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115245972009 已回滚
2025-08-30 11:52:45,975 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:45,981 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:45,982 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:45,985 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245985341，包含 1 个操作
2025-08-30 11:52:45,985 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245985341 中的操作 1/1
2025-08-30 11:52:45,990 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245985341 提交成功
2025-08-30 11:52:45,991 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115245991455，包含 1 个操作
2025-08-30 11:52:45,991 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115245991455 中的操作 1/1
2025-08-30 11:52:45,995 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115245991455 提交成功
2025-08-30 11:52:45,999 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,005 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,006 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,009 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246009161，包含 1 个操作
2025-08-30 11:52:46,009 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246009161 中的操作 1/1
2025-08-30 11:52:46,017 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246009161 提交成功
2025-08-30 11:52:46,022 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,028 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,029 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,032 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246032405，包含 1 个操作
2025-08-30 11:52:46,032 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246032405 中的操作 1/1
2025-08-30 11:52:46,038 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246032405 提交成功
2025-08-30 11:52:46,039 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246039485，包含 1 个操作
2025-08-30 11:52:46,039 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246039485 中的操作 1/1
2025-08-30 11:52:46,044 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246039485 提交成功
2025-08-30 11:52:46,044 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246044530，包含 1 个操作
2025-08-30 11:52:46,044 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246044530 中的操作 1/1
2025-08-30 11:52:46,047 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246044530 提交成功
2025-08-30 11:52:46,056 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,061 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,062 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,065 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246065766，包含 1 个操作
2025-08-30 11:52:46,065 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246065766 中的操作 1/1
2025-08-30 11:52:46,070 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246065766 提交成功
2025-08-30 11:52:46,070 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246070410，包含 1 个操作
2025-08-30 11:52:46,070 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246070410 中的操作 1/1
2025-08-30 11:52:46,075 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246070410 提交成功
2025-08-30 11:52:46,075 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246075322，包含 1 个操作
2025-08-30 11:52:46,075 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246075322 中的操作 1/1
2025-08-30 11:52:46,081 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246075322 提交成功
2025-08-30 11:52:46,082 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246082096，包含 1 个操作
2025-08-30 11:52:46,082 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246082096 中的操作 1/1
2025-08-30 11:52:46,086 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246082096 提交成功
2025-08-30 11:52:46,086 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246086710，包含 1 个操作
2025-08-30 11:52:46,086 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246086710 中的操作 1/1
2025-08-30 11:52:46,091 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246086710 提交成功
2025-08-30 11:52:46,095 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,101 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,101 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,105 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246105204，包含 1 个操作
2025-08-30 11:52:46,105 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246105204 中的操作 1/1
2025-08-30 11:52:46,105 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115246105204 执行失败: 微信OpenID不能为空
2025-08-30 11:52:46,105 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115246105204 已回滚
2025-08-30 11:52:46,106 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,112 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,113 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,116 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246116547，包含 1 个操作
2025-08-30 11:52:46,116 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246116547 中的操作 1/1
2025-08-30 11:52:46,116 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115246116547 执行失败: 微信昵称长度不能超过100字符
2025-08-30 11:52:46,117 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115246116547 已回滚
2025-08-30 11:52:46,118 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,124 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,127 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,130 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246130828，包含 1 个操作
2025-08-30 11:52:46,131 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246130828 中的操作 1/1
2025-08-30 11:52:46,138 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246130828 提交成功
2025-08-30 11:52:46,139 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246139666，包含 1 个操作
2025-08-30 11:52:46,139 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246139666 中的操作 1/1
2025-08-30 11:52:46,144 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115246139666 提交成功
2025-08-30 11:52:46,144 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115246144977，包含 1 个操作
2025-08-30 11:52:46,145 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115246144977 中的操作 1/1
2025-08-30 11:52:46,146 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115246144977 执行失败: 状态值必须为 unregistered, active 或 suspended
2025-08-30 11:52:46,146 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115246144977 已回滚
2025-08-30 11:52:46,148 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,154 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 11:52:46,154 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:46,159 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:46,960 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 11:52:46,995 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-08-30 11:52:46,995 - api.main - INFO - [main.py:36] - 环境: development
2025-08-30 11:52:46,995 - api.main - INFO - [main.py:37] - 调试模式: True
2025-08-30 11:52:46,997 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-08-30 11:52:51,963 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 11:52:52,156 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,157 - api.middleware.logging - INFO - [logging.py:31] - [7f184722] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,168 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,169 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,170 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,170 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,170 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,173 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252173054，包含 1 个操作
2025-08-30 11:52:52,173 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252173054 中的操作 1/1
2025-08-30 11:52:52,174 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,174 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_3b77fd501946df1a 设为管理员
2025-08-30 11:52:52,184 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115252173054 提交成功
2025-08-30 11:52:52,184 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,185 - api.middleware.logging - INFO - [logging.py:44] - [7f184722] 200 - Time: 0.028s
2025-08-30 11:52:52,205 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,210 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,212 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,213 - api.middleware.logging - INFO - [logging.py:31] - [c76cc2ea] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,222 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,224 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,227 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,227 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,229 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,229 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,231 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252231592，包含 1 个操作
2025-08-30 11:52:52,232 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252231592 中的操作 1/1
2025-08-30 11:52:52,233 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252231592 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,233 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252231592 已回滚
2025-08-30 11:52:52,233 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,234 - api.middleware.logging - INFO - [logging.py:44] - [c76cc2ea] 200 - Time: 0.021s
2025-08-30 11:52:52,236 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,238 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,276 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,277 - api.middleware.logging - INFO - [logging.py:31] - [4f60e3e4] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,287 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,288 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,289 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,289 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,289 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,296 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,297 - api.middleware.logging - INFO - [logging.py:44] - [4f60e3e4] 200 - Time: 0.019s
2025-08-30 11:52:52,313 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,315 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,316 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,316 - api.middleware.logging - INFO - [logging.py:31] - [a1f780e5] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,326 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,328 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,328 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,328 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,330 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,330 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,331 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252331163，包含 1 个操作
2025-08-30 11:52:52,331 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252331163 中的操作 1/1
2025-08-30 11:52:52,332 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252331163 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,333 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252331163 已回滚
2025-08-30 11:52:52,333 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,334 - api.middleware.logging - INFO - [logging.py:44] - [a1f780e5] 200 - Time: 0.017s
2025-08-30 11:52:52,335 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,339 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,341 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,342 - api.middleware.logging - INFO - [logging.py:31] - [7e053007] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,352 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,373 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,373 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,373 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,374 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:52,375 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252375889，包含 1 个操作
2025-08-30 11:52:52,376 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252375889 中的操作 1/1
2025-08-30 11:52:52,377 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,377 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_520202aa9e114da5 设为管理员
2025-08-30 11:52:52,384 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115252375889 提交成功
2025-08-30 11:52:52,384 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:52,385 - api.middleware.logging - INFO - [logging.py:44] - [7e053007] 200 - Time: 0.043s
2025-08-30 11:52:52,401 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,403 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,404 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,405 - api.middleware.logging - INFO - [logging.py:31] - [ab7bd1fc] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,414 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,415 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,416 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,416 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:52,418 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:52,418 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:52,418 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252418893，包含 1 个操作
2025-08-30 11:52:52,419 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252418893 中的操作 1/1
2025-08-30 11:52:52,420 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252418893 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,420 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252418893 已回滚
2025-08-30 11:52:52,421 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,421 - api.middleware.logging - INFO - [logging.py:44] - [ab7bd1fc] 200 - Time: 0.016s
2025-08-30 11:52:52,423 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,425 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,430 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,431 - api.middleware.logging - INFO - [logging.py:31] - [66ee48ea] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,441 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,447 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,448 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,448 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,448 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,456 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,457 - api.middleware.logging - INFO - [logging.py:44] - [66ee48ea] 200 - Time: 0.026s
2025-08-30 11:52:52,470 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,473 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,473 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,474 - api.middleware.logging - INFO - [logging.py:31] - [f77c1e02] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,483 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,485 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,485 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,485 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,488 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,488 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,488 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252488700，包含 1 个操作
2025-08-30 11:52:52,489 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252488700 中的操作 1/1
2025-08-30 11:52:52,490 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252488700 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,490 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252488700 已回滚
2025-08-30 11:52:52,490 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,491 - api.middleware.logging - INFO - [logging.py:44] - [f77c1e02] 200 - Time: 0.017s
2025-08-30 11:52:52,492 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,495 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,496 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,497 - api.middleware.logging - INFO - [logging.py:31] - [e97e66ee] PATCH /api/admin/addons/1/deactivate - Client: testclient
2025-08-30 11:52:52,498 - api.middleware.logging - INFO - [logging.py:44] - [e97e66ee] 404 - Time: 0.001s
2025-08-30 11:52:52,500 - httpx - INFO - [_client.py:1013] - HTTP Request: PATCH http://testserver/api/admin/addons/1/deactivate "HTTP/1.1 404 Not Found"
2025-08-30 11:52:52,505 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,506 - api.middleware.logging - INFO - [logging.py:31] - [323de3b7] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,516 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,521 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,524 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,524 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,524 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,531 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,532 - api.middleware.logging - INFO - [logging.py:44] - [323de3b7] 200 - Time: 0.027s
2025-08-30 11:52:52,544 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,546 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,547 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,548 - api.middleware.logging - INFO - [logging.py:31] - [09859544] PATCH /api/admin/addons/99999/deactivate - Client: testclient
2025-08-30 11:52:52,549 - api.middleware.logging - INFO - [logging.py:44] - [09859544] 404 - Time: 0.002s
2025-08-30 11:52:52,551 - httpx - INFO - [_client.py:1013] - HTTP Request: PATCH http://testserver/api/admin/addons/99999/deactivate "HTTP/1.1 404 Not Found"
2025-08-30 11:52:52,558 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,558 - api.middleware.logging - INFO - [logging.py:31] - [2c41a5fe] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,574 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,575 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,575 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,575 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,575 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,583 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,583 - api.middleware.logging - INFO - [logging.py:44] - [2c41a5fe] 200 - Time: 0.025s
2025-08-30 11:52:52,604 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,606 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,607 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,608 - api.middleware.logging - INFO - [logging.py:31] - [abdc8770] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,616 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,617 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,619 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,619 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,621 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,621 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,622 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252622695，包含 1 个操作
2025-08-30 11:52:52,623 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252622695 中的操作 1/1
2025-08-30 11:52:52,624 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252622695 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,624 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252622695 已回滚
2025-08-30 11:52:52,624 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,625 - api.middleware.logging - INFO - [logging.py:44] - [abdc8770] 200 - Time: 0.017s
2025-08-30 11:52:52,627 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,629 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,630 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,631 - api.middleware.logging - INFO - [logging.py:31] - [0e427772] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:52,639 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,640 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,640 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,641 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,643 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,643 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,643 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252643958，包含 1 个操作
2025-08-30 11:52:52,644 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252643958 中的操作 1/1
2025-08-30 11:52:52,645 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252643958 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,645 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252643958 已回滚
2025-08-30 11:52:52,646 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,646 - api.middleware.logging - INFO - [logging.py:44] - [0e427772] 200 - Time: 0.016s
2025-08-30 11:52:52,648 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,650 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:52,655 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,656 - api.middleware.logging - INFO - [logging.py:31] - [f106b88a] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,665 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,665 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,666 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,666 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,666 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,688 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,689 - api.middleware.logging - INFO - [logging.py:44] - [f106b88a] 200 - Time: 0.033s
2025-08-30 11:52:52,706 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,708 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,709 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,714 - api.middleware.logging - INFO - [logging.py:31] - [b67054e9] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:52,724 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,725 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,725 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,726 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,728 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,729 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,729 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252729428，包含 1 个操作
2025-08-30 11:52:52,729 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252729428 中的操作 1/1
2025-08-30 11:52:52,730 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252729428 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,730 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252729428 已回滚
2025-08-30 11:52:52,731 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,731 - api.middleware.logging - INFO - [logging.py:44] - [b67054e9] 200 - Time: 0.017s
2025-08-30 11:52:52,733 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,735 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:52,737 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,737 - api.middleware.logging - INFO - [logging.py:31] - [464d3cb0] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,746 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,747 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,747 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,748 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,748 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,754 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,769 - api.middleware.logging - INFO - [logging.py:44] - [464d3cb0] 200 - Time: 0.032s
2025-08-30 11:52:52,769 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,772 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,773 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,774 - api.middleware.logging - INFO - [logging.py:31] - [6ea16f4c] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,782 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,783 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,783 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,783 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,785 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,785 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,786 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252786300，包含 1 个操作
2025-08-30 11:52:52,787 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252786300 中的操作 1/1
2025-08-30 11:52:52,789 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252786300 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,789 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252786300 已回滚
2025-08-30 11:52:52,789 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,790 - api.middleware.logging - INFO - [logging.py:44] - [6ea16f4c] 200 - Time: 0.016s
2025-08-30 11:52:52,792 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,794 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,795 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,796 - api.middleware.logging - INFO - [logging.py:31] - [584a19bb] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:52,804 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,805 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,805 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,806 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,808 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,808 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,808 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252808907，包含 1 个操作
2025-08-30 11:52:52,809 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252808907 中的操作 1/1
2025-08-30 11:52:52,810 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252808907 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,811 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252808907 已回滚
2025-08-30 11:52:52,811 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,811 - api.middleware.logging - INFO - [logging.py:44] - [584a19bb] 200 - Time: 0.015s
2025-08-30 11:52:52,813 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,815 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:52,816 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,817 - api.middleware.logging - INFO - [logging.py:31] - [b31d2402] PATCH /api/admin/meals/1/lock - Client: testclient
2025-08-30 11:52:52,818 - api.middleware.logging - INFO - [logging.py:44] - [b31d2402] 405 - Time: 0.001s
2025-08-30 11:52:52,820 - httpx - INFO - [_client.py:1013] - HTTP Request: PATCH http://testserver/api/admin/meals/1/lock "HTTP/1.1 405 Method Not Allowed"
2025-08-30 11:52:52,825 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,825 - api.middleware.logging - INFO - [logging.py:31] - [c549d846] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,834 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,835 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,835 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,835 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,835 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,845 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,846 - api.middleware.logging - INFO - [logging.py:44] - [c549d846] 200 - Time: 0.021s
2025-08-30 11:52:52,861 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,867 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,867 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,868 - api.middleware.logging - INFO - [logging.py:31] - [b20ae6c7] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,877 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,878 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,878 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,879 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,881 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,881 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,881 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252881765，包含 1 个操作
2025-08-30 11:52:52,882 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252881765 中的操作 1/1
2025-08-30 11:52:52,883 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252881765 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,884 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252881765 已回滚
2025-08-30 11:52:52,884 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,884 - api.middleware.logging - INFO - [logging.py:44] - [b20ae6c7] 200 - Time: 0.016s
2025-08-30 11:52:52,887 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,889 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,890 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,891 - api.middleware.logging - INFO - [logging.py:31] - [92f4f578] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:52,901 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,902 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,902 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,902 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,905 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,905 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,905 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252905923，包含 1 个操作
2025-08-30 11:52:52,906 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252905923 中的操作 1/1
2025-08-30 11:52:52,907 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252905923 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,907 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252905923 已回滚
2025-08-30 11:52:52,907 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,908 - api.middleware.logging - INFO - [logging.py:44] - [92f4f578] 200 - Time: 0.017s
2025-08-30 11:52:52,911 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,914 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:52,915 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,915 - api.middleware.logging - INFO - [logging.py:31] - [19dade4c] PATCH /api/admin/meals/1/complete - Client: testclient
2025-08-30 11:52:52,917 - api.middleware.logging - INFO - [logging.py:44] - [19dade4c] 405 - Time: 0.002s
2025-08-30 11:52:52,919 - httpx - INFO - [_client.py:1013] - HTTP Request: PATCH http://testserver/api/admin/meals/1/complete "HTTP/1.1 405 Method Not Allowed"
2025-08-30 11:52:52,924 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,924 - api.middleware.logging - INFO - [logging.py:31] - [1a4846af] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:52,934 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,934 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,935 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:52,935 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:52,935 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:52,942 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,943 - api.middleware.logging - INFO - [logging.py:44] - [1a4846af] 200 - Time: 0.018s
2025-08-30 11:52:52,960 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,962 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:52,963 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,963 - api.middleware.logging - INFO - [logging.py:31] - [80f7b34a] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:52,977 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:52,982 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:52,982 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:52,983 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:52,985 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:52,985 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:52,985 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115252985839，包含 1 个操作
2025-08-30 11:52:52,986 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115252985839 中的操作 1/1
2025-08-30 11:52:52,987 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115252985839 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,987 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115252985839 已回滚
2025-08-30 11:52:52,987 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:52,988 - api.middleware.logging - INFO - [logging.py:44] - [80f7b34a] 200 - Time: 0.025s
2025-08-30 11:52:52,990 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:52,992 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:52,993 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:52,993 - api.middleware.logging - INFO - [logging.py:31] - [8cede4c9] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:53,002 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,003 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,003 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,003 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,006 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:53,006 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:53,006 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115253006781，包含 1 个操作
2025-08-30 11:52:53,007 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115253006781 中的操作 1/1
2025-08-30 11:52:53,008 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115253006781 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:53,008 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115253006781 已回滚
2025-08-30 11:52:53,008 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:53,008 - api.middleware.logging - INFO - [logging.py:44] - [8cede4c9] 200 - Time: 0.015s
2025-08-30 11:52:53,010 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,012 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:53,017 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,018 - api.middleware.logging - INFO - [logging.py:31] - [c96cbf61] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,026 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,026 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,028 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,028 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,028 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:53,039 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,040 - api.middleware.logging - INFO - [logging.py:44] - [c96cbf61] 200 - Time: 0.022s
2025-08-30 11:52:53,053 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,055 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,056 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,057 - api.middleware.logging - INFO - [logging.py:31] - [5848841e] GET /api/admin/users - Client: testclient
2025-08-30 11:52:53,064 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,065 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,066 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,066 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,068 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:53,068 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:53,074 - api.middleware.logging - INFO - [logging.py:44] - [5848841e] 200 - Time: 0.017s
2025-08-30 11:52:53,076 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,078 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users "HTTP/1.1 200 OK"
2025-08-30 11:52:53,080 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,081 - api.middleware.logging - INFO - [logging.py:31] - [5e48db75] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,090 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,091 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,092 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,092 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,092 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:53,099 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,099 - api.middleware.logging - INFO - [logging.py:44] - [5e48db75] 200 - Time: 0.018s
2025-08-30 11:52:53,114 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,116 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,117 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,118 - api.middleware.logging - INFO - [logging.py:31] - [1f7abf8e] GET /api/admin/users - Client: testclient
2025-08-30 11:52:53,127 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,128 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,128 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,129 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,131 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:53,131 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:53,162 - api.middleware.logging - INFO - [logging.py:44] - [1f7abf8e] 200 - Time: 0.044s
2025-08-30 11:52:53,164 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,166 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users?is_admin=true&status=active&offset=0&limit=10 "HTTP/1.1 200 OK"
2025-08-30 11:52:53,168 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,168 - api.middleware.logging - INFO - [logging.py:31] - [c5dfa718] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,176 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,177 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,178 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,178 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,178 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:53,185 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,186 - api.middleware.logging - INFO - [logging.py:44] - [c5dfa718] 200 - Time: 0.018s
2025-08-30 11:52:53,211 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,216 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,217 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,218 - api.middleware.logging - INFO - [logging.py:31] - [f3ad3605] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,228 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,232 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,233 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,233 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,233 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:53,239 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:53,240 - api.middleware.logging - INFO - [logging.py:44] - [f3ad3605] 200 - Time: 0.022s
2025-08-30 11:52:53,254 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,256 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,257 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,258 - api.middleware.logging - INFO - [logging.py:31] - [60d144b7] GET /api/users/profile - Client: testclient
2025-08-30 11:52:53,266 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,267 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,268 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,268 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:53,271 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:53,271 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:53,275 - DatabaseManager - ERROR - [query_operations.py:526] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,277 - DatabaseManager - ERROR - [query_operations.py:577] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,278 - api.middleware.logging - INFO - [logging.py:44] - [60d144b7] 200 - Time: 0.020s
2025-08-30 11:52:53,280 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,282 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 200 OK"
2025-08-30 11:52:53,287 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,288 - api.middleware.logging - INFO - [logging.py:31] - [c0320932] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,297 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,298 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,298 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,298 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,298 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:53,305 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,306 - api.middleware.logging - INFO - [logging.py:44] - [c0320932] 200 - Time: 0.018s
2025-08-30 11:52:53,336 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,339 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,339 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,340 - api.middleware.logging - INFO - [logging.py:31] - [e75afd70] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,349 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,349 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,350 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,350 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,350 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:53,356 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:53,357 - api.middleware.logging - INFO - [logging.py:44] - [e75afd70] 200 - Time: 0.017s
2025-08-30 11:52:53,375 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,377 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,378 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,379 - api.middleware.logging - INFO - [logging.py:31] - [6d3ba5fd] GET /api/users/profile - Client: testclient
2025-08-30 11:52:53,388 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,389 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,389 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,389 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:53,392 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:53,392 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:53,396 - DatabaseManager - ERROR - [query_operations.py:526] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,398 - DatabaseManager - ERROR - [query_operations.py:577] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,399 - api.middleware.logging - INFO - [logging.py:44] - [6d3ba5fd] 200 - Time: 0.021s
2025-08-30 11:52:53,401 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,403 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 200 OK"
2025-08-30 11:52:53,412 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,419 - api.middleware.logging - INFO - [logging.py:31] - [7658516b] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,428 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,429 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,430 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,430 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,430 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:53,437 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:53,438 - api.middleware.logging - INFO - [logging.py:44] - [7658516b] 200 - Time: 0.020s
2025-08-30 11:52:53,458 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,461 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,462 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,462 - api.middleware.logging - INFO - [logging.py:31] - [e4846df2] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,472 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,475 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,475 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,475 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,475 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:53,484 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:53,484 - api.middleware.logging - INFO - [logging.py:44] - [e4846df2] 200 - Time: 0.022s
2025-08-30 11:52:53,510 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,512 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,513 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,516 - api.middleware.logging - INFO - [logging.py:31] - [8cf7e186] GET /api/users/profile - Client: testclient
2025-08-30 11:52:53,524 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,525 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,526 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,526 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:53,528 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:53,528 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:53,534 - DatabaseManager - ERROR - [query_operations.py:526] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,536 - DatabaseManager - ERROR - [query_operations.py:577] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,538 - api.middleware.logging - INFO - [logging.py:44] - [8cf7e186] 200 - Time: 0.022s
2025-08-30 11:52:53,540 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,542 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 200 OK"
2025-08-30 11:52:53,548 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,549 - api.middleware.logging - INFO - [logging.py:31] - [8fb25f64] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,558 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,560 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,561 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,561 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,561 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:53,569 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:53,570 - api.middleware.logging - INFO - [logging.py:44] - [8fb25f64] 200 - Time: 0.022s
2025-08-30 11:52:53,587 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,589 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,591 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,591 - api.middleware.logging - INFO - [logging.py:31] - [5b379238] GET /api/admin/users - Client: testclient
2025-08-30 11:52:53,603 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,604 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,605 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,605 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:53,608 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:53,608 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:53,614 - api.middleware.logging - INFO - [logging.py:44] - [5b379238] 200 - Time: 0.022s
2025-08-30 11:52:53,616 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,618 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users "HTTP/1.1 200 OK"
2025-08-30 11:52:53,625 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,626 - api.middleware.logging - INFO - [logging.py:31] - [ae981693] GET /api/admin/users - Client: testclient
2025-08-30 11:52:53,627 - api.middleware.logging - INFO - [logging.py:44] - [ae981693] 403 - Time: 0.001s
2025-08-30 11:52:53,629 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/admin/users "HTTP/1.1 403 Forbidden"
2025-08-30 11:52:53,635 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,636 - api.middleware.logging - INFO - [logging.py:31] - [593f2071] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,645 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,646 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,647 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,647 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,647 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_12345
2025-08-30 11:52:53,649 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115253649259，包含 1 个操作
2025-08-30 11:52:53,649 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115253649259 中的操作 1/1
2025-08-30 11:52:53,650 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,650 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_dd26c0e17bf6adba 设为管理员
2025-08-30 11:52:53,667 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115253649259 提交成功
2025-08-30 11:52:53,668 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_dd26c0e17bf6adba
2025-08-30 11:52:53,669 - api.middleware.logging - INFO - [logging.py:44] - [593f2071] 200 - Time: 0.033s
2025-08-30 11:52:53,687 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,689 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,693 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,694 - api.middleware.logging - INFO - [logging.py:31] - [751a5c38] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,703 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,705 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,706 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,707 - api.middleware.logging - INFO - [logging.py:44] - [751a5c38] 422 - Time: 0.013s
2025-08-30 11:52:53,709 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-30 11:52:53,711 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,712 - api.middleware.logging - INFO - [logging.py:31] - [90537fae] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,721 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,722 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,722 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,722 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,722 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_refresh
2025-08-30 11:52:53,724 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115253724810，包含 1 个操作
2025-08-30 11:52:53,725 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115253724810 中的操作 1/1
2025-08-30 11:52:53,726 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,726 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_04d7fd42b15ab205 设为管理员
2025-08-30 11:52:53,732 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115253724810 提交成功
2025-08-30 11:52:53,732 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_04d7fd42b15ab205
2025-08-30 11:52:53,733 - api.middleware.logging - INFO - [logging.py:44] - [90537fae] 200 - Time: 0.022s
2025-08-30 11:52:53,750 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,753 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,753 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,754 - api.middleware.logging - INFO - [logging.py:31] - [90cff9d2] POST /api/auth/refresh - Client: testclient
2025-08-30 11:52:53,762 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,763 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,763 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,763 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=16, open_id=mock_openid_04d7fd42b15ab205
2025-08-30 11:52:53,766 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=16, found=True
2025-08-30 11:52:53,766 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=16
2025-08-30 11:52:53,767 - api.middleware.logging - INFO - [logging.py:44] - [90cff9d2] 200 - Time: 0.013s
2025-08-30 11:52:53,769 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,771 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 200 OK"
2025-08-30 11:52:53,775 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,776 - api.middleware.logging - INFO - [logging.py:31] - [37adef01] POST /api/auth/refresh - Client: testclient
2025-08-30 11:52:53,785 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,786 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,786 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: invalid_token_12345...
2025-08-30 11:52:53,786 - api.auth.routes - ERROR - [routes.py:55] - JWT解码失败: module 'jwt' has no attribute 'JWTError'
2025-08-30 11:52:53,786 - api.auth.routes - ERROR - [routes.py:92] - 用户认证失败 - 未知错误: AttributeError: module 'jwt' has no attribute 'JWTError'
2025-08-30 11:52:53,787 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,788 - api.middleware.logging - INFO - [logging.py:44] - [37adef01] 401 - Time: 0.013s
2025-08-30 11:52:53,790 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 401 Unauthorized"
2025-08-30 11:52:53,791 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,792 - api.middleware.logging - INFO - [logging.py:31] - [1f801ba1] POST /api/auth/refresh - Client: testclient
2025-08-30 11:52:53,794 - api.middleware.logging - INFO - [logging.py:44] - [1f801ba1] 403 - Time: 0.001s
2025-08-30 11:52:53,795 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/refresh "HTTP/1.1 403 Forbidden"
2025-08-30 11:52:53,798 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,799 - api.middleware.logging - INFO - [logging.py:31] - [0d4fabc5] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,808 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,809 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,810 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,810 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,810 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_code_valid
2025-08-30 11:52:53,812 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115253812574，包含 1 个操作
2025-08-30 11:52:53,812 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115253812574 中的操作 1/1
2025-08-30 11:52:53,814 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,814 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_77cce12ce5eed027 设为管理员
2025-08-30 11:52:53,822 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830115253812574 提交成功
2025-08-30 11:52:53,823 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_77cce12ce5eed027
2025-08-30 11:52:53,823 - api.middleware.logging - INFO - [logging.py:44] - [0d4fabc5] 200 - Time: 0.024s
2025-08-30 11:52:53,842 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,844 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,845 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,846 - api.middleware.logging - INFO - [logging.py:31] - [fe572607] GET /api/users/profile - Client: testclient
2025-08-30 11:52:53,855 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,856 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,856 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,857 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=17, open_id=mock_openid_77cce12ce5eed027
2025-08-30 11:52:53,858 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=17, found=True
2025-08-30 11:52:53,859 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=17
2025-08-30 11:52:53,863 - DatabaseManager - ERROR - [query_operations.py:526] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,865 - DatabaseManager - ERROR - [query_operations.py:577] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-08-30 11:52:53,866 - api.middleware.logging - INFO - [logging.py:44] - [fe572607] 200 - Time: 0.020s
2025-08-30 11:52:53,868 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,871 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 200 OK"
2025-08-30 11:52:53,872 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,873 - api.middleware.logging - INFO - [logging.py:31] - [777cb018] GET /api/users/profile - Client: testclient
2025-08-30 11:52:53,881 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,882 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,883 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: invalid_token...
2025-08-30 11:52:53,883 - api.auth.routes - ERROR - [routes.py:55] - JWT解码失败: module 'jwt' has no attribute 'JWTError'
2025-08-30 11:52:53,883 - api.auth.routes - ERROR - [routes.py:92] - 用户认证失败 - 未知错误: AttributeError: module 'jwt' has no attribute 'JWTError'
2025-08-30 11:52:53,885 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,885 - api.middleware.logging - INFO - [logging.py:44] - [777cb018] 401 - Time: 0.013s
2025-08-30 11:52:53,887 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 401 Unauthorized"
2025-08-30 11:52:53,888 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,889 - api.middleware.logging - INFO - [logging.py:31] - [acdf6431] GET /api/users/profile - Client: testclient
2025-08-30 11:52:53,891 - api.middleware.logging - INFO - [logging.py:44] - [acdf6431] 403 - Time: 0.002s
2025-08-30 11:52:53,892 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/users/profile "HTTP/1.1 403 Forbidden"
2025-08-30 11:52:53,896 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,897 - api.middleware.logging - INFO - [logging.py:31] - [5997e7e2] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,907 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,908 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,908 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,909 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,909 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:53,918 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:53,919 - api.middleware.logging - INFO - [logging.py:44] - [5997e7e2] 200 - Time: 0.023s
2025-08-30 11:52:53,937 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,939 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:53,940 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,941 - api.middleware.logging - INFO - [logging.py:31] - [ba493f46] GET /api/meals - Client: testclient
2025-08-30 11:52:53,949 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,950 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,951 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:53,951 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:53,953 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:53,954 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:53,960 - api.middleware.logging - INFO - [logging.py:44] - [ba493f46] 200 - Time: 0.019s
2025-08-30 11:52:53,961 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:53,964 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-01&end_date=2024-12-31 "HTTP/1.1 200 OK"
2025-08-30 11:52:53,965 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:53,966 - api.middleware.logging - INFO - [logging.py:31] - [458135ed] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:53,976 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:53,977 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:53,977 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:53,978 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:53,978 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:53,993 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:53,994 - api.middleware.logging - INFO - [logging.py:44] - [458135ed] 200 - Time: 0.028s
2025-08-30 11:52:54,007 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,010 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,011 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,012 - api.middleware.logging - INFO - [logging.py:31] - [916ea53c] GET /api/meals - Client: testclient
2025-08-30 11:52:54,021 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,022 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,022 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,022 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,025 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,025 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,030 - api.middleware.logging - INFO - [logging.py:44] - [916ea53c] 200 - Time: 0.018s
2025-08-30 11:52:54,032 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,038 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-01&end_date=2024-12-31&offset=0&limit=10 "HTTP/1.1 200 OK"
2025-08-30 11:52:54,040 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,041 - api.middleware.logging - INFO - [logging.py:31] - [6914158f] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,051 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,051 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,052 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,052 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,052 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,059 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,060 - api.middleware.logging - INFO - [logging.py:44] - [6914158f] 200 - Time: 0.019s
2025-08-30 11:52:54,114 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,116 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,117 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,118 - api.middleware.logging - INFO - [logging.py:31] - [c3b035d7] GET /api/meals - Client: testclient
2025-08-30 11:52:54,127 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,128 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,129 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,129 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,136 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,136 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,142 - api.middleware.logging - INFO - [logging.py:44] - [c3b035d7] 200 - Time: 0.024s
2025-08-30 11:52:54,147 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,149 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:54,153 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,154 - api.middleware.logging - INFO - [logging.py:31] - [73b472aa] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,164 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,165 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,166 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,166 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,166 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,179 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,180 - api.middleware.logging - INFO - [logging.py:44] - [73b472aa] 200 - Time: 0.026s
2025-08-30 11:52:54,201 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,203 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,205 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,205 - api.middleware.logging - INFO - [logging.py:31] - [547d1ad2] GET /api/meals - Client: testclient
2025-08-30 11:52:54,215 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,216 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,217 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,217 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,220 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,220 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,220 - api.meals.routes - ERROR - [routes.py:99] - 获取餐次列表失败: 日期格式错误或无效: 开始日期不能晚于结束日期
2025-08-30 11:52:54,221 - api.middleware.logging - INFO - [logging.py:44] - [547d1ad2] 200 - Time: 0.016s
2025-08-30 11:52:54,223 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,225 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-31&end_date=2024-12-01 "HTTP/1.1 200 OK"
2025-08-30 11:52:54,229 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,230 - api.middleware.logging - INFO - [logging.py:31] - [dca66dd1] GET /api/meals - Client: testclient
2025-08-30 11:52:54,231 - api.middleware.logging - INFO - [logging.py:44] - [dca66dd1] 403 - Time: 0.002s
2025-08-30 11:52:54,233 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals?start_date=2024-12-01&end_date=2024-12-31 "HTTP/1.1 403 Forbidden"
2025-08-30 11:52:54,236 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,237 - api.middleware.logging - INFO - [logging.py:31] - [344448d7] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,247 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,248 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,249 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,249 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,249 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,255 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,256 - api.middleware.logging - INFO - [logging.py:44] - [344448d7] 200 - Time: 0.019s
2025-08-30 11:52:54,276 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,278 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,279 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,280 - api.middleware.logging - INFO - [logging.py:31] - [ecb79c8b] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,292 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,293 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,293 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,293 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,293 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:54,301 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,301 - api.middleware.logging - INFO - [logging.py:44] - [ecb79c8b] 200 - Time: 0.022s
2025-08-30 11:52:54,312 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,314 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,315 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,316 - api.middleware.logging - INFO - [logging.py:31] - [b3d8ca95] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:54,326 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,327 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,327 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,328 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,330 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:54,330 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:54,330 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254330907，包含 1 个操作
2025-08-30 11:52:54,331 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254330907 中的操作 1/1
2025-08-30 11:52:54,332 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254330907 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,333 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254330907 已回滚
2025-08-30 11:52:54,333 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,335 - api.middleware.logging - INFO - [logging.py:44] - [b3d8ca95] 200 - Time: 0.019s
2025-08-30 11:52:54,337 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,339 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:54,340 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,340 - api.middleware.logging - INFO - [logging.py:31] - [46c9e798] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:54,348 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,350 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,350 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,350 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,352 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:54,352 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:54,353 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254353266，包含 1 个操作
2025-08-30 11:52:54,353 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254353266 中的操作 1/1
2025-08-30 11:52:54,355 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254353266 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,355 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254353266 已回滚
2025-08-30 11:52:54,355 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,356 - api.middleware.logging - INFO - [logging.py:44] - [46c9e798] 200 - Time: 0.015s
2025-08-30 11:52:54,357 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,359 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:54,360 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,361 - api.middleware.logging - INFO - [logging.py:31] - [33301847] GET /api/meals/1 - Client: testclient
2025-08-30 11:52:54,370 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,371 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,371 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,372 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,374 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,374 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,376 - api.meals.routes - ERROR - [routes.py:188] - 获取餐次详情失败: 'message'
2025-08-30 11:52:54,377 - api.middleware.logging - INFO - [logging.py:44] - [33301847] 200 - Time: 0.016s
2025-08-30 11:52:54,379 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,381 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1 "HTTP/1.1 200 OK"
2025-08-30 11:52:54,385 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,386 - api.middleware.logging - INFO - [logging.py:31] - [04c80774] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,395 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,396 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,397 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,397 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,397 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,404 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,405 - api.middleware.logging - INFO - [logging.py:44] - [04c80774] 200 - Time: 0.019s
2025-08-30 11:52:54,424 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,426 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,427 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,428 - api.middleware.logging - INFO - [logging.py:31] - [919b0fcf] GET /api/meals/99999 - Client: testclient
2025-08-30 11:52:54,437 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,438 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,438 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,438 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,440 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,441 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,442 - api.meals.routes - ERROR - [routes.py:188] - 获取餐次详情失败: 'message'
2025-08-30 11:52:54,443 - api.middleware.logging - INFO - [logging.py:44] - [919b0fcf] 200 - Time: 0.016s
2025-08-30 11:52:54,445 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,447 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/99999 "HTTP/1.1 200 OK"
2025-08-30 11:52:54,451 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,452 - api.middleware.logging - INFO - [logging.py:31] - [ab0f529b] GET /api/meals/1 - Client: testclient
2025-08-30 11:52:54,454 - api.middleware.logging - INFO - [logging.py:44] - [ab0f529b] 403 - Time: 0.001s
2025-08-30 11:52:54,455 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1 "HTTP/1.1 403 Forbidden"
2025-08-30 11:52:54,459 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,459 - api.middleware.logging - INFO - [logging.py:31] - [5eb14f51] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,469 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,470 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,470 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,471 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,471 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,480 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,481 - api.middleware.logging - INFO - [logging.py:44] - [5eb14f51] 200 - Time: 0.022s
2025-08-30 11:52:54,500 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,502 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,503 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,504 - api.middleware.logging - INFO - [logging.py:31] - [e25b74ff] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,515 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,516 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,516 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,516 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,516 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:54,524 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,526 - api.middleware.logging - INFO - [logging.py:44] - [e25b74ff] 200 - Time: 0.022s
2025-08-30 11:52:54,559 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,561 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,562 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,563 - api.middleware.logging - INFO - [logging.py:31] - [b37e65a3] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:54,573 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,575 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,575 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,575 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,578 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:54,578 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:54,579 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254579155，包含 1 个操作
2025-08-30 11:52:54,579 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254579155 中的操作 1/1
2025-08-30 11:52:54,581 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254579155 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,581 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254579155 已回滚
2025-08-30 11:52:54,581 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,582 - api.middleware.logging - INFO - [logging.py:44] - [b37e65a3] 200 - Time: 0.019s
2025-08-30 11:52:54,585 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,588 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:54,589 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,590 - api.middleware.logging - INFO - [logging.py:31] - [b42a047d] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:54,599 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,600 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,600 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,600 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,603 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:54,603 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:54,603 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254603792，包含 1 个操作
2025-08-30 11:52:54,604 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254603792 中的操作 1/1
2025-08-30 11:52:54,605 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254603792 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,605 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254603792 已回滚
2025-08-30 11:52:54,605 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,606 - api.middleware.logging - INFO - [logging.py:44] - [b42a047d] 200 - Time: 0.016s
2025-08-30 11:52:54,608 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,610 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:54,611 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,612 - api.middleware.logging - INFO - [logging.py:31] - [020590f7] GET /api/meals/1/order - Client: testclient
2025-08-30 11:52:54,614 - api.middleware.logging - INFO - [logging.py:44] - [020590f7] 404 - Time: 0.002s
2025-08-30 11:52:54,616 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1/order "HTTP/1.1 404 Not Found"
2025-08-30 11:52:54,620 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,620 - api.middleware.logging - INFO - [logging.py:31] - [690f8825] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,629 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,632 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,632 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,632 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,632 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,640 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,641 - api.middleware.logging - INFO - [logging.py:44] - [690f8825] 200 - Time: 0.020s
2025-08-30 11:52:54,682 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,684 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,685 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,686 - api.middleware.logging - INFO - [logging.py:31] - [ff7fcc3a] GET /api/meals/99999/order - Client: testclient
2025-08-30 11:52:54,688 - api.middleware.logging - INFO - [logging.py:44] - [ff7fcc3a] 404 - Time: 0.002s
2025-08-30 11:52:54,690 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/99999/order "HTTP/1.1 404 Not Found"
2025-08-30 11:52:54,694 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,695 - api.middleware.logging - INFO - [logging.py:31] - [7e54fb74] GET /api/meals/1/order - Client: testclient
2025-08-30 11:52:54,696 - api.middleware.logging - INFO - [logging.py:44] - [7e54fb74] 404 - Time: 0.002s
2025-08-30 11:52:54,699 - httpx - INFO - [_client.py:1013] - HTTP Request: GET http://testserver/api/meals/1/order "HTTP/1.1 404 Not Found"
2025-08-30 11:52:54,702 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,709 - api.middleware.logging - INFO - [logging.py:31] - [0a2bab7b] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,719 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,719 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,720 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,720 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,720 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,727 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,728 - api.middleware.logging - INFO - [logging.py:44] - [0a2bab7b] 200 - Time: 0.019s
2025-08-30 11:52:54,749 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,751 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,752 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,753 - api.middleware.logging - INFO - [logging.py:31] - [88bf9d3e] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,762 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,763 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,764 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,764 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,764 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:54,773 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,774 - api.middleware.logging - INFO - [logging.py:44] - [88bf9d3e] 200 - Time: 0.021s
2025-08-30 11:52:54,801 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,803 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,804 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,805 - api.middleware.logging - INFO - [logging.py:31] - [dc5b2dbc] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:54,816 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,817 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,817 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,818 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,820 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:54,820 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:54,820 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254820716，包含 1 个操作
2025-08-30 11:52:54,821 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254820716 中的操作 1/1
2025-08-30 11:52:54,822 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254820716 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,822 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254820716 已回滚
2025-08-30 11:52:54,823 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,823 - api.middleware.logging - INFO - [logging.py:44] - [dc5b2dbc] 200 - Time: 0.018s
2025-08-30 11:52:54,825 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,827 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:54,828 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,829 - api.middleware.logging - INFO - [logging.py:31] - [d1ba4adb] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:54,839 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,840 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,840 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,840 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:54,842 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:54,843 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:54,843 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254843576，包含 1 个操作
2025-08-30 11:52:54,844 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254843576 中的操作 1/1
2025-08-30 11:52:54,845 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254843576 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,845 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254843576 已回滚
2025-08-30 11:52:54,845 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:54,846 - api.middleware.logging - INFO - [logging.py:44] - [d1ba4adb] 200 - Time: 0.018s
2025-08-30 11:52:54,848 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,850 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:54,852 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,852 - api.middleware.logging - INFO - [logging.py:31] - [3d3ff5e1] POST /api/orders - Client: testclient
2025-08-30 11:52:54,862 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,863 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,863 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,863 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,866 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,866 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,867 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115254867350，包含 1 个操作
2025-08-30 11:52:54,867 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115254867350 中的操作 1/1
2025-08-30 11:52:54,868 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115254867350 执行失败: 用户账户已停用
2025-08-30 11:52:54,869 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115254867350 已回滚
2025-08-30 11:52:54,869 - api.orders.routes - ERROR - [routes.py:79] - 创建订单失败: 用户账户已停用
2025-08-30 11:52:54,870 - api.middleware.logging - INFO - [logging.py:44] - [3d3ff5e1] 200 - Time: 0.017s
2025-08-30 11:52:54,871 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,874 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/orders "HTTP/1.1 200 OK"
2025-08-30 11:52:54,878 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,879 - api.middleware.logging - INFO - [logging.py:31] - [57aff465] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,888 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,889 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,889 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,889 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,890 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,899 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,901 - api.middleware.logging - INFO - [logging.py:44] - [57aff465] 200 - Time: 0.021s
2025-08-30 11:52:54,915 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,918 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,919 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,920 - api.middleware.logging - INFO - [logging.py:31] - [167ff4a0] POST /api/orders - Client: testclient
2025-08-30 11:52:54,929 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,929 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,930 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,930 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:54,932 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:54,933 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:54,934 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,935 - api.middleware.logging - INFO - [logging.py:44] - [167ff4a0] 422 - Time: 0.015s
2025-08-30 11:52:54,937 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/orders "HTTP/1.1 422 Unprocessable Entity"
2025-08-30 11:52:54,939 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,940 - api.middleware.logging - INFO - [logging.py:31] - [1f1bfdda] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:54,948 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,949 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,950 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:54,950 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:54,950 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:54,970 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:54,971 - api.middleware.logging - INFO - [logging.py:44] - [1f1bfdda] 200 - Time: 0.031s
2025-08-30 11:52:54,983 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:54,985 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:54,987 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:54,987 - api.middleware.logging - INFO - [logging.py:31] - [5c2d9bca] POST /api/orders - Client: testclient
2025-08-30 11:52:54,997 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:54,998 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:54,998 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:54,998 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:55,000 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:55,000 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:55,001 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255001115，包含 1 个操作
2025-08-30 11:52:55,001 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255001115 中的操作 1/1
2025-08-30 11:52:55,002 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255001115 执行失败: 用户账户已停用
2025-08-30 11:52:55,002 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255001115 已回滚
2025-08-30 11:52:55,003 - api.orders.routes - ERROR - [routes.py:79] - 创建订单失败: 用户账户已停用
2025-08-30 11:52:55,003 - api.middleware.logging - INFO - [logging.py:44] - [5c2d9bca] 200 - Time: 0.016s
2025-08-30 11:52:55,005 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,007 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/orders "HTTP/1.1 200 OK"
2025-08-30 11:52:55,013 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,014 - api.middleware.logging - INFO - [logging.py:31] - [f3fbdcc0] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,023 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,024 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,024 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:55,024 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:55,024 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:55,032 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:55,033 - api.middleware.logging - INFO - [logging.py:44] - [f3fbdcc0] 200 - Time: 0.019s
2025-08-30 11:52:55,085 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,088 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:55,088 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,089 - api.middleware.logging - INFO - [logging.py:31] - [a30fa92f] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,097 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,098 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,099 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:55,100 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:55,100 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:55,106 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,107 - api.middleware.logging - INFO - [logging.py:44] - [a30fa92f] 200 - Time: 0.018s
2025-08-30 11:52:55,120 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,122 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:55,123 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,124 - api.middleware.logging - INFO - [logging.py:31] - [ab98474f] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:55,133 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,134 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,135 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,135 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,137 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:55,137 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:55,137 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255137787，包含 1 个操作
2025-08-30 11:52:55,138 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255137787 中的操作 1/1
2025-08-30 11:52:55,139 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255137787 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,139 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255137787 已回滚
2025-08-30 11:52:55,139 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,140 - api.middleware.logging - INFO - [logging.py:44] - [ab98474f] 200 - Time: 0.016s
2025-08-30 11:52:55,142 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,144 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:55,145 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,146 - api.middleware.logging - INFO - [logging.py:31] - [706d3230] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:55,155 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,156 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,157 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,157 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,159 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:55,159 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:55,160 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255160132，包含 1 个操作
2025-08-30 11:52:55,160 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255160132 中的操作 1/1
2025-08-30 11:52:55,162 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255160132 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,162 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255160132 已回滚
2025-08-30 11:52:55,162 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,163 - api.middleware.logging - INFO - [logging.py:44] - [706d3230] 200 - Time: 0.017s
2025-08-30 11:52:55,164 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,166 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:55,168 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,168 - api.middleware.logging - INFO - [logging.py:31] - [9f7058f2] POST /api/orders - Client: testclient
2025-08-30 11:52:55,190 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,191 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,192 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,192 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:55,194 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:55,194 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:55,194 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255194905，包含 1 个操作
2025-08-30 11:52:55,195 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255194905 中的操作 1/1
2025-08-30 11:52:55,196 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255194905 执行失败: 用户账户已停用
2025-08-30 11:52:55,196 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255194905 已回滚
2025-08-30 11:52:55,196 - api.orders.routes - ERROR - [routes.py:79] - 创建订单失败: 用户账户已停用
2025-08-30 11:52:55,197 - api.middleware.logging - INFO - [logging.py:44] - [9f7058f2] 200 - Time: 0.028s
2025-08-30 11:52:55,199 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,202 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/orders "HTTP/1.1 200 OK"
2025-08-30 11:52:55,206 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,207 - api.middleware.logging - INFO - [logging.py:31] - [15d06d80] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,215 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,216 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,217 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:55,217 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:55,217 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:52:55,235 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:52:55,236 - api.middleware.logging - INFO - [logging.py:44] - [15d06d80] 200 - Time: 0.029s
2025-08-30 11:52:55,251 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,253 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:55,254 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,255 - api.middleware.logging - INFO - [logging.py:31] - [e05f74d1] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,264 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,265 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,266 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:55,266 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:55,266 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:55,274 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,275 - api.middleware.logging - INFO - [logging.py:44] - [e05f74d1] 200 - Time: 0.020s
2025-08-30 11:52:55,296 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,299 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:55,300 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,301 - api.middleware.logging - INFO - [logging.py:31] - [efdebd97] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:55,309 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,369 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,369 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,369 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,372 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:55,372 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:55,383 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255383412，包含 1 个操作
2025-08-30 11:52:55,384 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255383412 中的操作 1/1
2025-08-30 11:52:55,385 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255383412 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,385 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255383412 已回滚
2025-08-30 11:52:55,385 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,386 - api.middleware.logging - INFO - [logging.py:44] - [efdebd97] 200 - Time: 0.085s
2025-08-30 11:52:55,388 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,391 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:55,392 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,392 - api.middleware.logging - INFO - [logging.py:31] - [0db36490] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:55,402 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,403 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,403 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,403 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,405 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:55,405 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:55,406 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255406044，包含 1 个操作
2025-08-30 11:52:55,406 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255406044 中的操作 1/1
2025-08-30 11:52:55,408 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255406044 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,408 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255406044 已回滚
2025-08-30 11:52:55,408 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,409 - api.middleware.logging - INFO - [logging.py:44] - [0db36490] 200 - Time: 0.016s
2025-08-30 11:52:55,411 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,413 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:55,414 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,414 - api.middleware.logging - INFO - [logging.py:31] - [8685031f] POST /api/orders - Client: testclient
2025-08-30 11:52:55,423 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,425 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,425 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,425 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:52:55,428 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:52:55,428 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:52:55,428 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255428472，包含 1 个操作
2025-08-30 11:52:55,428 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255428472 中的操作 1/1
2025-08-30 11:52:55,429 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255428472 执行失败: 用户账户已停用
2025-08-30 11:52:55,430 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255428472 已回滚
2025-08-30 11:52:55,430 - api.orders.routes - ERROR - [routes.py:79] - 创建订单失败: 用户账户已停用
2025-08-30 11:52:55,431 - api.middleware.logging - INFO - [logging.py:44] - [8685031f] 200 - Time: 0.016s
2025-08-30 11:52:55,435 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,439 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/orders "HTTP/1.1 200 OK"
2025-08-30 11:52:55,441 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,442 - api.middleware.logging - INFO - [logging.py:31] - [80da9de8] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,452 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,453 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,454 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:52:55,454 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:52:55,454 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:52:55,469 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,470 - api.middleware.logging - INFO - [logging.py:44] - [80da9de8] 200 - Time: 0.028s
2025-08-30 11:52:55,490 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,492 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:52:55,493 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,494 - api.middleware.logging - INFO - [logging.py:31] - [c3ab8959] POST /api/admin/addons - Client: testclient
2025-08-30 11:52:55,502 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,503 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,504 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,504 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,506 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:55,506 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:55,506 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255506900，包含 1 个操作
2025-08-30 11:52:55,507 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255506900 中的操作 1/1
2025-08-30 11:52:55,509 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255506900 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,509 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255506900 已回滚
2025-08-30 11:52:55,509 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,510 - api.middleware.logging - INFO - [logging.py:44] - [c3ab8959] 200 - Time: 0.016s
2025-08-30 11:52:55,512 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,514 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:52:55,515 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,516 - api.middleware.logging - INFO - [logging.py:31] - [c92a169a] POST /api/admin/meals - Client: testclient
2025-08-30 11:52:55,524 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:52:55,525 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:52:55,525 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:52:55,525 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:52:55,528 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:52:55,528 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:52:55,529 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115255529076，包含 1 个操作
2025-08-30 11:52:55,529 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115255529076 中的操作 1/1
2025-08-30 11:52:55,530 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115255529076 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,531 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115255529076 已回滚
2025-08-30 11:52:55,531 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:52:55,532 - api.middleware.logging - INFO - [logging.py:44] - [c92a169a] 200 - Time: 0.016s
2025-08-30 11:52:55,534 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:52:55,535 - httpx - INFO - [_client.py:1013] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:52:55,537 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,538 - api.middleware.logging - INFO - [logging.py:31] - [7ea8d6f0] POST /api/orders - Client: testclient
2025-08-30 11:52:55,538 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:55,538 - api.middleware.logging - ERROR - [logging.py:57] - [7ea8d6f0] ERROR -  - Time: 0.000s
2025-08-30 11:52:55,702 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,705 - api.middleware.logging - INFO - [logging.py:31] - [24e664ab] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,705 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:55,705 - api.middleware.logging - ERROR - [logging.py:57] - [24e664ab] ERROR -  - Time: 0.000s
2025-08-30 11:52:55,835 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,836 - api.middleware.logging - INFO - [logging.py:31] - [92181d88] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,836 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:55,836 - api.middleware.logging - ERROR - [logging.py:57] - [92181d88] ERROR -  - Time: 0.000s
2025-08-30 11:52:55,987 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:55,988 - api.middleware.logging - INFO - [logging.py:31] - [0d365ef7] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:55,988 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:55,989 - api.middleware.logging - ERROR - [logging.py:57] - [0d365ef7] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,106 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,107 - api.middleware.logging - INFO - [logging.py:31] - [4956f7ef] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:56,107 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,107 - api.middleware.logging - ERROR - [logging.py:57] - [4956f7ef] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,264 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,264 - api.middleware.logging - INFO - [logging.py:31] - [2e53c02d] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:56,265 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,265 - api.middleware.logging - ERROR - [logging.py:57] - [2e53c02d] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,383 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,384 - api.middleware.logging - INFO - [logging.py:31] - [b146a080] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:56,384 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,384 - api.middleware.logging - ERROR - [logging.py:57] - [b146a080] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,559 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,560 - api.middleware.logging - INFO - [logging.py:31] - [2ca1567e] GET /api/orders/1 - Client: testclient
2025-08-30 11:52:56,560 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,561 - api.middleware.logging - ERROR - [logging.py:57] - [2ca1567e] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,677 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,678 - api.middleware.logging - INFO - [logging.py:31] - [5675897e] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:56,678 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,678 - api.middleware.logging - ERROR - [logging.py:57] - [5675897e] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,835 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,836 - api.middleware.logging - INFO - [logging.py:31] - [4596337d] GET /api/users/profile - Client: testclient
2025-08-30 11:52:56,836 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,836 - api.middleware.logging - ERROR - [logging.py:57] - [4596337d] ERROR -  - Time: 0.000s
2025-08-30 11:52:56,965 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:56,965 - api.middleware.logging - INFO - [logging.py:31] - [40bc55d8] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:56,965 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:56,966 - api.middleware.logging - ERROR - [logging.py:57] - [40bc55d8] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,123 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,124 - api.middleware.logging - INFO - [logging.py:31] - [8a494b1d] GET /api/users/balance - Client: testclient
2025-08-30 11:52:57,124 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,125 - api.middleware.logging - ERROR - [logging.py:57] - [8a494b1d] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,242 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,243 - api.middleware.logging - INFO - [logging.py:31] - [fd621937] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:57,243 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,243 - api.middleware.logging - ERROR - [logging.py:57] - [fd621937] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,404 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,405 - api.middleware.logging - INFO - [logging.py:31] - [4493a861] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:57,405 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,405 - api.middleware.logging - ERROR - [logging.py:57] - [4493a861] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,526 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,527 - api.middleware.logging - INFO - [logging.py:31] - [be13d937] GET /api/users/ledger - Client: testclient
2025-08-30 11:52:57,527 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,527 - api.middleware.logging - ERROR - [logging.py:57] - [be13d937] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,681 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,682 - api.middleware.logging - INFO - [logging.py:31] - [702c4a3d] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:57,682 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,683 - api.middleware.logging - ERROR - [logging.py:57] - [702c4a3d] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,802 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,803 - api.middleware.logging - INFO - [logging.py:31] - [82a4568f] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:57,803 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,803 - api.middleware.logging - ERROR - [logging.py:57] - [82a4568f] ERROR -  - Time: 0.000s
2025-08-30 11:52:57,959 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:57,960 - api.middleware.logging - INFO - [logging.py:31] - [495dc524] GET /api/users/orders - Client: testclient
2025-08-30 11:52:57,960 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:57,960 - api.middleware.logging - ERROR - [logging.py:57] - [495dc524] ERROR -  - Time: 0.000s
2025-08-30 11:52:58,081 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:58,085 - api.middleware.logging - INFO - [logging.py:31] - [101b6b30] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:58,085 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:58,085 - api.middleware.logging - ERROR - [logging.py:57] - [101b6b30] ERROR -  - Time: 0.000s
2025-08-30 11:52:58,243 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:58,244 - api.middleware.logging - INFO - [logging.py:31] - [6aaccffc] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:52:58,244 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:58,244 - api.middleware.logging - ERROR - [logging.py:57] - [6aaccffc] ERROR -  - Time: 0.000s
2025-08-30 11:52:58,379 - asyncio - DEBUG - [selector_events.py:54] - Using selector: EpollSelector
2025-08-30 11:52:58,380 - api.middleware.logging - INFO - [logging.py:31] - [7f51a3f1] GET /api/users/statistics/orders - Client: testclient
2025-08-30 11:52:58,380 - api.middleware.security - WARNING - [security.py:77] - Rate limit exceeded for IP testclient
2025-08-30 11:52:58,387 - api.middleware.logging - ERROR - [logging.py:57] - [7f51a3f1] ERROR -  - Time: 0.007s
2025-08-30 11:54:18,589 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 11:54:18,692 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:18,693 - api.middleware.logging - INFO - [logging.py:31] - [9363452a] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:54:18,714 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:18,716 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:18,717 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:54:18,717 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:54:18,717 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_user_code
2025-08-30 11:54:18,730 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_520202aa9e114da5
2025-08-30 11:54:18,759 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:18,760 - api.middleware.logging - INFO - [logging.py:44] - [9363452a] 200 - Time: 0.066s
2025-08-30 11:54:18,761 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:54:18,762 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:18,763 - api.middleware.logging - INFO - [logging.py:31] - [e0d67549] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:54:18,777 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:18,778 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:18,779 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:54:18,779 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:54:18,779 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:54:18,785 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:54:18,799 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:18,800 - api.middleware.logging - INFO - [logging.py:44] - [e0d67549] 200 - Time: 0.037s
2025-08-30 11:54:18,801 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:54:18,802 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:18,803 - api.middleware.logging - INFO - [logging.py:31] - [9d10d086] POST /api/admin/addons - Client: testclient
2025-08-30 11:54:18,822 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:18,823 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:18,823 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:54:18,823 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:54:18,825 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:54:18,825 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:54:18,826 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115418826475，包含 1 个操作
2025-08-30 11:54:18,827 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115418826475 中的操作 1/1
2025-08-30 11:54:18,828 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115418826475 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:54:18,828 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115418826475 已回滚
2025-08-30 11:54:18,828 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 11:54:18,830 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:18,831 - api.middleware.logging - INFO - [logging.py:44] - [9d10d086] 200 - Time: 0.028s
2025-08-30 11:54:18,832 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 11:54:18,833 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:18,834 - api.middleware.logging - INFO - [logging.py:31] - [5d81f086] POST /api/admin/meals - Client: testclient
2025-08-30 11:54:18,849 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:18,855 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:18,855 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:54:18,856 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:54:18,857 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:54:18,857 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:54:18,859 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115418859298，包含 1 个操作
2025-08-30 11:54:18,860 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115418859298 中的操作 1/1
2025-08-30 11:54:18,861 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115418859298 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:54:18,862 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115418859298 已回滚
2025-08-30 11:54:18,862 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:54:18,864 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:18,864 - api.middleware.logging - INFO - [logging.py:44] - [5d81f086] 200 - Time: 0.030s
2025-08-30 11:54:18,865 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 11:54:18,866 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:18,867 - api.middleware.logging - INFO - [logging.py:31] - [2728e827] GET /api/meals/1 - Client: testclient
2025-08-30 11:54:18,880 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:18,881 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:18,881 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:54:18,882 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=14, open_id=mock_openid_520202aa9e114da5
2025-08-30 11:54:18,883 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=14, found=True
2025-08-30 11:54:18,883 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=14
2025-08-30 11:54:18,886 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:18,887 - api.middleware.logging - INFO - [logging.py:44] - [2728e827] 200 - Time: 0.020s
2025-08-30 11:54:18,888 - httpx - INFO - [_client.py:1025] - HTTP Request: GET http://testserver/api/meals/1 "HTTP/1.1 200 OK"
2025-08-30 11:54:43,470 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 11:54:51,836 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 11:54:51,861 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:51,862 - api.middleware.logging - INFO - [logging.py:31] - [fa7cbd3a] POST /api/auth/wechat/login - Client: testclient
2025-08-30 11:54:51,881 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:51,884 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:51,884 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 11:54:51,884 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 11:54:51,885 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 11:54:51,900 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 11:54:51,972 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:51,972 - api.middleware.logging - INFO - [logging.py:44] - [fa7cbd3a] 200 - Time: 0.110s
2025-08-30 11:54:51,974 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 11:54:51,975 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 11:54:51,975 - api.middleware.logging - INFO - [logging.py:31] - [8c86f404] POST /api/admin/meals - Client: testclient
2025-08-30 11:54:51,990 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 11:54:51,991 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 11:54:51,992 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 11:54:51,992 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=13, open_id=mock_openid_3b77fd501946df1a
2025-08-30 11:54:51,993 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=13, found=True
2025-08-30 11:54:51,993 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=13
2025-08-30 11:54:51,995 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830115451995426，包含 1 个操作
2025-08-30 11:54:51,995 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830115451995426 中的操作 1/1
2025-08-30 11:54:51,996 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830115451995426 执行失败: 用户不是管理员或账户已停用
2025-08-30 11:54:51,997 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830115451995426 已回滚
2025-08-30 11:54:51,997 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 11:54:51,999 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 11:54:51,999 - api.middleware.logging - INFO - [logging.py:44] - [8c86f404] 200 - Time: 0.024s
2025-08-30 11:54:52,000 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:44:57,149 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:45:06,744 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:45:14,944 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:45:14,992 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:45:14,993 - api.middleware.logging - INFO - [logging.py:31] - [c19f3a89] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:45:15,009 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:45:15,011 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:45:15,012 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:45:15,012 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:45:15,012 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:45:15,014 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124515014067，包含 1 个操作
2025-08-30 12:45:15,014 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124515014067 中的操作 1/1
2025-08-30 12:45:15,015 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:45:15,015 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_3b77fd501946df1a 设为管理员
2025-08-30 12:45:15,023 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124515014067 提交成功
2025-08-30 12:45:15,023 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:45:15,044 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:45:15,045 - api.middleware.logging - INFO - [logging.py:44] - [c19f3a89] 200 - Time: 0.052s
2025-08-30 12:45:15,047 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:45:15,047 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:45:15,048 - api.middleware.logging - INFO - [logging.py:31] - [1481ff0d] POST /api/admin/addons - Client: testclient
2025-08-30 12:45:15,065 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:45:15,069 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:45:15,069 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:45:15,069 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:45:15,071 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:45:15,071 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:45:15,072 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124515072558，包含 1 个操作
2025-08-30 12:45:15,073 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124515072558 中的操作 1/1
2025-08-30 12:45:15,074 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124515072558 执行失败: 用户不是管理员或账户已停用
2025-08-30 12:45:15,074 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124515072558 已回滚
2025-08-30 12:45:15,074 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 用户不是管理员或账户已停用
2025-08-30 12:45:15,076 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:45:15,077 - api.middleware.logging - INFO - [logging.py:44] - [1481ff0d] 200 - Time: 0.029s
2025-08-30 12:45:15,078 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:45:15,079 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:45:15,080 - api.middleware.logging - INFO - [logging.py:31] - [2ebe7b1b] POST /api/admin/meals - Client: testclient
2025-08-30 12:45:15,096 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:45:15,099 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:45:15,100 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:45:15,100 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:45:15,101 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:45:15,101 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:45:15,103 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124515103699，包含 1 个操作
2025-08-30 12:45:15,104 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124515103699 中的操作 1/1
2025-08-30 12:45:15,105 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124515103699 执行失败: 用户不是管理员或账户已停用
2025-08-30 12:45:15,105 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124515103699 已回滚
2025-08-30 12:45:15,105 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 用户不是管理员或账户已停用
2025-08-30 12:45:15,107 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:45:15,107 - api.middleware.logging - INFO - [logging.py:44] - [2ebe7b1b] 200 - Time: 0.028s
2025-08-30 12:45:15,108 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:46:31,057 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:46:31,106 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:46:31,107 - api.middleware.logging - INFO - [logging.py:31] - [94e13c5e] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:46:31,125 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:46:31,126 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:46:31,127 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:46:31,127 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:46:31,127 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:46:31,133 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:46:31,151 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:46:31,151 - api.middleware.logging - INFO - [logging.py:44] - [94e13c5e] 200 - Time: 0.045s
2025-08-30 12:46:31,153 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:46:31,154 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:46:31,154 - api.middleware.logging - INFO - [logging.py:31] - [6305ce6a] POST /api/admin/addons - Client: testclient
2025-08-30 12:46:31,170 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:46:31,171 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:46:31,171 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:46:31,171 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:46:31,173 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:46:31,173 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:46:31,174 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124631174473，包含 1 个操作
2025-08-30 12:46:31,175 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124631174473 中的操作 1/1
2025-08-30 12:46:31,178 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124631174473 执行失败: Constraint Error: NOT NULL constraint failed: addons.addon_id
2025-08-30 12:46:31,178 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124631174473 已回滚
2025-08-30 12:46:31,178 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: Constraint Error: NOT NULL constraint failed: addons.addon_id
2025-08-30 12:46:31,180 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:46:31,180 - api.middleware.logging - INFO - [logging.py:44] - [6305ce6a] 200 - Time: 0.026s
2025-08-30 12:46:31,181 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:46:31,182 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:46:31,183 - api.middleware.logging - INFO - [logging.py:31] - [323f7add] POST /api/admin/meals - Client: testclient
2025-08-30 12:46:31,198 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:46:31,200 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:46:31,200 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:46:31,200 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:46:31,202 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:46:31,202 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:46:31,210 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124631210697，包含 1 个操作
2025-08-30 12:46:31,211 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124631210697 中的操作 1/1
2025-08-30 12:46:31,215 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124631210697 执行失败: Constraint Error: NOT NULL constraint failed: meals.meal_id
2025-08-30 12:46:31,215 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124631210697 已回滚
2025-08-30 12:46:31,215 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: Constraint Error: NOT NULL constraint failed: meals.meal_id
2025-08-30 12:46:31,217 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:46:31,218 - api.middleware.logging - INFO - [logging.py:44] - [323f7add] 200 - Time: 0.035s
2025-08-30 12:46:31,221 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:47:43,580 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:47:43,631 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:47:43,632 - api.middleware.logging - INFO - [logging.py:31] - [6b3c3786] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:47:43,650 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:47:43,652 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:47:43,653 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:47:43,653 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:47:43,653 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:47:43,674 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:47:43,691 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:47:43,692 - api.middleware.logging - INFO - [logging.py:44] - [6b3c3786] 200 - Time: 0.060s
2025-08-30 12:47:43,693 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:47:43,694 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:47:43,695 - api.middleware.logging - INFO - [logging.py:31] - [b0e3b894] POST /api/admin/addons - Client: testclient
2025-08-30 12:47:43,710 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:47:43,711 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:47:43,711 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:47:43,711 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:47:43,713 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:47:43,713 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:47:43,714 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124743714859，包含 1 个操作
2025-08-30 12:47:43,715 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124743714859 中的操作 1/1
2025-08-30 12:47:43,723 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124743714859 提交成功
2025-08-30 12:47:43,745 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:47:43,746 - api.middleware.logging - INFO - [logging.py:44] - [b0e3b894] 200 - Time: 0.050s
2025-08-30 12:47:43,747 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:47:43,748 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:47:43,750 - api.middleware.logging - INFO - [logging.py:31] - [dc244261] POST /api/admin/meals - Client: testclient
2025-08-30 12:47:43,764 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:47:43,765 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:47:43,765 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:47:43,765 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:47:43,767 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:47:43,767 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:47:43,769 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124743769688，包含 1 个操作
2025-08-30 12:47:43,770 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124743769688 中的操作 1/1
2025-08-30 12:47:43,778 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124743769688 提交成功
2025-08-30 12:47:43,803 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:47:43,803 - api.middleware.logging - INFO - [logging.py:44] - [dc244261] 200 - Time: 0.054s
2025-08-30 12:47:43,805 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:47:53,752 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:47:53,799 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:47:53,801 - api.middleware.logging - INFO - [logging.py:31] - [b0f5417a] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:47:53,817 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:47:53,820 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:47:53,821 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:47:53,821 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:47:53,821 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:47:53,827 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:47:53,870 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:47:53,871 - api.middleware.logging - INFO - [logging.py:44] - [b0f5417a] 200 - Time: 0.070s
2025-08-30 12:47:53,873 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:47:53,874 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:47:53,874 - api.middleware.logging - INFO - [logging.py:31] - [27992687] POST /api/admin/addons - Client: testclient
2025-08-30 12:47:53,891 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:47:53,892 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:47:53,893 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:47:53,893 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:47:53,895 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:47:53,895 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:47:53,896 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124753896159，包含 1 个操作
2025-08-30 12:47:53,896 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124753896159 中的操作 1/1
2025-08-30 12:47:53,898 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124753896159 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 12:47:53,898 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124753896159 已回滚
2025-08-30 12:47:53,898 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 12:47:53,900 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:47:53,901 - api.middleware.logging - INFO - [logging.py:44] - [27992687] 200 - Time: 0.026s
2025-08-30 12:47:53,902 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:47:53,903 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:47:53,903 - api.middleware.logging - INFO - [logging.py:31] - [a20e2908] POST /api/admin/meals - Client: testclient
2025-08-30 12:47:53,918 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:47:53,920 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:47:53,920 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:47:53,920 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:47:53,922 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:47:53,922 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:47:53,924 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124753924758，包含 1 个操作
2025-08-30 12:47:53,925 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124753924758 中的操作 1/1
2025-08-30 12:47:53,926 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124753924758 执行失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 12:47:53,927 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124753924758 已回滚
2025-08-30 12:47:53,927 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 12:47:53,929 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:47:53,929 - api.middleware.logging - INFO - [logging.py:44] - [a20e2908] 200 - Time: 0.026s
2025-08-30 12:47:53,930 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:48:21,975 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:48:22,024 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:48:22,025 - api.middleware.logging - INFO - [logging.py:31] - [839d1de6] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:48:22,045 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:48:22,061 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:48:22,061 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:48:22,062 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:48:22,062 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:48:22,074 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:48:22,098 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:48:22,099 - api.middleware.logging - INFO - [logging.py:44] - [839d1de6] 200 - Time: 0.074s
2025-08-30 12:48:22,100 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:48:22,101 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:48:22,102 - api.middleware.logging - INFO - [logging.py:31] - [b505ab00] POST /api/admin/addons - Client: testclient
2025-08-30 12:48:22,116 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:48:22,117 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:48:22,118 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:48:22,118 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:48:22,120 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:48:22,120 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:48:22,121 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124822121931，包含 1 个操作
2025-08-30 12:48:22,122 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124822121931 中的操作 1/1
2025-08-30 12:48:22,134 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124822121931 提交成功
2025-08-30 12:48:22,192 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:48:22,193 - api.middleware.logging - INFO - [logging.py:44] - [b505ab00] 200 - Time: 0.091s
2025-08-30 12:48:22,194 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:48:22,195 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:48:22,195 - api.middleware.logging - INFO - [logging.py:31] - [815dc249] POST /api/admin/meals - Client: testclient
2025-08-30 12:48:22,210 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:48:22,211 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:48:22,212 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:48:22,212 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:48:22,214 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:48:22,214 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:48:22,216 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124822216185，包含 1 个操作
2025-08-30 12:48:22,216 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124822216185 中的操作 1/1
2025-08-30 12:48:22,227 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124822216185 提交成功
2025-08-30 12:48:22,308 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:48:22,308 - api.middleware.logging - INFO - [logging.py:44] - [815dc249] 200 - Time: 0.113s
2025-08-30 12:48:22,310 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:48:51,808 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:48:51,857 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:48:51,858 - api.middleware.logging - INFO - [logging.py:31] - [15e16f71] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:48:51,876 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:48:51,878 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:48:51,879 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:48:51,879 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:48:51,879 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:48:51,885 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:48:51,901 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:48:51,902 - api.middleware.logging - INFO - [logging.py:44] - [15e16f71] 200 - Time: 0.043s
2025-08-30 12:48:51,903 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:48:51,904 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:48:51,905 - api.middleware.logging - INFO - [logging.py:31] - [a9adf23c] POST /api/admin/addons - Client: testclient
2025-08-30 12:48:51,919 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:48:51,920 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:48:51,920 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:48:51,920 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:48:51,922 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:48:51,922 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:48:51,923 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124851923201，包含 1 个操作
2025-08-30 12:48:51,923 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124851923201 中的操作 1/1
2025-08-30 12:48:51,925 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124851923201 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 12:48:51,925 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124851923201 已回滚
2025-08-30 12:48:51,925 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 12:48:51,927 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:48:51,928 - api.middleware.logging - INFO - [logging.py:44] - [a9adf23c] 200 - Time: 0.023s
2025-08-30 12:48:51,929 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:48:51,929 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:48:51,930 - api.middleware.logging - INFO - [logging.py:31] - [2005a789] POST /api/admin/meals - Client: testclient
2025-08-30 12:48:51,946 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:48:51,949 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:48:51,949 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:48:51,949 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:48:51,951 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:48:51,951 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:48:51,952 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124851952900，包含 1 个操作
2025-08-30 12:48:51,953 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124851952900 中的操作 1/1
2025-08-30 12:48:51,955 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830124851952900 执行失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 12:48:51,956 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830124851952900 已回滚
2025-08-30 12:48:51,956 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 12:48:51,958 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:48:51,959 - api.middleware.logging - INFO - [logging.py:44] - [2005a789] 200 - Time: 0.028s
2025-08-30 12:48:51,960 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:49:16,518 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:49:16,568 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:49:16,569 - api.middleware.logging - INFO - [logging.py:31] - [aa3ca5ee] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:49:16,587 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:49:16,589 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:49:16,592 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:49:16,592 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:49:16,592 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:49:16,599 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:49:16,625 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:49:16,626 - api.middleware.logging - INFO - [logging.py:44] - [aa3ca5ee] 200 - Time: 0.056s
2025-08-30 12:49:16,628 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:49:16,629 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:49:16,630 - api.middleware.logging - INFO - [logging.py:31] - [be0c1be3] POST /api/admin/addons - Client: testclient
2025-08-30 12:49:16,645 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:49:16,647 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:49:16,647 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:49:16,647 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:49:16,649 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:49:16,649 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:49:16,650 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124916650446，包含 1 个操作
2025-08-30 12:49:16,650 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124916650446 中的操作 1/1
2025-08-30 12:49:16,658 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124916650446 提交成功
2025-08-30 12:49:16,697 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:49:16,698 - api.middleware.logging - INFO - [logging.py:44] - [be0c1be3] 200 - Time: 0.068s
2025-08-30 12:49:16,699 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:49:16,700 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:49:16,701 - api.middleware.logging - INFO - [logging.py:31] - [ac539070] POST /api/admin/meals - Client: testclient
2025-08-30 12:49:16,716 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:49:16,718 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:49:16,718 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:49:16,718 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:49:16,720 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:49:16,720 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:49:16,722 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830124916722116，包含 1 个操作
2025-08-30 12:49:16,722 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830124916722116 中的操作 1/1
2025-08-30 12:49:16,732 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830124916722116 提交成功
2025-08-30 12:49:16,756 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:49:16,757 - api.middleware.logging - INFO - [logging.py:44] - [ac539070] 200 - Time: 0.056s
2025-08-30 12:49:16,758 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 12:59:57,672 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 12:59:57,718 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:59:57,719 - api.middleware.logging - INFO - [logging.py:31] - [08f5bf28] POST /api/auth/wechat/login - Client: testclient
2025-08-30 12:59:57,736 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:59:57,738 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:59:57,739 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 12:59:57,739 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 12:59:57,739 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 12:59:57,747 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 12:59:57,806 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:59:57,806 - api.middleware.logging - INFO - [logging.py:44] - [08f5bf28] 200 - Time: 0.087s
2025-08-30 12:59:57,808 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 12:59:57,809 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:59:57,811 - api.middleware.logging - INFO - [logging.py:31] - [9d35bfa9] POST /api/admin/addons - Client: testclient
2025-08-30 12:59:57,827 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:59:57,829 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:59:57,829 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:59:57,829 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:59:57,831 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:59:57,831 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:59:57,833 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830125957833489，包含 1 个操作
2025-08-30 12:59:57,834 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830125957833489 中的操作 1/1
2025-08-30 12:59:57,837 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830125957833489 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 12:59:57,837 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830125957833489 已回滚
2025-08-30 12:59:57,838 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 12:59:57,840 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:59:57,841 - api.middleware.logging - INFO - [logging.py:44] - [9d35bfa9] 200 - Time: 0.030s
2025-08-30 12:59:57,843 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 12:59:57,844 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 12:59:57,844 - api.middleware.logging - INFO - [logging.py:31] - [7ef33f57] POST /api/admin/meals - Client: testclient
2025-08-30 12:59:57,860 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 12:59:57,862 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 12:59:57,862 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 12:59:57,862 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 12:59:57,864 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 12:59:57,864 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 12:59:57,869 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830125957869458，包含 1 个操作
2025-08-30 12:59:57,869 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830125957869458 中的操作 1/1
2025-08-30 12:59:57,871 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830125957869458 执行失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 12:59:57,872 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830125957869458 已回滚
2025-08-30 12:59:57,872 - api.admin.routes - ERROR - [routes.py:235] - 发布餐次失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 12:59:57,874 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 12:59:57,875 - api.middleware.logging - INFO - [logging.py:44] - [7ef33f57] 200 - Time: 0.030s
2025-08-30 12:59:57,876 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:10:39,612 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:10:44,577 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:10:49,265 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:10:49,316 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:10:49,319 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:10:49,323 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131049323319，包含 1 个操作
2025-08-30 13:10:49,323 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131049323319 中的操作 1/1
2025-08-30 13:10:49,327 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131049323319 提交成功
2025-08-30 13:10:49,328 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131049328831，包含 1 个操作
2025-08-30 13:10:49,329 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131049328831 中的操作 1/1
2025-08-30 13:10:49,332 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131049328831 提交成功
2025-08-30 13:10:49,333 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131049333347，包含 1 个操作
2025-08-30 13:10:49,333 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131049333347 中的操作 1/1
2025-08-30 13:10:49,338 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131049333347 提交成功
2025-08-30 13:10:49,341 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,197 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:11:19,249 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,255 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,258 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119258315，包含 1 个操作
2025-08-30 13:11:19,258 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119258315 中的操作 1/1
2025-08-30 13:11:19,262 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119258315 提交成功
2025-08-30 13:11:19,263 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119263855，包含 1 个操作
2025-08-30 13:11:19,264 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119263855 中的操作 1/1
2025-08-30 13:11:19,267 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119263855 提交成功
2025-08-30 13:11:19,269 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,280 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,281 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,283 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119283861，包含 1 个操作
2025-08-30 13:11:19,284 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119283861 中的操作 1/1
2025-08-30 13:11:19,287 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119283861 提交成功
2025-08-30 13:11:19,288 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119288737，包含 1 个操作
2025-08-30 13:11:19,288 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119288737 中的操作 1/1
2025-08-30 13:11:19,293 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119288737 提交成功
2025-08-30 13:11:19,294 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119294812，包含 1 个操作
2025-08-30 13:11:19,295 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119294812 中的操作 1/1
2025-08-30 13:11:19,296 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131119294812 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-30 13:11:19,296 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131119294812 已回滚
2025-08-30 13:11:19,298 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,309 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,317 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,319 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119319972，包含 1 个操作
2025-08-30 13:11:19,320 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119319972 中的操作 1/1
2025-08-30 13:11:19,324 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119319972 提交成功
2025-08-30 13:11:19,325 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119325110，包含 1 个操作
2025-08-30 13:11:19,325 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119325110 中的操作 1/1
2025-08-30 13:11:19,328 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119325110 提交成功
2025-08-30 13:11:19,336 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,347 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,348 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,351 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119351071，包含 1 个操作
2025-08-30 13:11:19,351 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119351071 中的操作 1/1
2025-08-30 13:11:19,355 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119351071 提交成功
2025-08-30 13:11:19,356 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119356024，包含 1 个操作
2025-08-30 13:11:19,356 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119356024 中的操作 1/1
2025-08-30 13:11:19,359 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119356024 提交成功
2025-08-30 13:11:19,359 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119359892，包含 1 个操作
2025-08-30 13:11:19,360 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119359892 中的操作 1/1
2025-08-30 13:11:19,365 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119359892 提交成功
2025-08-30 13:11:19,367 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,377 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,378 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,380 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119380763，包含 1 个操作
2025-08-30 13:11:19,380 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119380763 中的操作 1/1
2025-08-30 13:11:19,385 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119380763 提交成功
2025-08-30 13:11:19,386 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119386014，包含 1 个操作
2025-08-30 13:11:19,386 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119386014 中的操作 1/1
2025-08-30 13:11:19,389 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119386014 提交成功
2025-08-30 13:11:19,389 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119389717，包含 1 个操作
2025-08-30 13:11:19,389 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119389717 中的操作 1/1
2025-08-30 13:11:19,394 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119389717 提交成功
2025-08-30 13:11:19,395 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119395210，包含 1 个操作
2025-08-30 13:11:19,395 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119395210 中的操作 1/1
2025-08-30 13:11:19,398 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119395210 提交成功
2025-08-30 13:11:19,408 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,419 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,420 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,423 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119423068，包含 1 个操作
2025-08-30 13:11:19,423 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119423068 中的操作 1/1
2025-08-30 13:11:19,427 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119423068 提交成功
2025-08-30 13:11:19,428 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119428379，包含 1 个操作
2025-08-30 13:11:19,428 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119428379 中的操作 1/1
2025-08-30 13:11:19,431 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119428379 提交成功
2025-08-30 13:11:19,432 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119432095，包含 1 个操作
2025-08-30 13:11:19,432 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119432095 中的操作 1/1
2025-08-30 13:11:19,437 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119432095 提交成功
2025-08-30 13:11:19,437 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119437603，包含 1 个操作
2025-08-30 13:11:19,437 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119437603 中的操作 1/1
2025-08-30 13:11:19,441 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119437603 提交成功
2025-08-30 13:11:19,443 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,454 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,456 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,459 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119459074，包含 1 个操作
2025-08-30 13:11:19,459 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119459074 中的操作 1/1
2025-08-30 13:11:19,463 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119459074 提交成功
2025-08-30 13:11:19,464 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119464529，包含 1 个操作
2025-08-30 13:11:19,464 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119464529 中的操作 1/1
2025-08-30 13:11:19,468 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119464529 提交成功
2025-08-30 13:11:19,469 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119469056，包含 1 个操作
2025-08-30 13:11:19,469 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119469056 中的操作 1/1
2025-08-30 13:11:19,473 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119469056 提交成功
2025-08-30 13:11:19,475 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:19,485 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:11:19,486 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:19,489 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119489261，包含 1 个操作
2025-08-30 13:11:19,489 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119489261 中的操作 1/1
2025-08-30 13:11:19,493 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119489261 提交成功
2025-08-30 13:11:19,494 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119494447，包含 1 个操作
2025-08-30 13:11:19,494 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119494447 中的操作 1/1
2025-08-30 13:11:19,498 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119494447 提交成功
2025-08-30 13:11:19,498 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119498848，包含 1 个操作
2025-08-30 13:11:19,499 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119498848 中的操作 1/1
2025-08-30 13:11:19,505 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119498848 提交成功
2025-08-30 13:11:19,505 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131119505901，包含 1 个操作
2025-08-30 13:11:19,506 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131119505901 中的操作 1/1
2025-08-30 13:11:19,512 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131119505901 提交成功
2025-08-30 13:11:19,518 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:23,833 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:11:23,880 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:11:23,881 - api.middleware.logging - INFO - [logging.py:31] - [c50edebc] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:11:23,897 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:11:23,908 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:23,911 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:11:23,912 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:11:23,912 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:11:23,918 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:11:23,934 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:23,935 - api.middleware.logging - INFO - [logging.py:44] - [c50edebc] 200 - Time: 0.054s
2025-08-30 13:11:23,936 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:11:23,937 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:11:23,939 - api.middleware.logging - INFO - [logging.py:31] - [b3565f62] POST /api/admin/addons - Client: testclient
2025-08-30 13:11:23,955 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:11:23,956 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:23,956 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:11:23,956 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:11:23,958 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:11:23,958 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:11:23,959 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131123959406，包含 1 个操作
2025-08-30 13:11:23,959 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131123959406 中的操作 1/1
2025-08-30 13:11:23,968 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131123959406 提交成功
2025-08-30 13:11:23,997 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:23,998 - api.middleware.logging - INFO - [logging.py:44] - [b3565f62] 200 - Time: 0.059s
2025-08-30 13:11:23,999 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:11:24,000 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:11:24,001 - api.middleware.logging - INFO - [logging.py:31] - [44849147] POST /api/admin/meals - Client: testclient
2025-08-30 13:11:24,015 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:11:24,018 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:11:24,018 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:11:24,018 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:11:24,020 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:11:24,020 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:11:24,022 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131124022281，包含 1 个操作
2025-08-30 13:11:24,022 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131124022281 中的操作 1/1
2025-08-30 13:11:24,033 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131124022281 提交成功
2025-08-30 13:11:24,092 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:11:24,093 - api.middleware.logging - INFO - [logging.py:44] - [44849147] 200 - Time: 0.092s
2025-08-30 13:11:24,094 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:12:47,572 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:12:47,619 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:12:47,620 - api.middleware.logging - INFO - [logging.py:31] - [fa75d26a] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:12:47,652 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:12:47,668 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:12:47,669 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:12:47,669 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:12:47,669 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:12:47,677 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:12:47,697 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:12:47,698 - api.middleware.logging - INFO - [logging.py:44] - [fa75d26a] 200 - Time: 0.078s
2025-08-30 13:12:47,699 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:12:47,700 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:12:47,702 - api.middleware.logging - INFO - [logging.py:31] - [7ea8aa20] POST /api/admin/addons - Client: testclient
2025-08-30 13:12:47,719 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:12:47,721 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:12:47,721 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:12:47,721 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:12:47,723 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:12:47,723 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:12:47,724 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131247724400，包含 1 个操作
2025-08-30 13:12:47,724 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131247724400 中的操作 1/1
2025-08-30 13:12:47,726 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131247724400 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:12:47,726 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131247724400 已回滚
2025-08-30 13:12:47,726 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:12:47,734 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:12:47,734 - api.middleware.logging - INFO - [logging.py:44] - [7ea8aa20] 200 - Time: 0.033s
2025-08-30 13:12:47,736 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:12:47,737 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:12:47,738 - api.middleware.logging - INFO - [logging.py:31] - [917e7ad7] POST /api/admin/meals - Client: testclient
2025-08-30 13:12:47,754 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:12:47,755 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:12:47,755 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:12:47,756 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:12:47,757 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:12:47,757 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:12:47,760 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131247760419，包含 1 个操作
2025-08-30 13:12:47,760 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131247760419 中的操作 1/1
2025-08-30 13:12:47,762 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131247760419 执行失败: 2024-12-30 lunch 时段已存在有效餐次
2025-08-30 13:12:47,763 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131247760419 已回滚
2025-08-30 13:12:47,763 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: 2024-12-30 lunch 时段已存在有效餐次
2025-08-30 13:12:47,765 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:12:47,765 - api.middleware.logging - INFO - [logging.py:44] - [917e7ad7] 200 - Time: 0.027s
2025-08-30 13:12:47,767 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:13:22,625 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:13:22,700 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:22,702 - api.middleware.logging - INFO - [logging.py:31] - [76607112] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:13:22,722 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:22,724 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:22,725 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:13:22,725 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:13:22,725 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:13:22,731 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:13:22,746 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:22,747 - api.middleware.logging - INFO - [logging.py:44] - [76607112] 200 - Time: 0.045s
2025-08-30 13:13:22,749 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:13:22,750 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:22,751 - api.middleware.logging - INFO - [logging.py:31] - [ab017742] POST /api/admin/addons - Client: testclient
2025-08-30 13:13:22,768 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:22,769 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:22,771 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:22,771 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:22,773 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:22,773 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:22,777 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131322777194，包含 1 个操作
2025-08-30 13:13:22,777 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131322777194 中的操作 1/1
2025-08-30 13:13:22,779 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131322777194 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:22,780 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131322777194 已回滚
2025-08-30 13:13:22,780 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:22,782 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:22,782 - api.middleware.logging - INFO - [logging.py:44] - [ab017742] 200 - Time: 0.032s
2025-08-30 13:13:22,784 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:13:22,785 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:22,786 - api.middleware.logging - INFO - [logging.py:31] - [2c9ac425] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:22,804 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:22,805 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:22,806 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:22,806 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:22,808 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:22,808 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:22,810 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131322810010，包含 1 个操作
2025-08-30 13:13:22,810 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131322810010 中的操作 1/1
2025-08-30 13:13:22,823 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131322810010 提交成功
2025-08-30 13:13:22,850 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:22,851 - api.middleware.logging - INFO - [logging.py:44] - [2c9ac425] 201 - Time: 0.065s
2025-08-30 13:13:22,854 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 201 Created"
2025-08-30 13:13:28,048 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:13:28,097 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,099 - api.middleware.logging - INFO - [logging.py:31] - [0dcefe5f] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:13:28,116 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,118 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,119 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:13:28,119 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:13:28,119 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:13:28,133 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,189 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,190 - api.middleware.logging - INFO - [logging.py:44] - [0dcefe5f] 200 - Time: 0.092s
2025-08-30 13:13:28,192 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:13:28,193 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,193 - api.middleware.logging - INFO - [logging.py:31] - [5fcb0eb0] POST /api/admin/addons - Client: testclient
2025-08-30 13:13:28,209 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,210 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,217 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,217 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,219 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,219 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,220 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328220857，包含 1 个操作
2025-08-30 13:13:28,221 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328220857 中的操作 1/1
2025-08-30 13:13:28,223 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328220857 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,223 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328220857 已回滚
2025-08-30 13:13:28,223 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,225 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,226 - api.middleware.logging - INFO - [logging.py:44] - [5fcb0eb0] 200 - Time: 0.032s
2025-08-30 13:13:28,227 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:13:28,228 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,229 - api.middleware.logging - INFO - [logging.py:31] - [c9acddf2] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:28,246 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,247 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,248 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,248 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,249 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,250 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,252 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328252164，包含 1 个操作
2025-08-30 13:13:28,252 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328252164 中的操作 1/1
2025-08-30 13:13:28,254 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328252164 执行失败: 2025-12-30 lunch 时段已存在有效餐次
2025-08-30 13:13:28,255 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328252164 已回滚
2025-08-30 13:13:28,255 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: 2025-12-30 lunch 时段已存在有效餐次
2025-08-30 13:13:28,257 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,258 - api.middleware.logging - INFO - [logging.py:44] - [c9acddf2] 200 - Time: 0.028s
2025-08-30 13:13:28,259 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:13:28,285 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,285 - api.middleware.logging - INFO - [logging.py:31] - [fd4000f3] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:13:28,303 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,304 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,304 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:13:28,304 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:13:28,304 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:13:28,310 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,330 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,330 - api.middleware.logging - INFO - [logging.py:44] - [fd4000f3] 200 - Time: 0.045s
2025-08-30 13:13:28,332 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:13:28,333 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,334 - api.middleware.logging - INFO - [logging.py:31] - [7e516bfb] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:28,354 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,355 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,356 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,356 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,358 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,358 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,358 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328358557，包含 1 个操作
2025-08-30 13:13:28,358 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328358557 中的操作 1/1
2025-08-30 13:13:28,371 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131328358557 提交成功
2025-08-30 13:13:28,396 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,396 - api.middleware.logging - INFO - [logging.py:44] - [7e516bfb] 201 - Time: 0.062s
2025-08-30 13:13:28,398 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 201 Created"
2025-08-30 13:13:28,398 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,399 - api.middleware.logging - INFO - [logging.py:31] - [5b55d764] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:28,413 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,414 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,415 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,415 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,416 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,416 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,417 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328417312，包含 1 个操作
2025-08-30 13:13:28,417 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328417312 中的操作 1/1
2025-08-30 13:13:28,420 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328417312 执行失败: 2025-12-31 lunch 时段已存在有效餐次
2025-08-30 13:13:28,421 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328417312 已回滚
2025-08-30 13:13:28,421 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: 2025-12-31 lunch 时段已存在有效餐次
2025-08-30 13:13:28,423 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,423 - api.middleware.logging - INFO - [logging.py:44] - [5b55d764] 200 - Time: 0.024s
2025-08-30 13:13:28,426 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:13:28,471 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,472 - api.middleware.logging - INFO - [logging.py:31] - [0920b055] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:13:28,487 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,488 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,488 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:13:28,488 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:13:28,488 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:13:28,494 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,508 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,509 - api.middleware.logging - INFO - [logging.py:44] - [0920b055] 200 - Time: 0.037s
2025-08-30 13:13:28,510 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:13:28,511 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,511 - api.middleware.logging - INFO - [logging.py:31] - [83951199] POST /api/admin/addons - Client: testclient
2025-08-30 13:13:28,528 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,529 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,529 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,529 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,531 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,531 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,531 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328531616，包含 1 个操作
2025-08-30 13:13:28,532 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328531616 中的操作 1/1
2025-08-30 13:13:28,533 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328531616 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,534 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328531616 已回滚
2025-08-30 13:13:28,534 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,535 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,536 - api.middleware.logging - INFO - [logging.py:44] - [83951199] 200 - Time: 0.025s
2025-08-30 13:13:28,537 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:13:28,538 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,538 - api.middleware.logging - INFO - [logging.py:31] - [c7881ede] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:28,566 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,572 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,573 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,574 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,575 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,575 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,576 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328576205，包含 1 个操作
2025-08-30 13:13:28,576 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328576205 中的操作 1/1
2025-08-30 13:13:28,588 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131328576205 提交成功
2025-08-30 13:13:28,618 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,618 - api.middleware.logging - INFO - [logging.py:44] - [c7881ede] 201 - Time: 0.080s
2025-08-30 13:13:28,619 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 201 Created"
2025-08-30 13:13:28,620 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,621 - api.middleware.logging - INFO - [logging.py:31] - [57ad934b] PATCH /api/admin/meals/7/lock - Client: testclient
2025-08-30 13:13:28,622 - api.middleware.logging - INFO - [logging.py:44] - [57ad934b] 405 - Time: 0.001s
2025-08-30 13:13:28,623 - httpx - INFO - [_client.py:1025] - HTTP Request: PATCH http://testserver/api/admin/meals/7/lock "HTTP/1.1 405 Method Not Allowed"
2025-08-30 13:13:28,629 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,630 - api.middleware.logging - INFO - [logging.py:31] - [8040827e] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:13:28,645 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,646 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,647 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:13:28,647 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:13:28,647 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:13:28,655 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,672 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,673 - api.middleware.logging - INFO - [logging.py:44] - [8040827e] 200 - Time: 0.043s
2025-08-30 13:13:28,674 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:13:28,675 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,676 - api.middleware.logging - INFO - [logging.py:31] - [607c96fb] POST /api/admin/addons - Client: testclient
2025-08-30 13:13:28,692 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,693 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,693 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,694 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,695 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,695 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,696 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328696210，包含 1 个操作
2025-08-30 13:13:28,696 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328696210 中的操作 1/1
2025-08-30 13:13:28,698 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328696210 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,698 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328696210 已回滚
2025-08-30 13:13:28,698 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,707 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,708 - api.middleware.logging - INFO - [logging.py:44] - [607c96fb] 200 - Time: 0.032s
2025-08-30 13:13:28,709 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:13:28,710 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,711 - api.middleware.logging - INFO - [logging.py:31] - [b73dfb07] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:28,727 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,728 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,729 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,729 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,730 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,730 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,731 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328731190，包含 1 个操作
2025-08-30 13:13:28,731 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328731190 中的操作 1/1
2025-08-30 13:13:28,733 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328731190 执行失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 13:13:28,733 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328731190 已回滚
2025-08-30 13:13:28,733 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 13:13:28,735 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,736 - api.middleware.logging - INFO - [logging.py:44] - [b73dfb07] 200 - Time: 0.025s
2025-08-30 13:13:28,737 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:13:28,738 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,739 - api.middleware.logging - INFO - [logging.py:31] - [37e22742] PATCH /api/admin/meals/1/complete - Client: testclient
2025-08-30 13:13:28,740 - api.middleware.logging - INFO - [logging.py:44] - [37e22742] 405 - Time: 0.001s
2025-08-30 13:13:28,740 - httpx - INFO - [_client.py:1025] - HTTP Request: PATCH http://testserver/api/admin/meals/1/complete "HTTP/1.1 405 Method Not Allowed"
2025-08-30 13:13:28,747 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,747 - api.middleware.logging - INFO - [logging.py:31] - [12d48bf7] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:13:28,763 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,764 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,764 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:13:28,764 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:13:28,764 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:13:28,775 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,792 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,792 - api.middleware.logging - INFO - [logging.py:44] - [12d48bf7] 200 - Time: 0.045s
2025-08-30 13:13:28,793 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:13:28,794 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,795 - api.middleware.logging - INFO - [logging.py:31] - [9fe3ca80] POST /api/admin/addons - Client: testclient
2025-08-30 13:13:28,815 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,816 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,817 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,817 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,819 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,819 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,820 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328819972，包含 1 个操作
2025-08-30 13:13:28,820 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328819972 中的操作 1/1
2025-08-30 13:13:28,822 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328819972 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,822 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328819972 已回滚
2025-08-30 13:13:28,822 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:13:28,824 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,825 - api.middleware.logging - INFO - [logging.py:44] - [9fe3ca80] 200 - Time: 0.030s
2025-08-30 13:13:28,826 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:13:28,826 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:13:28,830 - api.middleware.logging - INFO - [logging.py:31] - [3d482368] POST /api/admin/meals - Client: testclient
2025-08-30 13:13:28,844 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:13:28,845 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:13:28,845 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:13:28,845 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:13:28,847 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:13:28,847 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:13:28,847 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131328847743，包含 1 个操作
2025-08-30 13:13:28,848 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131328847743 中的操作 1/1
2025-08-30 13:13:28,850 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131328847743 执行失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 13:13:28,850 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131328847743 已回滚
2025-08-30 13:13:28,850 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 13:13:28,852 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:13:28,853 - api.middleware.logging - INFO - [logging.py:44] - [3d482368] 200 - Time: 0.023s
2025-08-30 13:13:28,854 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:14:13,027 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:14:13,101 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:14:13,102 - api.middleware.logging - INFO - [logging.py:31] - [c36af840] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:14:13,123 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:14:13,126 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:14:13,127 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:14:13,127 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:14:13,127 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:14:13,134 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:14:13,154 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:14:13,156 - api.middleware.logging - INFO - [logging.py:44] - [c36af840] 200 - Time: 0.053s
2025-08-30 13:14:13,158 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:14:13,159 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:14:13,159 - api.middleware.logging - INFO - [logging.py:31] - [fadb4569] POST /api/admin/addons - Client: testclient
2025-08-30 13:14:13,174 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:14:13,175 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:14:13,176 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:14:13,176 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:14:13,178 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:14:13,178 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:14:13,179 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131413179453，包含 1 个操作
2025-08-30 13:14:13,180 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131413179453 中的操作 1/1
2025-08-30 13:14:13,184 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131413179453 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:14:13,185 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131413179453 已回滚
2025-08-30 13:14:13,185 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:14:13,189 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:14:13,189 - api.middleware.logging - INFO - [logging.py:44] - [fadb4569] 200 - Time: 0.030s
2025-08-30 13:14:13,191 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:14:13,192 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:14:13,193 - api.middleware.logging - INFO - [logging.py:31] - [b67a8685] POST /api/admin/meals - Client: testclient
2025-08-30 13:14:13,208 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:14:13,212 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:14:13,215 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:14:13,215 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:14:13,217 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:14:13,217 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:14:13,220 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131413220076，包含 1 个操作
2025-08-30 13:14:13,220 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131413220076 中的操作 1/1
2025-08-30 13:14:13,223 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131413220076 执行失败: Conversion Error: date field value out of range: "2026-19-15"
2025-08-30 13:14:13,223 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131413220076 已回滚
2025-08-30 13:14:13,223 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: Conversion Error: date field value out of range: "2026-19-15"
2025-08-30 13:14:13,225 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:14:13,225 - api.middleware.logging - INFO - [logging.py:44] - [b67a8685] 200 - Time: 0.033s
2025-08-30 13:14:13,227 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:14:52,298 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:14:52,461 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:14:52,462 - api.middleware.logging - INFO - [logging.py:31] - [a4a688de] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:14:52,481 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:14:52,483 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:14:52,484 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:14:52,484 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:14:52,484 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:14:52,491 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:14:52,505 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:14:52,506 - api.middleware.logging - INFO - [logging.py:44] - [a4a688de] 200 - Time: 0.043s
2025-08-30 13:14:52,507 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:14:52,508 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:14:52,508 - api.middleware.logging - INFO - [logging.py:31] - [7361c7b4] POST /api/admin/addons - Client: testclient
2025-08-30 13:14:52,530 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:14:52,533 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:14:52,533 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:14:52,533 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:14:52,535 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:14:52,535 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:14:52,537 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131452537086，包含 1 个操作
2025-08-30 13:14:52,537 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131452537086 中的操作 1/1
2025-08-30 13:14:52,539 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131452537086 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:14:52,539 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131452537086 已回滚
2025-08-30 13:14:52,539 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:14:52,543 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:14:52,544 - api.middleware.logging - INFO - [logging.py:44] - [7361c7b4] 200 - Time: 0.035s
2025-08-30 13:14:52,545 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:14:52,546 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:14:52,547 - api.middleware.logging - INFO - [logging.py:31] - [6ac96742] POST /api/admin/meals - Client: testclient
2025-08-30 13:14:52,562 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:14:52,563 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:14:52,565 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:14:52,565 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:14:52,567 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:14:52,567 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:14:52,569 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131452569025，包含 1 个操作
2025-08-30 13:14:52,569 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131452569025 中的操作 1/1
2025-08-30 13:14:52,582 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131452569025 提交成功
2025-08-30 13:14:52,645 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:14:52,646 - api.middleware.logging - INFO - [logging.py:44] - [6ac96742] 201 - Time: 0.099s
2025-08-30 13:14:52,648 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 201 Created"
2025-08-30 13:15:25,672 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:15:25,724 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,727 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,731 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525731779，包含 1 个操作
2025-08-30 13:15:25,732 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525731779 中的操作 1/1
2025-08-30 13:15:25,736 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525731779 提交成功
2025-08-30 13:15:25,738 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525738107，包含 1 个操作
2025-08-30 13:15:25,738 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525738107 中的操作 1/1
2025-08-30 13:15:25,741 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525738107 提交成功
2025-08-30 13:15:25,743 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,754 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,756 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,758 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525758621，包含 1 个操作
2025-08-30 13:15:25,758 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525758621 中的操作 1/1
2025-08-30 13:15:25,762 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525758621 提交成功
2025-08-30 13:15:25,763 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525763525，包含 1 个操作
2025-08-30 13:15:25,763 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525763525 中的操作 1/1
2025-08-30 13:15:25,767 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525763525 提交成功
2025-08-30 13:15:25,767 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525767962，包含 1 个操作
2025-08-30 13:15:25,768 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525767962 中的操作 1/1
2025-08-30 13:15:25,769 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131525767962 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-30 13:15:25,769 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131525767962 已回滚
2025-08-30 13:15:25,771 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,782 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,783 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,785 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525785214，包含 1 个操作
2025-08-30 13:15:25,785 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525785214 中的操作 1/1
2025-08-30 13:15:25,789 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525785214 提交成功
2025-08-30 13:15:25,790 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525789979，包含 1 个操作
2025-08-30 13:15:25,790 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525789979 中的操作 1/1
2025-08-30 13:15:25,793 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525789979 提交成功
2025-08-30 13:15:25,800 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,812 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,813 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,815 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525815872，包含 1 个操作
2025-08-30 13:15:25,816 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525815872 中的操作 1/1
2025-08-30 13:15:25,820 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525815872 提交成功
2025-08-30 13:15:25,820 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525820946，包含 1 个操作
2025-08-30 13:15:25,821 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525820946 中的操作 1/1
2025-08-30 13:15:25,824 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525820946 提交成功
2025-08-30 13:15:25,824 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525824799，包含 1 个操作
2025-08-30 13:15:25,825 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525824799 中的操作 1/1
2025-08-30 13:15:25,829 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525824799 提交成功
2025-08-30 13:15:25,831 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,842 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,843 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,845 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525845725，包含 1 个操作
2025-08-30 13:15:25,845 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525845725 中的操作 1/1
2025-08-30 13:15:25,850 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525845725 提交成功
2025-08-30 13:15:25,850 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525850923，包含 1 个操作
2025-08-30 13:15:25,851 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525850923 中的操作 1/1
2025-08-30 13:15:25,854 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525850923 提交成功
2025-08-30 13:15:25,854 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525854584，包含 1 个操作
2025-08-30 13:15:25,854 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525854584 中的操作 1/1
2025-08-30 13:15:25,859 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525854584 提交成功
2025-08-30 13:15:25,860 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525860242，包含 1 个操作
2025-08-30 13:15:25,860 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525860242 中的操作 1/1
2025-08-30 13:15:25,862 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525860242 提交成功
2025-08-30 13:15:25,864 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,882 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,884 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,887 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525887336，包含 1 个操作
2025-08-30 13:15:25,887 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525887336 中的操作 1/1
2025-08-30 13:15:25,892 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525887336 提交成功
2025-08-30 13:15:25,893 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525893519，包含 1 个操作
2025-08-30 13:15:25,893 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525893519 中的操作 1/1
2025-08-30 13:15:25,897 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525893519 提交成功
2025-08-30 13:15:25,897 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525897443，包含 1 个操作
2025-08-30 13:15:25,897 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525897443 中的操作 1/1
2025-08-30 13:15:25,902 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525897443 提交成功
2025-08-30 13:15:25,903 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525903006，包含 1 个操作
2025-08-30 13:15:25,903 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525903006 中的操作 1/1
2025-08-30 13:15:25,906 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525903006 提交成功
2025-08-30 13:15:25,908 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,920 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,921 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,923 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525923454，包含 1 个操作
2025-08-30 13:15:25,923 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525923454 中的操作 1/1
2025-08-30 13:15:25,927 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525923454 提交成功
2025-08-30 13:15:25,928 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525928852，包含 1 个操作
2025-08-30 13:15:25,929 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525928852 中的操作 1/1
2025-08-30 13:15:25,933 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525928852 提交成功
2025-08-30 13:15:25,933 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525933385，包含 1 个操作
2025-08-30 13:15:25,933 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525933385 中的操作 1/1
2025-08-30 13:15:25,937 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525933385 提交成功
2025-08-30 13:15:25,939 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,951 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,952 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,955 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525954994，包含 1 个操作
2025-08-30 13:15:25,955 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525954994 中的操作 1/1
2025-08-30 13:15:25,959 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525954994 提交成功
2025-08-30 13:15:25,960 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525960158，包含 1 个操作
2025-08-30 13:15:25,960 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525960158 中的操作 1/1
2025-08-30 13:15:25,963 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525960158 提交成功
2025-08-30 13:15:25,964 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525964336，包含 1 个操作
2025-08-30 13:15:25,964 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525964336 中的操作 1/1
2025-08-30 13:15:25,971 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525964336 提交成功
2025-08-30 13:15:25,971 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525971400，包含 1 个操作
2025-08-30 13:15:25,971 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525971400 中的操作 1/1
2025-08-30 13:15:25,978 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525971400 提交成功
2025-08-30 13:15:25,980 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:25,992 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:25,992 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:25,995 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131525995354，包含 1 个操作
2025-08-30 13:15:25,995 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131525995354 中的操作 1/1
2025-08-30 13:15:25,999 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131525995354 提交成功
2025-08-30 13:15:26,000 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526000624，包含 1 个操作
2025-08-30 13:15:26,000 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526000624 中的操作 1/1
2025-08-30 13:15:26,005 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526000624 提交成功
2025-08-30 13:15:26,006 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526006193，包含 1 个操作
2025-08-30 13:15:26,006 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526006193 中的操作 1/1
2025-08-30 13:15:26,009 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526006193 提交成功
2025-08-30 13:15:26,010 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526010090，包含 1 个操作
2025-08-30 13:15:26,010 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526010090 中的操作 1/1
2025-08-30 13:15:26,015 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526010090 提交成功
2025-08-30 13:15:26,015 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526015532，包含 1 个操作
2025-08-30 13:15:26,015 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526015532 中的操作 1/1
2025-08-30 13:15:26,024 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526015532 提交成功
2025-08-30 13:15:26,024 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526024868，包含 1 个操作
2025-08-30 13:15:26,025 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526024868 中的操作 1/1
2025-08-30 13:15:26,036 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526024868 提交成功
2025-08-30 13:15:26,039 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:26,050 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:26,054 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:26,057 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526057435，包含 1 个操作
2025-08-30 13:15:26,057 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526057435 中的操作 1/1
2025-08-30 13:15:26,061 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526057435 提交成功
2025-08-30 13:15:26,061 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526061846，包含 1 个操作
2025-08-30 13:15:26,062 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526061846 中的操作 1/1
2025-08-30 13:15:26,066 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526061846 提交成功
2025-08-30 13:15:26,067 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526067016，包含 1 个操作
2025-08-30 13:15:26,067 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526067016 中的操作 1/1
2025-08-30 13:15:26,070 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526067016 提交成功
2025-08-30 13:15:26,070 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526070603，包含 1 个操作
2025-08-30 13:15:26,070 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526070603 中的操作 1/1
2025-08-30 13:15:26,075 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526070603 提交成功
2025-08-30 13:15:26,075 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526075831，包含 1 个操作
2025-08-30 13:15:26,076 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526075831 中的操作 1/1
2025-08-30 13:15:26,077 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131526075831 执行失败: 余额不足，需要 15.00 元，当前余额 0.00 元
2025-08-30 13:15:26,078 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131526075831 已回滚
2025-08-30 13:15:26,081 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:26,093 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:26,094 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:26,096 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526096886，包含 1 个操作
2025-08-30 13:15:26,097 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526096886 中的操作 1/1
2025-08-30 13:15:26,101 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526096886 提交成功
2025-08-30 13:15:26,102 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526102548，包含 1 个操作
2025-08-30 13:15:26,102 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526102548 中的操作 1/1
2025-08-30 13:15:26,106 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526102548 提交成功
2025-08-30 13:15:26,107 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526107004，包含 1 个操作
2025-08-30 13:15:26,107 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526107004 中的操作 1/1
2025-08-30 13:15:26,110 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526107004 提交成功
2025-08-30 13:15:26,110 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526110834，包含 1 个操作
2025-08-30 13:15:26,111 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526110834 中的操作 1/1
2025-08-30 13:15:26,115 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526110834 提交成功
2025-08-30 13:15:26,116 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526116160，包含 1 个操作
2025-08-30 13:15:26,116 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526116160 中的操作 1/1
2025-08-30 13:15:26,123 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526116160 提交成功
2025-08-30 13:15:26,123 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526123535，包含 1 个操作
2025-08-30 13:15:26,123 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526123535 中的操作 1/1
2025-08-30 13:15:26,134 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526123535 提交成功
2025-08-30 13:15:26,134 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526134708，包含 1 个操作
2025-08-30 13:15:26,134 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526134708 中的操作 1/1
2025-08-30 13:15:26,143 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526134708 提交成功
2025-08-30 13:15:26,146 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:26,157 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:26,158 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:26,161 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526161190，包含 1 个操作
2025-08-30 13:15:26,161 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526161190 中的操作 1/1
2025-08-30 13:15:26,165 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526161190 提交成功
2025-08-30 13:15:26,165 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526165721，包含 1 个操作
2025-08-30 13:15:26,165 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526165721 中的操作 1/1
2025-08-30 13:15:26,166 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131526165721 执行失败: 用户不是管理员或账户已停用
2025-08-30 13:15:26,166 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131526165721 已回滚
2025-08-30 13:15:26,168 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:26,178 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:26,179 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:26,181 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526181869，包含 1 个操作
2025-08-30 13:15:26,182 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526181869 中的操作 1/1
2025-08-30 13:15:26,186 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526181869 提交成功
2025-08-30 13:15:26,186 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526186910，包含 1 个操作
2025-08-30 13:15:26,187 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526186910 中的操作 1/1
2025-08-30 13:15:26,190 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526186910 提交成功
2025-08-30 13:15:26,191 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526191074，包含 1 个操作
2025-08-30 13:15:26,191 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526191074 中的操作 1/1
2025-08-30 13:15:26,195 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526191074 提交成功
2025-08-30 13:15:26,195 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526195543，包含 1 个操作
2025-08-30 13:15:26,195 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526195543 中的操作 1/1
2025-08-30 13:15:26,202 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526195543 提交成功
2025-08-30 13:15:26,202 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526202240，包含 1 个操作
2025-08-30 13:15:26,203 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526202240 中的操作 1/1
2025-08-30 13:15:26,213 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526202240 提交成功
2025-08-30 13:15:26,214 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526214377，包含 1 个操作
2025-08-30 13:15:26,214 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526214377 中的操作 1/1
2025-08-30 13:15:26,216 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131526214377 执行失败: 餐次已满，无法下单
2025-08-30 13:15:26,216 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131526214377 已回滚
2025-08-30 13:15:26,232 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:15:26,243 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:15:26,246 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:15:26,248 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526248868，包含 1 个操作
2025-08-30 13:15:26,249 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526248868 中的操作 1/1
2025-08-30 13:15:26,252 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526248868 提交成功
2025-08-30 13:15:26,253 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526253821，包含 1 个操作
2025-08-30 13:15:26,254 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526253821 中的操作 1/1
2025-08-30 13:15:26,257 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526253821 提交成功
2025-08-30 13:15:26,257 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526257731，包含 1 个操作
2025-08-30 13:15:26,257 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526257731 中的操作 1/1
2025-08-30 13:15:26,261 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526257731 提交成功
2025-08-30 13:15:26,261 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526261312，包含 1 个操作
2025-08-30 13:15:26,261 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526261312 中的操作 1/1
2025-08-30 13:15:26,265 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526261312 提交成功
2025-08-30 13:15:26,266 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526266279，包含 1 个操作
2025-08-30 13:15:26,266 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526266279 中的操作 1/1
2025-08-30 13:15:26,272 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526266279 提交成功
2025-08-30 13:15:26,272 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526272954，包含 1 个操作
2025-08-30 13:15:26,273 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526272954 中的操作 1/1
2025-08-30 13:15:26,283 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830131526272954 提交成功
2025-08-30 13:15:26,283 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830131526283202，包含 1 个操作
2025-08-30 13:15:26,283 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830131526283202 中的操作 1/1
2025-08-30 13:15:26,285 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830131526283202 执行失败: 用户已有该餐次的有效订单 1
2025-08-30 13:15:26,285 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830131526283202 已回滚
2025-08-30 13:15:26,288 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,085 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:35:28,140 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,143 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,147 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528147237，包含 1 个操作
2025-08-30 13:35:28,147 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528147237 中的操作 1/1
2025-08-30 13:35:28,157 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528147237 提交成功
2025-08-30 13:35:28,159 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528159112，包含 1 个操作
2025-08-30 13:35:28,159 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528159112 中的操作 1/1
2025-08-30 13:35:28,163 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528159112 提交成功
2025-08-30 13:35:28,166 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,178 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,179 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,181 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528181575，包含 1 个操作
2025-08-30 13:35:28,181 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528181575 中的操作 1/1
2025-08-30 13:35:28,186 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528181575 提交成功
2025-08-30 13:35:28,187 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528187166，包含 1 个操作
2025-08-30 13:35:28,187 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528187166 中的操作 1/1
2025-08-30 13:35:28,190 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528187166 提交成功
2025-08-30 13:35:28,191 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528191902，包含 1 个操作
2025-08-30 13:35:28,192 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528191902 中的操作 1/1
2025-08-30 13:35:28,193 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830133528191902 执行失败: 附加项名称 '测试附加项' 已存在
2025-08-30 13:35:28,193 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830133528191902 已回滚
2025-08-30 13:35:28,196 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,207 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,208 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,212 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528212010，包含 1 个操作
2025-08-30 13:35:28,212 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528212010 中的操作 1/1
2025-08-30 13:35:28,216 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528212010 提交成功
2025-08-30 13:35:28,217 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528217525，包含 1 个操作
2025-08-30 13:35:28,217 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528217525 中的操作 1/1
2025-08-30 13:35:28,221 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528217525 提交成功
2025-08-30 13:35:28,229 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,244 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,245 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,249 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528249498，包含 1 个操作
2025-08-30 13:35:28,250 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528249498 中的操作 1/1
2025-08-30 13:35:28,256 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528249498 提交成功
2025-08-30 13:35:28,257 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528257511，包含 1 个操作
2025-08-30 13:35:28,257 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528257511 中的操作 1/1
2025-08-30 13:35:28,262 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528257511 提交成功
2025-08-30 13:35:28,262 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528262629，包含 1 个操作
2025-08-30 13:35:28,262 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528262629 中的操作 1/1
2025-08-30 13:35:28,268 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528262629 提交成功
2025-08-30 13:35:28,271 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,282 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,283 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,285 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528285461，包含 1 个操作
2025-08-30 13:35:28,285 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528285461 中的操作 1/1
2025-08-30 13:35:28,289 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528285461 提交成功
2025-08-30 13:35:28,290 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528290471，包含 1 个操作
2025-08-30 13:35:28,290 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528290471 中的操作 1/1
2025-08-30 13:35:28,294 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528290471 提交成功
2025-08-30 13:35:28,294 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528294267，包含 1 个操作
2025-08-30 13:35:28,299 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528294267 中的操作 1/1
2025-08-30 13:35:28,304 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528294267 提交成功
2025-08-30 13:35:28,304 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528304673，包含 1 个操作
2025-08-30 13:35:28,304 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528304673 中的操作 1/1
2025-08-30 13:35:28,307 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528304673 提交成功
2025-08-30 13:35:28,310 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,321 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,323 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,326 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528326726，包含 1 个操作
2025-08-30 13:35:28,326 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528326726 中的操作 1/1
2025-08-30 13:35:28,331 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528326726 提交成功
2025-08-30 13:35:28,332 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528332273，包含 1 个操作
2025-08-30 13:35:28,332 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528332273 中的操作 1/1
2025-08-30 13:35:28,336 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528332273 提交成功
2025-08-30 13:35:28,336 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528336575，包含 1 个操作
2025-08-30 13:35:28,336 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528336575 中的操作 1/1
2025-08-30 13:35:28,341 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528336575 提交成功
2025-08-30 13:35:28,342 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528342132，包含 1 个操作
2025-08-30 13:35:28,342 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528342132 中的操作 1/1
2025-08-30 13:35:28,345 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528342132 提交成功
2025-08-30 13:35:28,348 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,359 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,360 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,364 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528364427，包含 1 个操作
2025-08-30 13:35:28,364 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528364427 中的操作 1/1
2025-08-30 13:35:28,368 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528364427 提交成功
2025-08-30 13:35:28,370 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528370161，包含 1 个操作
2025-08-30 13:35:28,370 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528370161 中的操作 1/1
2025-08-30 13:35:28,374 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528370161 提交成功
2025-08-30 13:35:28,374 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528374606，包含 1 个操作
2025-08-30 13:35:28,374 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528374606 中的操作 1/1
2025-08-30 13:35:28,378 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528374606 提交成功
2025-08-30 13:35:28,381 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:28,392 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: :memory:
2025-08-30 13:35:28,394 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:28,396 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528396487，包含 1 个操作
2025-08-30 13:35:28,396 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528396487 中的操作 1/1
2025-08-30 13:35:28,400 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528396487 提交成功
2025-08-30 13:35:28,401 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528401713，包含 1 个操作
2025-08-30 13:35:28,401 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528401713 中的操作 1/1
2025-08-30 13:35:28,405 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528401713 提交成功
2025-08-30 13:35:28,406 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528406273，包含 1 个操作
2025-08-30 13:35:28,406 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528406273 中的操作 1/1
2025-08-30 13:35:28,413 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528406273 提交成功
2025-08-30 13:35:28,413 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133528413662，包含 1 个操作
2025-08-30 13:35:28,413 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133528413662 中的操作 1/1
2025-08-30 13:35:28,420 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133528413662 提交成功
2025-08-30 13:35:28,423 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:35,764 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-08-30 13:35:35,811 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:35,815 - api.middleware.logging - INFO - [logging.py:31] - [a847301b] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:35:35,833 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:35:35,836 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:35,837 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:35:35,837 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:35:35,837 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:35:35,847 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:35:35,862 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:35,863 - api.middleware.logging - INFO - [logging.py:44] - [a847301b] 200 - Time: 0.048s
2025-08-30 13:35:35,865 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:35:35,866 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:35,868 - api.middleware.logging - INFO - [logging.py:31] - [22152e21] POST /api/admin/addons - Client: testclient
2025-08-30 13:35:35,886 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:35:35,887 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:35,888 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:35:35,888 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:35:35,890 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:35:35,890 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:35:35,891 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133535891715，包含 1 个操作
2025-08-30 13:35:35,892 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133535891715 中的操作 1/1
2025-08-30 13:35:35,895 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830133535891715 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:35:35,895 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830133535891715 已回滚
2025-08-30 13:35:35,895 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:35:35,897 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:35,898 - api.middleware.logging - INFO - [logging.py:44] - [22152e21] 200 - Time: 0.030s
2025-08-30 13:35:35,899 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:35:35,901 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:35,902 - api.middleware.logging - INFO - [logging.py:31] - [50c5561f] POST /api/admin/meals - Client: testclient
2025-08-30 13:35:35,919 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:35:35,920 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:35,921 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:35:35,921 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:35:35,923 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:35:35,923 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:35:35,925 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133535925532，包含 1 个操作
2025-08-30 13:35:35,926 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133535925532 中的操作 1/1
2025-08-30 13:35:35,959 - DatabaseManager - INFO - [manager.py:156] - 事务 20250830133535925532 提交成功
2025-08-30 13:35:35,996 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:35,996 - api.middleware.logging - INFO - [logging.py:44] - [50c5561f] 201 - Time: 0.094s
2025-08-30 13:35:35,999 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 201 Created"
2025-08-30 13:35:36,002 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:36,003 - api.middleware.logging - INFO - [logging.py:31] - [9aec4bdd] POST /api/auth/wechat/login - Client: testclient
2025-08-30 13:35:36,022 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:35:36,023 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:36,024 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-08-30 13:35:36,024 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-08-30 13:35:36,024 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: test_admin_code
2025-08-30 13:35:36,031 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_3b77fd501946df1a
2025-08-30 13:35:36,065 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:36,066 - api.middleware.logging - INFO - [logging.py:44] - [9aec4bdd] 200 - Time: 0.063s
2025-08-30 13:35:36,067 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/auth/wechat/login "HTTP/1.1 200 OK"
2025-08-30 13:35:36,070 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:36,071 - api.middleware.logging - INFO - [logging.py:31] - [118a7429] POST /api/admin/addons - Client: testclient
2025-08-30 13:35:36,087 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:35:36,088 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:36,088 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:35:36,088 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:35:36,090 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:35:36,090 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:35:36,090 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133536090735，包含 1 个操作
2025-08-30 13:35:36,091 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133536090735 中的操作 1/1
2025-08-30 13:35:36,092 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830133536090735 执行失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:35:36,093 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830133536090735 已回滚
2025-08-30 13:35:36,093 - api.admin.routes - ERROR - [routes.py:70] - 创建附加项失败: 附加项名称 'API测试附加项' 已存在
2025-08-30 13:35:36,097 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:36,098 - api.middleware.logging - INFO - [logging.py:44] - [118a7429] 200 - Time: 0.027s
2025-08-30 13:35:36,099 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/addons "HTTP/1.1 200 OK"
2025-08-30 13:35:36,100 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:36,101 - api.middleware.logging - INFO - [logging.py:31] - [09bbfe1f] POST /api/admin/meals - Client: testclient
2025-08-30 13:35:36,116 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-08-30 13:35:36,120 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-08-30 13:35:36,120 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-08-30 13:35:36,120 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=2, open_id=mock_openid_3b77fd501946df1a
2025-08-30 13:35:36,122 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=2, found=True
2025-08-30 13:35:36,122 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=2
2025-08-30 13:35:36,123 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250830133536123447，包含 1 个操作
2025-08-30 13:35:36,124 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250830133536123447 中的操作 1/1
2025-08-30 13:35:36,127 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250830133536123447 执行失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 13:35:36,127 - DatabaseManager - INFO - [manager.py:164] - 事务 20250830133536123447 已回滚
2025-08-30 13:35:36,127 - api.admin.routes - ERROR - [routes.py:242] - 发布餐次失败: 2024-12-25 lunch 时段已存在有效餐次
2025-08-30 13:35:36,130 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-08-30 13:35:36,131 - api.middleware.logging - INFO - [logging.py:44] - [09bbfe1f] 200 - Time: 0.030s
2025-08-30 13:35:36,135 - httpx - INFO - [_client.py:1025] - HTTP Request: POST http://testserver/api/admin/meals "HTTP/1.1 200 OK"
2025-08-30 13:35:36,136 - asyncio - DEBUG - [selector_events.py:64] - Using selector: EpollSelector
2025-08-30 13:35:36,137 - api.middleware.logging - INFO - [logging.py:31] - [af30be46] PATCH /api/admin/meals/1/lock - Client: testclient
2025-08-30 13:35:36,138 - api.middleware.logging - INFO - [logging.py:44] - [af30be46] 405 - Time: 0.001s
2025-08-30 13:35:36,139 - httpx - INFO - [_client.py:1025] - HTTP Request: PATCH http://testserver/api/admin/meals/1/lock "HTTP/1.1 405 Method Not Allowed"
2025-09-02 10:40:18,605 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 10:40:18,638 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 10:40:18,638 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 10:40:18,639 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 10:50:33,805 - api.middleware.logging - INFO - [logging.py:31] - [a3c1fc08] POST /api/auth/wechat/login - Client: 188.253.4.206
2025-09-02 10:50:33,815 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:50:33,824 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:50:33,824 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-09-02 10:50:33,825 - api.auth.wechat_service - WARNING - [wechat_service.py:21] - 微信配置缺失，将使用模拟模式
2025-09-02 10:50:33,825 - api.auth.wechat_service - INFO - [wechat_service.py:91] - 使用模拟微信认证，code: 0f3Tm9000hLfTU1trV300hIKsn4Tm90-
2025-09-02 10:50:33,826 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902105033826690，包含 1 个操作
2025-09-02 10:50:33,826 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902105033826690 中的操作 1/1
2025-09-02 10:50:33,828 - root - INFO - [config.py:71] - 成功加载配置文件: /home/pp/mp/ganghaofan_cc/server/config/config-dev.json
2025-09-02 10:50:33,828 - DatabaseManager - DEBUG - [supporting_operations.py:74] - 开发模式: __any__ 存在于白名单，mock_openid_d547a2d9e720f839 设为管理员
2025-09-02 10:50:33,836 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902105033826690 提交成功
2025-09-02 10:50:33,837 - api.auth.routes - INFO - [routes.py:165] - 未注册用户登录: mock_openid_d547a2d9e720f839
2025-09-02 10:50:33,857 - api.middleware.logging - INFO - [logging.py:44] - [a3c1fc08] 200 - Time: 0.053s
2025-09-02 10:50:33,858 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:17,322 - api.middleware.logging - INFO - [logging.py:31] - [805cc645] POST /api/auth/register - Client: 188.253.4.203
2025-09-02 10:51:17,330 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:17,331 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:17,332 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:17,332 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:17,334 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:17,334 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:17,335 - api.auth.routes - INFO - [routes.py:198] - 使用实际的open_id进行注册: mock_openid_d547a2d9e720f839 (token中为: mock_openid_d547a2d9e720f839)
2025-09-02 10:51:17,337 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902105117337023，包含 1 个操作
2025-09-02 10:51:17,337 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902105117337023 中的操作 1/1
2025-09-02 10:51:17,342 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902105117337023 提交成功
2025-09-02 10:51:17,342 - api.auth.routes - INFO - [routes.py:214] - 用户注册完成: PP (mock_openid_d547a2d9e720f839)
2025-09-02 10:51:17,343 - api.middleware.logging - INFO - [logging.py:44] - [805cc645] 200 - Time: 0.021s
2025-09-02 10:51:17,384 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:19,500 - api.middleware.logging - INFO - [logging.py:31] - [3535b63a] GET /api/auth/me - Client: 188.253.4.203
2025-09-02 10:51:19,507 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:19,508 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:19,508 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:19,509 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:19,511 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:19,511 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:19,513 - api.middleware.logging - INFO - [logging.py:44] - [3535b63a] 200 - Time: 0.013s
2025-09-02 10:51:19,515 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:21,972 - api.middleware.logging - INFO - [logging.py:31] - [bd6a6ff3] GET /api/meals - Client: 188.253.4.203
2025-09-02 10:51:21,981 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:21,982 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:21,983 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:21,983 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:21,985 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:21,985 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:21,992 - api.middleware.logging - INFO - [logging.py:44] - [bd6a6ff3] 200 - Time: 0.020s
2025-09-02 10:51:21,994 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:23,895 - api.middleware.logging - INFO - [logging.py:31] - [f2b6a94d] GET /api/meals - Client: 188.253.4.204
2025-09-02 10:51:23,902 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:23,906 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:23,907 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:23,907 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:23,909 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:23,909 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:23,914 - api.middleware.logging - INFO - [logging.py:44] - [f2b6a94d] 200 - Time: 0.019s
2025-09-02 10:51:23,917 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:27,984 - api.middleware.logging - INFO - [logging.py:31] - [9ad6c271] GET /api/users/profile - Client: 188.253.4.204
2025-09-02 10:51:27,994 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:27,995 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:27,995 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:27,996 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:27,998 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:27,998 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:28,002 - DatabaseManager - ERROR - [query_operations.py:526] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-09-02 10:51:28,004 - DatabaseManager - ERROR - [query_operations.py:577] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-09-02 10:51:28,005 - api.middleware.logging - INFO - [logging.py:44] - [9ad6c271] 200 - Time: 0.021s
2025-09-02 10:51:28,008 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:28,706 - api.middleware.logging - INFO - [logging.py:31] - [d8a25e8d] GET /api/users/profile - Client: 188.253.4.203
2025-09-02 10:51:28,714 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:28,715 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:28,716 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:28,716 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:28,718 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:28,719 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:28,722 - DatabaseManager - ERROR - [query_operations.py:526] - 查询用户订单统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-09-02 10:51:28,723 - DatabaseManager - ERROR - [query_operations.py:577] - 查询用户交易统计失败: unsupported operand type(s) for /: 'NoneType' and 'float'
2025-09-02 10:51:28,724 - api.middleware.logging - INFO - [logging.py:44] - [d8a25e8d] 200 - Time: 0.018s
2025-09-02 10:51:28,726 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:29,827 - api.middleware.logging - INFO - [logging.py:31] - [4b5eb9b9] GET /api/meals - Client: 188.253.4.203
2025-09-02 10:51:29,834 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:29,836 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:29,836 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:29,836 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:29,838 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:29,838 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:29,844 - api.middleware.logging - INFO - [logging.py:44] - [4b5eb9b9] 200 - Time: 0.018s
2025-09-02 10:51:29,846 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:31,189 - api.middleware.logging - INFO - [logging.py:31] - [9b2a089b] GET /api/admin/addons - Client: 188.253.4.203
2025-09-02 10:51:31,197 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:31,198 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:31,198 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:31,198 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:31,201 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:31,201 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:31,204 - api.middleware.logging - INFO - [logging.py:44] - [9b2a089b] 200 - Time: 0.015s
2025-09-02 10:51:31,207 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:38,826 - api.middleware.logging - INFO - [logging.py:31] - [38c6521c] POST /api/admin/meals - Client: 188.253.4.205
2025-09-02 10:51:38,836 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:38,837 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:38,837 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:38,838 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:38,840 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:38,840 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:38,840 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902105138840944，包含 1 个操作
2025-09-02 10:51:38,841 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902105138840944 中的操作 1/1
2025-09-02 10:51:38,874 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902105138840944 提交成功
2025-09-02 10:51:38,898 - api.middleware.logging - INFO - [logging.py:44] - [38c6521c] 201 - Time: 0.072s
2025-09-02 10:51:38,898 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:40,828 - api.middleware.logging - INFO - [logging.py:31] - [3a7692d4] GET /api/meals - Client: 188.253.4.205
2025-09-02 10:51:40,835 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:40,836 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:40,836 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:40,836 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:40,838 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:40,838 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:40,844 - api.middleware.logging - INFO - [logging.py:44] - [3a7692d4] 200 - Time: 0.017s
2025-09-02 10:51:40,847 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:47,811 - api.middleware.logging - INFO - [logging.py:31] - [144ac8b5] GET /api/admin/addons - Client: 188.253.4.203
2025-09-02 10:51:47,819 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:47,820 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:47,820 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:47,820 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:47,822 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:47,822 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:47,826 - api.middleware.logging - INFO - [logging.py:44] - [144ac8b5] 200 - Time: 0.014s
2025-09-02 10:51:47,830 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:49,527 - api.middleware.logging - INFO - [logging.py:31] - [38fcefd5] GET /api/meals - Client: 188.253.4.203
2025-09-02 10:51:49,536 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:49,537 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:49,538 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:49,538 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:49,541 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:49,541 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:49,551 - api.middleware.logging - INFO - [logging.py:44] - [38fcefd5] 200 - Time: 0.024s
2025-09-02 10:51:49,555 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:50,519 - api.middleware.logging - INFO - [logging.py:31] - [b41c1655] GET /api/admin/addons - Client: 188.253.4.203
2025-09-02 10:51:50,530 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:50,539 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:50,540 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:50,540 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:50,543 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:50,543 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:50,560 - api.middleware.logging - INFO - [logging.py:44] - [b41c1655] 200 - Time: 0.041s
2025-09-02 10:51:50,564 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:51,986 - api.middleware.logging - INFO - [logging.py:31] - [8abd89c8] GET /api/meals - Client: 188.253.4.203
2025-09-02 10:51:51,996 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:51,999 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:51,999 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:52,000 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:52,002 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:52,002 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:52,009 - api.middleware.logging - INFO - [logging.py:44] - [8abd89c8] 200 - Time: 0.023s
2025-09-02 10:51:52,012 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:53,768 - api.middleware.logging - INFO - [logging.py:31] - [0dd75669] GET /api/meals - Client: 188.253.4.203
2025-09-02 10:51:53,777 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:53,778 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:53,779 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:53,779 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:53,781 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:53,781 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:53,787 - api.middleware.logging - INFO - [logging.py:44] - [0dd75669] 200 - Time: 0.019s
2025-09-02 10:51:53,789 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:54,387 - api.middleware.logging - INFO - [logging.py:31] - [e99eeced] GET /api/admin/addons - Client: 188.253.4.203
2025-09-02 10:51:54,394 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:54,399 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:54,400 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:54,400 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:54,402 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:54,402 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:54,406 - api.middleware.logging - INFO - [logging.py:44] - [e99eeced] 200 - Time: 0.019s
2025-09-02 10:51:54,408 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:54,680 - api.middleware.logging - INFO - [logging.py:31] - [fbe3016e] GET /api/meals/2 - Client: 188.253.4.206
2025-09-02 10:51:54,687 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:54,688 - api.middleware.logging - INFO - [logging.py:31] - [db28802c] GET /api/admin/meals/2/statistics - Client: 188.253.4.206
2025-09-02 10:51:54,690 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:54,691 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:54,691 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:54,692 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:54,693 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:54,693 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:54,693 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:54,695 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:54,695 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:54,696 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:54,696 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:54,700 - api.middleware.logging - INFO - [logging.py:44] - [fbe3016e] 200 - Time: 0.020s
2025-09-02 10:51:54,700 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:54,712 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:51:54,712 - api.middleware.logging - INFO - [logging.py:44] - [db28802c] 200 - Time: 0.024s
2025-09-02 10:51:57,880 - api.middleware.logging - INFO - [logging.py:31] - [0b8fed4a] DELETE /api/admin/meals/2 - Client: 188.253.4.206
2025-09-02 10:51:57,889 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 10:51:57,895 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 10:51:57,895 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 10:51:57,895 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 10:51:57,897 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 10:51:57,897 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 10:51:57,898 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902105157898174，包含 1 个操作
2025-09-02 10:51:57,898 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902105157898174 中的操作 1/1
2025-09-02 10:51:57,905 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902105157898174 执行失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 10:51:57,906 - DatabaseManager - INFO - [manager.py:164] - 事务 20250902105157898174 已回滚
2025-09-02 10:51:57,906 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 10:51:57,907 - api.middleware.logging - INFO - [logging.py:44] - [0b8fed4a] 200 - Time: 0.027s
2025-09-02 10:51:57,918 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 10:55:42,619 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 10:55:43,401 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 10:55:43,437 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 10:55:43,437 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 10:55:43,437 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 10:55:51,655 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 10:55:52,397 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 10:55:52,430 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 10:55:52,431 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 10:55:52,431 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 10:55:55,437 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:03:58,005 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:03:58,038 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:03:58,038 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:03:58,039 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:04:09,346 - api.middleware.logging - INFO - [logging.py:31] - [86f84f19] GET /api/auth/me - Client: 188.253.4.206
2025-09-02 11:04:09,357 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:09,358 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:09,359 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:09,359 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:09,361 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:09,362 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:09,364 - api.middleware.logging - INFO - [logging.py:44] - [86f84f19] 200 - Time: 0.019s
2025-09-02 11:04:09,366 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:11,241 - api.middleware.logging - INFO - [logging.py:31] - [414824fe] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:04:11,249 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:11,250 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:11,251 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:11,251 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:11,253 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:11,253 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:11,265 - api.middleware.logging - INFO - [logging.py:44] - [414824fe] 200 - Time: 0.024s
2025-09-02 11:04:11,267 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:11,906 - api.middleware.logging - INFO - [logging.py:31] - [cd3ce4b3] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:04:11,915 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:11,916 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:11,916 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:11,917 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:11,919 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:11,919 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:11,925 - api.middleware.logging - INFO - [logging.py:44] - [cd3ce4b3] 200 - Time: 0.018s
2025-09-02 11:04:11,927 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:14,061 - api.middleware.logging - INFO - [logging.py:31] - [fade0753] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:04:14,069 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:14,071 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:14,071 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:14,072 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:14,074 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:14,074 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:14,080 - api.middleware.logging - INFO - [logging.py:44] - [fade0753] 200 - Time: 0.019s
2025-09-02 11:04:14,082 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:14,807 - api.middleware.logging - INFO - [logging.py:31] - [20d19d16] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:04:14,816 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:14,817 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:14,817 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:14,817 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:14,817 - api.middleware.logging - INFO - [logging.py:31] - [a82cbff2] GET /api/meals/2 - Client: 188.253.4.206
2025-09-02 11:04:14,819 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:14,820 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:14,820 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:14,820 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:14,821 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:14,822 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:14,822 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:14,822 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:14,829 - api.middleware.logging - INFO - [logging.py:44] - [20d19d16] 200 - Time: 0.022s
2025-09-02 11:04:14,830 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:14,832 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:14,833 - api.middleware.logging - INFO - [logging.py:44] - [a82cbff2] 200 - Time: 0.016s
2025-09-02 11:04:15,152 - api.middleware.logging - INFO - [logging.py:31] - [1b3a9b8f] GET /api/admin/meals/2/statistics - Client: 188.253.4.206
2025-09-02 11:04:15,161 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:15,162 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:15,163 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:15,163 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:15,165 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:15,165 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:15,174 - api.middleware.logging - INFO - [logging.py:44] - [1b3a9b8f] 200 - Time: 0.022s
2025-09-02 11:04:15,176 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:18,065 - api.middleware.logging - INFO - [logging.py:31] - [904f10ce] DELETE /api/admin/meals/2 - Client: 188.253.4.206
2025-09-02 11:04:18,074 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:04:18,075 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:04:18,075 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:04:18,076 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:04:18,078 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:04:18,078 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:04:18,079 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902110418079122，包含 1 个操作
2025-09-02 11:04:18,079 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902110418079122 中的操作 1/1
2025-09-02 11:04:18,079 - db.core_operations - INFO - [core_operations.py:613] - [CANCEL_MEAL_DEBUG] Starting cancel_meal operation for meal_id=2, admin_user_id=3
2025-09-02 11:04:18,080 - db.core_operations - INFO - [core_operations.py:617] - [CANCEL_MEAL_DEBUG] Admin permission verified for user_id=3
2025-09-02 11:04:18,082 - db.core_operations - INFO - [core_operations.py:621] - [CANCEL_MEAL_DEBUG] Meal exists - meal_id=2, status=published, date=2025-09-03, slot=lunch
2025-09-02 11:04:18,083 - db.core_operations - INFO - [core_operations.py:632] - [CANCEL_MEAL_DEBUG] Found 0 active orders for meal_id=2
2025-09-02 11:04:18,083 - db.core_operations - INFO - [core_operations.py:637] - [CANCEL_MEAL_DEBUG] About to UPDATE meals table - SET status='canceled' WHERE meal_id=2
2025-09-02 11:04:18,087 - db.core_operations - ERROR - [core_operations.py:650] - [CANCEL_MEAL_DEBUG] FAILED to update meals table for meal_id=2, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:04:18,087 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902110418079122 执行失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:04:18,088 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: ConstraintException
2025-09-02 11:04:18,088 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: ConstraintException('Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).')
2025-09-02 11:04:18,088 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902110418079122 已回滚
2025-09-02 11:04:18,088 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:04:18,089 - api.middleware.logging - INFO - [logging.py:44] - [904f10ce] 200 - Time: 0.024s
2025-09-02 11:04:18,092 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:04:43,929 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:11:43,053 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:11:43,089 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:11:43,089 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:11:43,089 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:11:54,194 - api.middleware.logging - INFO - [logging.py:31] - [badae670] GET /api/auth/me - Client: 188.253.4.203
2025-09-02 11:11:54,205 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:11:54,206 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:11:54,207 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:11:54,207 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:11:54,210 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:11:54,211 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:11:54,214 - api.middleware.logging - INFO - [logging.py:44] - [badae670] 200 - Time: 0.020s
2025-09-02 11:11:54,216 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:11:56,038 - api.middleware.logging - INFO - [logging.py:31] - [831e296c] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:11:56,046 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:11:56,047 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:11:56,047 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:11:56,048 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:11:56,050 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:11:56,050 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:11:56,060 - api.middleware.logging - INFO - [logging.py:44] - [831e296c] 200 - Time: 0.022s
2025-09-02 11:11:56,062 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:11:56,891 - api.middleware.logging - INFO - [logging.py:31] - [0f742432] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:11:56,899 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:11:56,901 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:11:56,901 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:11:56,901 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:11:56,903 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:11:56,903 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:11:56,912 - api.middleware.logging - INFO - [logging.py:44] - [0f742432] 200 - Time: 0.020s
2025-09-02 11:11:56,914 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:11:58,641 - api.middleware.logging - INFO - [logging.py:31] - [68644588] GET /api/admin/addons - Client: 188.253.4.204
2025-09-02 11:11:58,649 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:11:58,650 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:11:58,650 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:11:58,651 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:11:58,653 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:11:58,654 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:11:58,658 - api.middleware.logging - INFO - [logging.py:44] - [68644588] 200 - Time: 0.017s
2025-09-02 11:11:58,660 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:04,588 - api.middleware.logging - INFO - [logging.py:31] - [37cda4ca] POST /api/admin/meals - Client: 188.253.4.205
2025-09-02 11:12:04,596 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:04,597 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:04,597 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:04,597 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:04,600 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:04,600 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:04,600 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902111204600683，包含 1 个操作
2025-09-02 11:12:04,601 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902111204600683 中的操作 1/1
2025-09-02 11:12:04,612 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902111204600683 提交成功
2025-09-02 11:12:04,613 - api.middleware.logging - INFO - [logging.py:44] - [37cda4ca] 201 - Time: 0.025s
2025-09-02 11:12:04,636 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:06,641 - api.middleware.logging - INFO - [logging.py:31] - [3be5f49a] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:12:06,649 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:06,650 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:06,650 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:06,650 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:06,652 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:06,653 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:06,658 - api.middleware.logging - INFO - [logging.py:44] - [3be5f49a] 200 - Time: 0.017s
2025-09-02 11:12:06,661 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:07,895 - api.middleware.logging - INFO - [logging.py:31] - [3b8cf913] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:12:07,903 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:07,905 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:07,905 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:07,905 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:07,907 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:07,908 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:07,914 - api.middleware.logging - INFO - [logging.py:44] - [3b8cf913] 200 - Time: 0.019s
2025-09-02 11:12:07,916 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:08,618 - api.middleware.logging - INFO - [logging.py:31] - [7a747d9c] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 11:12:08,627 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:08,629 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:08,629 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:08,629 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:08,631 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:08,631 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:08,635 - api.middleware.logging - INFO - [logging.py:44] - [7a747d9c] 200 - Time: 0.017s
2025-09-02 11:12:08,637 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:08,949 - api.middleware.logging - INFO - [logging.py:31] - [35e042ec] GET /api/admin/meals/2/statistics - Client: 188.253.4.205
2025-09-02 11:12:08,957 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:08,957 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:08,958 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:08,958 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:08,960 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:08,960 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:08,970 - api.middleware.logging - INFO - [logging.py:44] - [35e042ec] 200 - Time: 0.020s
2025-09-02 11:12:08,972 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:09,007 - api.middleware.logging - INFO - [logging.py:31] - [40d039b2] GET /api/meals/2 - Client: 188.253.4.205
2025-09-02 11:12:09,015 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:09,016 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:09,016 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:09,016 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:09,018 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:09,018 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:09,023 - api.middleware.logging - INFO - [logging.py:44] - [40d039b2] 200 - Time: 0.016s
2025-09-02 11:12:09,025 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:12:10,634 - api.middleware.logging - INFO - [logging.py:31] - [98db414d] DELETE /api/admin/meals/2 - Client: 188.253.4.205
2025-09-02 11:12:10,643 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:12:10,647 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:12:10,647 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:12:10,647 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:12:10,650 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:12:10,650 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:12:10,650 - db.core_operations - INFO - [core_operations.py:324] - [DUCKDB_RETRY] Executing admin_cancel_meal, attempt 1/3, context: {'meal_id': 2}
2025-09-02 11:12:10,650 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902111210650874，包含 1 个操作
2025-09-02 11:12:10,651 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902111210650874 中的操作 1/1
2025-09-02 11:12:10,651 - db.core_operations - INFO - [core_operations.py:667] - [CANCEL_MEAL_DEBUG] Starting cancel_meal operation for meal_id=2, admin_user_id=3
2025-09-02 11:12:10,652 - db.core_operations - INFO - [core_operations.py:671] - [CANCEL_MEAL_DEBUG] Admin permission verified for user_id=3
2025-09-02 11:12:10,653 - db.core_operations - INFO - [core_operations.py:675] - [CANCEL_MEAL_DEBUG] Meal exists - meal_id=2, status=published, date=2025-09-03, slot=lunch
2025-09-02 11:12:10,654 - db.core_operations - INFO - [core_operations.py:686] - [CANCEL_MEAL_DEBUG] Found 0 active orders for meal_id=2
2025-09-02 11:12:10,654 - db.core_operations - INFO - [core_operations.py:691] - [CANCEL_MEAL_DEBUG] About to UPDATE meals table - SET status='canceled' WHERE meal_id=2
2025-09-02 11:12:10,658 - db.core_operations - ERROR - [core_operations.py:704] - [CANCEL_MEAL_DEBUG] FAILED to update meals table for meal_id=2, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,658 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902111210650874 执行失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,658 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: ConstraintException
2025-09-02 11:12:10,658 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: ConstraintException('Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).')
2025-09-02 11:12:10,658 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902111210650874 已回滚
2025-09-02 11:12:10,658 - db.core_operations - ERROR - [core_operations.py:337] - [DUCKDB_RETRY] admin_cancel_meal failed on attempt 1, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,658 - db.core_operations - ERROR - [core_operations.py:338] - [DUCKDB_RETRY] Exception type: ConstraintException
2025-09-02 11:12:10,659 - db.core_operations - WARNING - [core_operations.py:343] - [DUCKDB_RETRY] DuckDB constraint error detected, retrying after 0.1s delay
2025-09-02 11:12:10,759 - db.core_operations - INFO - [core_operations.py:324] - [DUCKDB_RETRY] Executing admin_cancel_meal, attempt 2/3, context: {'meal_id': 2}
2025-09-02 11:12:10,759 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902111210759537，包含 1 个操作
2025-09-02 11:12:10,760 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902111210759537 中的操作 1/1
2025-09-02 11:12:10,760 - db.core_operations - INFO - [core_operations.py:667] - [CANCEL_MEAL_DEBUG] Starting cancel_meal operation for meal_id=2, admin_user_id=3
2025-09-02 11:12:10,761 - db.core_operations - INFO - [core_operations.py:671] - [CANCEL_MEAL_DEBUG] Admin permission verified for user_id=3
2025-09-02 11:12:10,762 - db.core_operations - INFO - [core_operations.py:675] - [CANCEL_MEAL_DEBUG] Meal exists - meal_id=2, status=published, date=2025-09-03, slot=lunch
2025-09-02 11:12:10,763 - db.core_operations - INFO - [core_operations.py:686] - [CANCEL_MEAL_DEBUG] Found 0 active orders for meal_id=2
2025-09-02 11:12:10,763 - db.core_operations - INFO - [core_operations.py:691] - [CANCEL_MEAL_DEBUG] About to UPDATE meals table - SET status='canceled' WHERE meal_id=2
2025-09-02 11:12:10,767 - db.core_operations - ERROR - [core_operations.py:704] - [CANCEL_MEAL_DEBUG] FAILED to update meals table for meal_id=2, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,767 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902111210759537 执行失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,767 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: ConstraintException
2025-09-02 11:12:10,767 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: ConstraintException('Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).')
2025-09-02 11:12:10,767 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902111210759537 已回滚
2025-09-02 11:12:10,767 - db.core_operations - ERROR - [core_operations.py:337] - [DUCKDB_RETRY] admin_cancel_meal failed on attempt 2, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,768 - db.core_operations - ERROR - [core_operations.py:338] - [DUCKDB_RETRY] Exception type: ConstraintException
2025-09-02 11:12:10,768 - db.core_operations - WARNING - [core_operations.py:343] - [DUCKDB_RETRY] DuckDB constraint error detected, retrying after 0.2s delay
2025-09-02 11:12:10,968 - db.core_operations - INFO - [core_operations.py:324] - [DUCKDB_RETRY] Executing admin_cancel_meal, attempt 3/3, context: {'meal_id': 2}
2025-09-02 11:12:10,968 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902111210968744，包含 1 个操作
2025-09-02 11:12:10,969 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902111210968744 中的操作 1/1
2025-09-02 11:12:10,969 - db.core_operations - INFO - [core_operations.py:667] - [CANCEL_MEAL_DEBUG] Starting cancel_meal operation for meal_id=2, admin_user_id=3
2025-09-02 11:12:10,970 - db.core_operations - INFO - [core_operations.py:671] - [CANCEL_MEAL_DEBUG] Admin permission verified for user_id=3
2025-09-02 11:12:10,971 - db.core_operations - INFO - [core_operations.py:675] - [CANCEL_MEAL_DEBUG] Meal exists - meal_id=2, status=published, date=2025-09-03, slot=lunch
2025-09-02 11:12:10,972 - db.core_operations - INFO - [core_operations.py:686] - [CANCEL_MEAL_DEBUG] Found 0 active orders for meal_id=2
2025-09-02 11:12:10,973 - db.core_operations - INFO - [core_operations.py:691] - [CANCEL_MEAL_DEBUG] About to UPDATE meals table - SET status='canceled' WHERE meal_id=2
2025-09-02 11:12:10,977 - db.core_operations - ERROR - [core_operations.py:704] - [CANCEL_MEAL_DEBUG] FAILED to update meals table for meal_id=2, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,977 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902111210968744 执行失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,977 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: ConstraintException
2025-09-02 11:12:10,977 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: ConstraintException('Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).')
2025-09-02 11:12:10,978 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902111210968744 已回滚
2025-09-02 11:12:10,978 - db.core_operations - ERROR - [core_operations.py:337] - [DUCKDB_RETRY] admin_cancel_meal failed on attempt 3, error: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,978 - db.core_operations - ERROR - [core_operations.py:338] - [DUCKDB_RETRY] Exception type: ConstraintException
2025-09-02 11:12:10,978 - db.core_operations - ERROR - [core_operations.py:347] - [DUCKDB_RETRY] admin_cancel_meal failed after all 3 attempts with constraint error
2025-09-02 11:12:10,978 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:12:10,979 - api.middleware.logging - INFO - [logging.py:44] - [98db414d] 200 - Time: 0.345s
2025-09-02 11:12:10,982 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:14:21,416 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:16:55,420 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:16:55,478 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:16:55,478 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:16:55,478 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:17:05,765 - api.middleware.logging - INFO - [logging.py:31] - [a193a1ad] GET /api/auth/me - Client: 188.253.4.204
2025-09-02 11:17:05,776 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:05,777 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:05,778 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:05,778 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:05,780 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:05,780 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:05,782 - api.middleware.logging - INFO - [logging.py:44] - [a193a1ad] 200 - Time: 0.017s
2025-09-02 11:17:05,785 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:07,605 - api.middleware.logging - INFO - [logging.py:31] - [cb873e50] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:17:07,613 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:07,623 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:07,624 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:07,624 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:07,626 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:07,626 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:07,635 - api.middleware.logging - INFO - [logging.py:44] - [cb873e50] 200 - Time: 0.030s
2025-09-02 11:17:07,637 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:08,375 - api.middleware.logging - INFO - [logging.py:31] - [9b4ae43c] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:17:08,383 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:08,385 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:08,386 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:08,386 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:08,389 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:08,389 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:08,396 - api.middleware.logging - INFO - [logging.py:44] - [9b4ae43c] 200 - Time: 0.021s
2025-09-02 11:17:08,399 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:09,321 - api.middleware.logging - INFO - [logging.py:31] - [6f3aba95] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:17:09,332 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:09,343 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:09,344 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:09,344 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:09,346 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:09,347 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:09,353 - api.middleware.logging - INFO - [logging.py:44] - [6f3aba95] 200 - Time: 0.031s
2025-09-02 11:17:09,355 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:10,045 - api.middleware.logging - INFO - [logging.py:31] - [bd2b2683] GET /api/admin/addons - Client: 188.253.4.203
2025-09-02 11:17:10,046 - api.middleware.logging - INFO - [logging.py:31] - [a11f7aa8] GET /api/meals/2 - Client: 188.253.4.204
2025-09-02 11:17:10,060 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:10,060 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:10,061 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:10,061 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:10,062 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:10,062 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:10,062 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:10,063 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:10,066 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:10,066 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:10,066 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:10,066 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:10,071 - api.middleware.logging - INFO - [logging.py:44] - [a11f7aa8] 200 - Time: 0.026s
2025-09-02 11:17:10,072 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:10,075 - api.middleware.logging - INFO - [logging.py:44] - [bd2b2683] 200 - Time: 0.030s
2025-09-02 11:17:10,078 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:10,391 - api.middleware.logging - INFO - [logging.py:31] - [a1eb8177] GET /api/admin/meals/2/statistics - Client: 188.253.4.204
2025-09-02 11:17:10,399 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:10,401 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:10,401 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:10,401 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:10,403 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:10,404 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:10,411 - api.middleware.logging - INFO - [logging.py:44] - [a1eb8177] 200 - Time: 0.020s
2025-09-02 11:17:10,414 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:17:12,576 - api.middleware.logging - INFO - [logging.py:31] - [f5f60a1d] DELETE /api/admin/meals/2 - Client: 188.253.4.204
2025-09-02 11:17:12,585 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:17:12,586 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:17:12,586 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:17:12,586 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:17:12,589 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:17:12,589 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:17:12,589 - db.core_operations - INFO - [core_operations.py:324] - [DUCKDB_RETRY] Executing admin_cancel_meal, attempt 1/3, context: {'meal_id': 2}
2025-09-02 11:17:12,589 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902111712589764，包含 1 个操作
2025-09-02 11:17:12,590 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902111712589764 中的操作 1/1
2025-09-02 11:17:12,590 - db.core_operations - INFO - [core_operations.py:793] - [CANCEL_MEAL_DEBUG] Starting cancel_meal operation for meal_id=2, admin_user_id=3
2025-09-02 11:17:12,591 - db.core_operations - INFO - [core_operations.py:797] - [CANCEL_MEAL_DEBUG] Admin permission verified for user_id=3
2025-09-02 11:17:12,593 - db.core_operations - INFO - [core_operations.py:801] - [CANCEL_MEAL_DEBUG] Meal exists - meal_id=2, status=published, date=2025-09-03, slot=lunch
2025-09-02 11:17:12,593 - db.core_operations - INFO - [core_operations.py:812] - [CANCEL_MEAL_DEBUG] Found 0 active orders for meal_id=2
2025-09-02 11:17:12,593 - db.core_operations - INFO - [core_operations.py:817] - [DEEP_DIAGNOSTIC] === 开始深度诊断 meal_id=2 ===
2025-09-02 11:17:12,594 - db.core_operations - INFO - [core_operations.py:824] - [DEEP_DIAGNOSTIC] meal_id=2 记录数量: 1
2025-09-02 11:17:12,596 - db.core_operations - INFO - [core_operations.py:853] - [DEEP_DIAGNOSTIC] 找到唯一记录: meal_id=2, date=2025-09-03, slot=lunch, status=published
2025-09-02 11:17:12,596 - db.core_operations - INFO - [core_operations.py:854] - [DEEP_DIAGNOSTIC] 记录时间信息: created_at=2025-08-30 13:01:48.376000, updated_at=2025-08-30 13:11:01.962000, canceled_at=None, canceled_by=None
2025-09-02 11:17:12,597 - db.core_operations - INFO - [core_operations.py:861] - [DEEP_DIAGNOSTIC] meals表主键索引状态: 0 个相关索引
2025-09-02 11:17:12,597 - db.core_operations - WARNING - [core_operations.py:875] - [DEEP_DIAGNOSTIC] 无法执行完整性检查: Catalog Error: Pragma Function with name integrity_check does not exist!
Did you mean "tpch"?
2025-09-02 11:17:12,597 - db.core_operations - INFO - [core_operations.py:877] - [DEEP_DIAGNOSTIC] === 诊断完成，准备执行UPDATE ===
2025-09-02 11:17:12,597 - db.core_operations - INFO - [core_operations.py:878] - [CANCEL_MEAL_DEBUG] About to UPDATE meals table - SET status='canceled' WHERE meal_id=2
2025-09-02 11:17:12,597 - db.core_operations - INFO - [core_operations.py:422] - [FALLBACK] 尝试标准UPDATE操作 meal_id=2
2025-09-02 11:17:12,600 - db.core_operations - ERROR - [core_operations.py:437] - [FALLBACK] 标准UPDATE失败: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:17:12,600 - db.core_operations - INFO - [core_operations.py:440] - [FALLBACK] 尝试DELETE+INSERT备用方案 meal_id=2
2025-09-02 11:17:12,601 - db.core_operations - ERROR - [core_operations.py:887] - [CANCEL_MEAL_DEBUG] FAILED to update meals table for meal_id=2, error: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:17:12,601 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902111712589764 执行失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:17:12,601 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: InvalidInputException
2025-09-02 11:17:12,601 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: InvalidInputException('Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result\nError: TransactionContext Error: Current transaction is aborted (please ROLLBACK)')
2025-09-02 11:17:12,601 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902111712589764 已回滚
2025-09-02 11:17:12,601 - db.core_operations - ERROR - [core_operations.py:337] - [DUCKDB_RETRY] admin_cancel_meal failed on attempt 1, error: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:17:12,602 - db.core_operations - ERROR - [core_operations.py:338] - [DUCKDB_RETRY] Exception type: InvalidInputException
2025-09-02 11:17:12,602 - db.core_operations - ERROR - [core_operations.py:351] - [DUCKDB_RETRY] admin_cancel_meal failed with non-constraint error, not retrying
2025-09-02 11:17:12,602 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:17:12,602 - api.middleware.logging - INFO - [logging.py:44] - [f5f60a1d] 200 - Time: 0.026s
2025-09-02 11:17:12,605 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:19:06,560 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:21:59,991 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:22:00,024 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:22:00,025 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:22:00,025 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:22:07,699 - api.middleware.logging - INFO - [logging.py:31] - [23ee3c21] GET /api/auth/me - Client: 188.253.4.203
2025-09-02 11:22:07,709 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:07,711 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:07,712 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:07,712 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:07,715 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:07,715 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:07,718 - api.middleware.logging - INFO - [logging.py:44] - [23ee3c21] 200 - Time: 0.018s
2025-09-02 11:22:07,720 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:09,435 - api.middleware.logging - INFO - [logging.py:31] - [6f660db9] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:22:09,443 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:09,444 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:09,444 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:09,445 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:09,447 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:09,447 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:09,453 - api.middleware.logging - INFO - [logging.py:44] - [6f660db9] 200 - Time: 0.019s
2025-09-02 11:22:09,455 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:10,109 - api.middleware.logging - INFO - [logging.py:31] - [5cff5a13] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:22:10,118 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:10,119 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:10,120 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:10,120 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:10,122 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:10,123 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:10,129 - api.middleware.logging - INFO - [logging.py:44] - [5cff5a13] 200 - Time: 0.020s
2025-09-02 11:22:10,131 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:10,909 - api.middleware.logging - INFO - [logging.py:31] - [b46c179f] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:22:10,917 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:10,918 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:10,919 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:10,919 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:10,921 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:10,921 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:10,929 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:10,930 - api.middleware.logging - INFO - [logging.py:44] - [b46c179f] 200 - Time: 0.021s
2025-09-02 11:22:11,580 - api.middleware.logging - INFO - [logging.py:31] - [932699c2] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 11:22:11,588 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:11,589 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:11,589 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:11,590 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:11,592 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:11,592 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:11,596 - api.middleware.logging - INFO - [logging.py:44] - [932699c2] 200 - Time: 0.016s
2025-09-02 11:22:11,597 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:11,635 - api.middleware.logging - INFO - [logging.py:31] - [8403cca5] GET /api/meals/2 - Client: 188.253.4.203
2025-09-02 11:22:11,645 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:11,646 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:11,646 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:11,647 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:11,649 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:11,649 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:11,655 - api.middleware.logging - INFO - [logging.py:44] - [8403cca5] 200 - Time: 0.020s
2025-09-02 11:22:11,657 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:11,967 - api.middleware.logging - INFO - [logging.py:31] - [054b1ea5] GET /api/admin/meals/2/statistics - Client: 188.253.4.205
2025-09-02 11:22:11,974 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:11,980 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:11,981 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:11,981 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:11,983 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:11,983 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:11,990 - api.middleware.logging - INFO - [logging.py:44] - [054b1ea5] 200 - Time: 0.024s
2025-09-02 11:22:11,993 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:22:13,889 - api.middleware.logging - INFO - [logging.py:31] - [7f84c4d3] DELETE /api/admin/meals/2 - Client: 188.253.4.205
2025-09-02 11:22:13,899 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:22:13,901 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:22:13,901 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:22:13,902 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:22:13,904 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:22:13,904 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:22:13,905 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: 'CoreOperations' object has no attribute 'admin_cancel_meal'
2025-09-02 11:22:13,906 - api.middleware.logging - INFO - [logging.py:44] - [7f84c4d3] 200 - Time: 0.017s
2025-09-02 11:22:13,907 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:26:19,422 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:26:20,201 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:26:20,241 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:26:20,241 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:26:20,241 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:26:29,462 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:26:30,261 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:26:30,297 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:26:30,297 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:26:30,297 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:26:54,471 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:26:55,269 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:26:55,302 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:26:55,302 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:26:55,302 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:28:00,463 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:28:01,202 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:28:01,236 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:28:01,237 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:28:01,237 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:28:10,663 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:28:11,427 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:28:11,462 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:28:11,462 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:28:11,462 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:28:17,175 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:29:48,656 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:29:48,689 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:29:48,690 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:29:48,690 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:30:12,810 - api.middleware.logging - INFO - [logging.py:31] - [c9719e8d] GET /api/auth/me - Client: 188.253.4.203
2025-09-02 11:30:12,820 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:12,822 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:12,823 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:12,823 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:12,825 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:12,825 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:12,828 - api.middleware.logging - INFO - [logging.py:44] - [c9719e8d] 200 - Time: 0.018s
2025-09-02 11:30:12,830 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:16,266 - api.middleware.logging - INFO - [logging.py:31] - [9933319f] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:30:16,274 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:16,284 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:16,285 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:16,285 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:16,287 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:16,288 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:16,295 - api.middleware.logging - INFO - [logging.py:44] - [9933319f] 200 - Time: 0.029s
2025-09-02 11:30:16,297 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:16,970 - api.middleware.logging - INFO - [logging.py:31] - [65ea9d7e] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:30:16,979 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:16,980 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:16,980 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:16,981 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:16,983 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:16,983 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:16,990 - api.middleware.logging - INFO - [logging.py:44] - [65ea9d7e] 200 - Time: 0.020s
2025-09-02 11:30:16,993 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:17,752 - api.middleware.logging - INFO - [logging.py:31] - [a73e66fd] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:30:17,761 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:17,762 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:17,763 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:17,764 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:17,767 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:17,767 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:17,773 - api.middleware.logging - INFO - [logging.py:44] - [a73e66fd] 200 - Time: 0.021s
2025-09-02 11:30:17,776 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:18,423 - api.middleware.logging - INFO - [logging.py:31] - [6e3f1bef] GET /api/meals/2 - Client: 188.253.4.203
2025-09-02 11:30:18,424 - api.middleware.logging - INFO - [logging.py:31] - [71e36851] GET /api/admin/addons - Client: 188.253.4.204
2025-09-02 11:30:18,446 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:18,447 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:18,448 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:18,448 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:18,448 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:18,449 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:18,450 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:18,450 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:18,452 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:18,452 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:18,452 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:18,453 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:18,458 - api.middleware.logging - INFO - [logging.py:44] - [6e3f1bef] 200 - Time: 0.035s
2025-09-02 11:30:18,458 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:18,461 - api.middleware.logging - INFO - [logging.py:44] - [71e36851] 200 - Time: 0.038s
2025-09-02 11:30:18,464 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:18,984 - api.middleware.logging - INFO - [logging.py:31] - [1b790b26] GET /api/admin/meals/2/statistics - Client: 188.253.4.206
2025-09-02 11:30:18,994 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:18,995 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:18,995 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:18,996 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:18,998 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:18,998 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:19,007 - api.middleware.logging - INFO - [logging.py:44] - [1b790b26] 200 - Time: 0.023s
2025-09-02 11:30:19,010 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:21,311 - api.middleware.logging - INFO - [logging.py:31] - [d05ec22c] DELETE /api/admin/meals/2 - Client: 188.253.4.206
2025-09-02 11:30:21,319 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:30:21,327 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:30:21,331 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:30:21,331 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:30:21,333 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:30:21,333 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:30:21,334 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902113021333995，包含 1 个操作
2025-09-02 11:30:21,334 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902113021333995 中的操作 1/1
2025-09-02 11:30:21,337 - db.core_operations - INFO - [core_operations.py:699] - 取消餐次 2，处理 0 个订单
2025-09-02 11:30:21,340 - db.core_operations - WARNING - [core_operations.py:716] - UPDATE失败，使用DELETE+INSERT: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:30:21,341 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902113021333995 执行失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:30:21,341 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: InvalidInputException
2025-09-02 11:30:21,341 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: InvalidInputException('Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result\nError: TransactionContext Error: Current transaction is aborted (please ROLLBACK)')
2025-09-02 11:30:21,341 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902113021333995 已回滚
2025-09-02 11:30:21,341 - db.core_operations - ERROR - [core_operations.py:788] - 餐次取消失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:30:21,342 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:30:21,344 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:30:21,345 - api.middleware.logging - INFO - [logging.py:44] - [d05ec22c] 200 - Time: 0.034s
2025-09-02 11:30:40,096 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:31:00,616 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:31:00,650 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:31:00,650 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:31:00,650 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:31:09,620 - api.middleware.logging - INFO - [logging.py:31] - [9c46ba9b] GET /api/auth/me - Client: 188.253.4.204
2025-09-02 11:31:09,631 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:09,633 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:09,633 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:09,634 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:09,636 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:09,636 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:09,639 - api.middleware.logging - INFO - [logging.py:44] - [9c46ba9b] 200 - Time: 0.019s
2025-09-02 11:31:09,643 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:14,035 - api.middleware.logging - INFO - [logging.py:31] - [e209e9d3] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:31:14,043 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:14,044 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:14,044 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:14,044 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:14,046 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:14,046 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:14,055 - api.middleware.logging - INFO - [logging.py:44] - [e209e9d3] 200 - Time: 0.021s
2025-09-02 11:31:14,058 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:14,936 - api.middleware.logging - INFO - [logging.py:31] - [32176c22] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:31:14,944 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:14,945 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:14,945 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:14,946 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:14,948 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:14,948 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:14,955 - api.middleware.logging - INFO - [logging.py:44] - [32176c22] 200 - Time: 0.019s
2025-09-02 11:31:14,958 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:15,189 - api.middleware.logging - INFO - [logging.py:31] - [5f290d0f] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:31:15,198 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:15,200 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:15,200 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:15,201 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:15,203 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:15,203 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:15,210 - api.middleware.logging - INFO - [logging.py:44] - [5f290d0f] 200 - Time: 0.021s
2025-09-02 11:31:15,212 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:15,902 - api.middleware.logging - INFO - [logging.py:31] - [b2049a78] GET /api/meals/2 - Client: 188.253.4.205
2025-09-02 11:31:15,903 - api.middleware.logging - INFO - [logging.py:31] - [8d9af469] GET /api/admin/addons - Client: 188.253.4.204
2025-09-02 11:31:15,918 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:15,918 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:15,919 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:15,919 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:15,920 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:15,920 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:15,921 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:15,921 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:15,923 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:15,924 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:15,924 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:15,924 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:15,931 - api.middleware.logging - INFO - [logging.py:44] - [b2049a78] 200 - Time: 0.029s
2025-09-02 11:31:15,931 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:15,937 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:15,937 - api.middleware.logging - INFO - [logging.py:44] - [8d9af469] 200 - Time: 0.035s
2025-09-02 11:31:16,254 - api.middleware.logging - INFO - [logging.py:31] - [a9aa9f49] GET /api/admin/meals/2/statistics - Client: 188.253.4.206
2025-09-02 11:31:16,261 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:16,262 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:16,262 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:16,263 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:16,265 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:16,265 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:16,276 - api.middleware.logging - INFO - [logging.py:44] - [a9aa9f49] 200 - Time: 0.022s
2025-09-02 11:31:16,278 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:31:18,225 - api.middleware.logging - INFO - [logging.py:31] - [04c42d92] DELETE /api/admin/meals/2 - Client: 188.253.4.206
2025-09-02 11:31:18,233 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:31:18,235 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:31:18,235 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:31:18,236 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:31:18,238 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:31:18,238 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:31:18,239 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902113118239057，包含 1 个操作
2025-09-02 11:31:18,240 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902113118239057 中的操作 1/1
2025-09-02 11:31:18,243 - db.core_operations - INFO - [core_operations.py:699] - 取消餐次 2，处理 0 个订单
2025-09-02 11:31:18,246 - db.core_operations - WARNING - [core_operations.py:716] - UPDATE失败，使用DELETE+INSERT: Constraint Error: Duplicate key "meal_id: 2" violates primary key constraint. If this is an unexpected constraint violation please double check with the known index limitations section in our documentation (https://duckdb.org/docs/sql/indexes).
2025-09-02 11:31:18,247 - DatabaseManager - ERROR - [manager.py:161] - 事务 20250902113118239057 执行失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:31:18,247 - DatabaseManager - ERROR - [manager.py:162] - [TRANSACTION_DEBUG] Exception type: InvalidInputException
2025-09-02 11:31:18,247 - DatabaseManager - ERROR - [manager.py:163] - [TRANSACTION_DEBUG] Exception details: InvalidInputException('Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result\nError: TransactionContext Error: Current transaction is aborted (please ROLLBACK)')
2025-09-02 11:31:18,248 - DatabaseManager - INFO - [manager.py:166] - 事务 20250902113118239057 已回滚
2025-09-02 11:31:18,248 - db.core_operations - ERROR - [core_operations.py:788] - 餐次取消失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:31:18,248 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: Invalid Input Error: Attempting to execute an unsuccessful or closed pending query result
Error: TransactionContext Error: Current transaction is aborted (please ROLLBACK)
2025-09-02 11:31:18,249 - api.middleware.logging - INFO - [logging.py:44] - [04c42d92] 200 - Time: 0.024s
2025-09-02 11:31:18,251 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:32:56,533 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:45:06,640 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:45:06,673 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:45:06,673 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:45:06,674 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:45:17,591 - api.middleware.logging - INFO - [logging.py:31] - [1b6b07c6] GET /api/auth/me - Client: 188.253.4.206
2025-09-02 11:45:17,608 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:17,611 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:17,612 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:17,612 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:17,614 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:17,614 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:17,617 - api.middleware.logging - INFO - [logging.py:44] - [1b6b07c6] 200 - Time: 0.027s
2025-09-02 11:45:17,619 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:18,999 - api.middleware.logging - INFO - [logging.py:31] - [631c9ce5] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:45:19,006 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:19,007 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:19,007 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:19,008 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:19,010 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:19,010 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:19,018 - api.middleware.logging - INFO - [logging.py:44] - [631c9ce5] 200 - Time: 0.019s
2025-09-02 11:45:19,020 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:20,390 - api.middleware.logging - INFO - [logging.py:31] - [6aa239ce] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:45:20,399 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:20,402 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:20,402 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:20,402 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:20,404 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:20,404 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:20,410 - api.middleware.logging - INFO - [logging.py:44] - [6aa239ce] 200 - Time: 0.020s
2025-09-02 11:45:20,412 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:20,899 - api.middleware.logging - INFO - [logging.py:31] - [9f5b23e7] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:45:20,908 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:20,909 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:20,909 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:20,910 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:20,912 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:20,912 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:20,917 - api.middleware.logging - INFO - [logging.py:44] - [9f5b23e7] 200 - Time: 0.018s
2025-09-02 11:45:20,919 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:21,052 - api.middleware.logging - INFO - [logging.py:31] - [72e6c905] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:45:21,059 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:21,060 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:21,061 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:21,061 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:21,063 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:21,063 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:21,065 - api.middleware.logging - INFO - [logging.py:44] - [72e6c905] 200 - Time: 0.013s
2025-09-02 11:45:21,068 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:21,390 - api.middleware.logging - INFO - [logging.py:31] - [f3eb7067] GET /api/meals/2 - Client: 188.253.4.203
2025-09-02 11:45:21,390 - api.middleware.logging - INFO - [logging.py:31] - [1627a148] GET /api/admin/meals/2/statistics - Client: 188.253.4.203
2025-09-02 11:45:21,402 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:21,402 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:21,404 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:21,404 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:21,404 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:21,406 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:21,406 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:21,407 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:21,412 - api.middleware.logging - INFO - [logging.py:44] - [f3eb7067] 200 - Time: 0.023s
2025-09-02 11:45:21,413 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:21,413 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:21,416 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:21,418 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:21,418 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:21,424 - api.middleware.logging - INFO - [logging.py:44] - [1627a148] 200 - Time: 0.033s
2025-09-02 11:45:21,426 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:45:23,266 - api.middleware.logging - INFO - [logging.py:31] - [6af0ef73] DELETE /api/admin/meals/2 - Client: 188.253.4.203
2025-09-02 11:45:23,274 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:45:23,278 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:45:23,278 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:45:23,278 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:45:23,281 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:45:23,281 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:45:23,282 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902114523282076，包含 1 个操作
2025-09-02 11:45:23,282 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902114523282076 中的操作 1/1
2025-09-02 11:45:23,285 - db.core_operations - INFO - [core_operations.py:699] - 取消餐次 2，处理 0 个订单
2025-09-02 11:45:23,298 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902114523282076 提交成功
2025-09-02 11:45:23,298 - api.admin.routes - ERROR - [routes.py:417] - 取消餐次失败: 'total_refund_amount'
2025-09-02 11:45:23,299 - api.middleware.logging - INFO - [logging.py:44] - [6af0ef73] 200 - Time: 0.033s
2025-09-02 11:45:23,318 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:47:05,239 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:47:06,048 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:47:06,085 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:47:06,085 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:47:06,085 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:47:15,706 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:47:16,485 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:47:16,520 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:47:16,520 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:47:16,520 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:47:25,239 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:47:25,994 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:47:26,027 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:47:26,027 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:47:26,027 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:47:41,262 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:47:49,521 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:47:49,554 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:47:49,554 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:47:49,554 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:47:56,041 - api.middleware.logging - INFO - [logging.py:31] - [54eb0e8c] GET /api/auth/me - Client: 188.253.4.206
2025-09-02 11:47:56,050 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:47:56,053 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:47:56,053 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:47:56,053 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:47:56,055 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:47:56,055 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:47:56,058 - api.middleware.logging - INFO - [logging.py:44] - [54eb0e8c] 200 - Time: 0.017s
2025-09-02 11:47:56,060 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:47:57,527 - api.middleware.logging - INFO - [logging.py:31] - [625994b2] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:47:57,534 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:47:57,535 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:47:57,536 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:47:57,536 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:47:57,538 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:47:57,538 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:47:57,545 - api.middleware.logging - INFO - [logging.py:44] - [625994b2] 200 - Time: 0.019s
2025-09-02 11:47:57,547 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:47:58,547 - api.middleware.logging - INFO - [logging.py:31] - [b246c7f0] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:47:58,554 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:47:58,555 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:47:58,555 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:47:58,555 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:47:58,557 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:47:58,557 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:47:58,563 - api.middleware.logging - INFO - [logging.py:44] - [b246c7f0] 200 - Time: 0.016s
2025-09-02 11:47:58,565 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:47:59,310 - api.middleware.logging - INFO - [logging.py:31] - [e568b095] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:47:59,317 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:47:59,318 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:47:59,318 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:47:59,319 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:47:59,321 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:47:59,321 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:47:59,323 - api.middleware.logging - INFO - [logging.py:44] - [e568b095] 200 - Time: 0.013s
2025-09-02 11:47:59,325 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:47:59,867 - api.middleware.logging - INFO - [logging.py:31] - [9c4b2868] GET /api/meals/3 - Client: 188.253.4.205
2025-09-02 11:47:59,875 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:47:59,875 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:47:59,876 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:47:59,876 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:47:59,878 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:47:59,878 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:47:59,884 - api.middleware.logging - INFO - [logging.py:44] - [9c4b2868] 200 - Time: 0.017s
2025-09-02 11:47:59,887 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:47:59,887 - api.middleware.logging - INFO - [logging.py:31] - [88d1a762] GET /api/admin/meals/3/statistics - Client: 188.253.4.205
2025-09-02 11:47:59,895 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:47:59,896 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:47:59,896 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:47:59,897 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:47:59,899 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:47:59,899 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:47:59,905 - api.middleware.logging - INFO - [logging.py:44] - [88d1a762] 200 - Time: 0.017s
2025-09-02 11:47:59,906 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:01,410 - api.middleware.logging - INFO - [logging.py:31] - [1495ef88] DELETE /api/admin/meals/3 - Client: 188.253.4.205
2025-09-02 11:48:01,418 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:01,419 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:01,419 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:01,420 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:01,422 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:01,422 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:01,422 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902114801422947，包含 1 个操作
2025-09-02 11:48:01,423 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902114801422947 中的操作 1/1
2025-09-02 11:48:01,426 - db.core_operations - INFO - [core_operations.py:699] - 取消餐次 3，处理 0 个订单
2025-09-02 11:48:01,432 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902114801422947 提交成功
2025-09-02 11:48:01,432 - api.middleware.logging - INFO - [logging.py:44] - [1495ef88] 200 - Time: 0.023s
2025-09-02 11:48:01,466 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:03,383 - api.middleware.logging - INFO - [logging.py:31] - [dc535005] GET /api/meals/3 - Client: 188.253.4.205
2025-09-02 11:48:03,383 - api.middleware.logging - INFO - [logging.py:31] - [5ef2e309] GET /api/admin/meals/3/statistics - Client: 188.253.4.206
2025-09-02 11:48:03,383 - api.middleware.logging - INFO - [logging.py:31] - [0c6266c5] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 11:48:03,394 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:03,394 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:03,395 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:03,396 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:03,396 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:03,396 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:03,396 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:03,397 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:03,397 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:03,399 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:03,399 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:03,397 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:03,397 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:03,399 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:03,403 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:03,403 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:03,404 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:03,404 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:03,407 - api.middleware.logging - INFO - [logging.py:44] - [dc535005] 200 - Time: 0.024s
2025-09-02 11:48:03,407 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:03,416 - api.middleware.logging - INFO - [logging.py:44] - [0c6266c5] 200 - Time: 0.032s
2025-09-02 11:48:03,416 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:03,418 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:03,418 - api.middleware.logging - INFO - [logging.py:44] - [5ef2e309] 200 - Time: 0.035s
2025-09-02 11:48:06,853 - api.middleware.logging - INFO - [logging.py:31] - [4ca60b20] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:48:06,862 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:06,864 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:06,864 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:06,864 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:06,867 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:06,867 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:06,872 - api.middleware.logging - INFO - [logging.py:44] - [4ca60b20] 200 - Time: 0.020s
2025-09-02 11:48:06,875 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:09,064 - api.middleware.logging - INFO - [logging.py:31] - [f423d6fa] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:48:09,073 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:09,075 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:09,075 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:09,076 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:09,078 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:09,078 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:09,084 - api.middleware.logging - INFO - [logging.py:44] - [f423d6fa] 200 - Time: 0.020s
2025-09-02 11:48:09,087 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:09,812 - api.middleware.logging - INFO - [logging.py:31] - [fb90ae36] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:48:09,821 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:09,823 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:09,824 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:09,824 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:09,827 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:09,827 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:09,830 - api.middleware.logging - INFO - [logging.py:44] - [fb90ae36] 200 - Time: 0.018s
2025-09-02 11:48:09,832 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:11,145 - api.middleware.logging - INFO - [logging.py:31] - [db297aba] GET /api/admin/meals/1/statistics - Client: 188.253.4.206
2025-09-02 11:48:11,154 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:11,155 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:11,156 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:11,156 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:11,159 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:11,159 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:11,166 - api.middleware.logging - INFO - [logging.py:31] - [128de631] GET /api/meals/1 - Client: 188.253.4.206
2025-09-02 11:48:11,170 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:11,171 - api.middleware.logging - INFO - [logging.py:44] - [db297aba] 200 - Time: 0.025s
2025-09-02 11:48:11,180 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:11,184 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:11,184 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:11,184 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:11,187 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:11,187 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:11,193 - api.middleware.logging - INFO - [logging.py:44] - [128de631] 200 - Time: 0.027s
2025-09-02 11:48:11,195 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:15,496 - api.middleware.logging - INFO - [logging.py:31] - [1c7af063] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:48:15,505 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:15,511 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:15,514 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:15,514 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:15,516 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:15,516 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:15,523 - api.middleware.logging - INFO - [logging.py:44] - [1c7af063] 200 - Time: 0.027s
2025-09-02 11:48:15,526 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:16,566 - api.middleware.logging - INFO - [logging.py:31] - [7b14b320] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:48:16,575 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:16,579 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:16,579 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:16,579 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:16,581 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:16,582 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:16,589 - api.middleware.logging - INFO - [logging.py:44] - [7b14b320] 200 - Time: 0.023s
2025-09-02 11:48:16,591 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:17,388 - api.middleware.logging - INFO - [logging.py:31] - [3ce2267b] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:48:17,398 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:17,400 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:17,401 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:17,401 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:17,403 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:17,403 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:17,406 - api.middleware.logging - INFO - [logging.py:44] - [3ce2267b] 200 - Time: 0.018s
2025-09-02 11:48:17,407 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:17,702 - api.middleware.logging - INFO - [logging.py:31] - [1844f5f6] GET /api/meals/1 - Client: 188.253.4.206
2025-09-02 11:48:17,702 - api.middleware.logging - INFO - [logging.py:31] - [db79b77d] GET /api/admin/meals/1/statistics - Client: 188.253.4.206
2025-09-02 11:48:17,712 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:17,712 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:17,713 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:17,713 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:17,714 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:17,714 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:17,715 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:17,715 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:17,718 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:17,718 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:17,718 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:17,718 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:17,724 - api.middleware.logging - INFO - [logging.py:44] - [1844f5f6] 200 - Time: 0.023s
2025-09-02 11:48:17,724 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:17,731 - api.middleware.logging - INFO - [logging.py:44] - [db79b77d] 200 - Time: 0.029s
2025-09-02 11:48:17,733 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:36,133 - api.middleware.logging - INFO - [logging.py:31] - [bce60f19] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:48:36,140 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:36,141 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:36,142 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:36,142 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:36,144 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:36,144 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:36,154 - api.middleware.logging - INFO - [logging.py:44] - [bce60f19] 200 - Time: 0.021s
2025-09-02 11:48:36,157 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:41,024 - api.middleware.logging - INFO - [logging.py:31] - [da0f385a] GET /api/auth/me - Client: 188.253.4.205
2025-09-02 11:48:41,034 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:41,035 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:41,035 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:41,036 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:41,038 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:41,038 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:41,041 - api.middleware.logging - INFO - [logging.py:44] - [da0f385a] 200 - Time: 0.017s
2025-09-02 11:48:41,043 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:42,542 - api.middleware.logging - INFO - [logging.py:31] - [802cbcd3] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:48:42,552 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:42,554 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:42,555 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:42,555 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:42,557 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:42,557 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:42,565 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:42,565 - api.middleware.logging - INFO - [logging.py:44] - [802cbcd3] 200 - Time: 0.023s
2025-09-02 11:48:43,268 - api.middleware.logging - INFO - [logging.py:31] - [ab2bc116] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:48:43,276 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:43,277 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:43,279 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:43,279 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:43,282 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:43,282 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:43,288 - api.middleware.logging - INFO - [logging.py:44] - [ab2bc116] 200 - Time: 0.020s
2025-09-02 11:48:43,290 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:44,928 - api.middleware.logging - INFO - [logging.py:31] - [4ebeac86] GET /api/meals - Client: 188.253.4.205
2025-09-02 11:48:44,937 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:44,943 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:44,947 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:44,947 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:44,950 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:44,950 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:44,956 - api.middleware.logging - INFO - [logging.py:44] - [4ebeac86] 200 - Time: 0.028s
2025-09-02 11:48:44,957 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:45,706 - api.middleware.logging - INFO - [logging.py:31] - [c35fb206] GET /api/meals/1 - Client: 188.253.4.205
2025-09-02 11:48:45,714 - api.middleware.logging - INFO - [logging.py:31] - [132ed137] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 11:48:45,715 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:45,719 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:45,721 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:45,721 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:45,721 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:45,721 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:45,722 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:45,722 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:45,724 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:45,724 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:45,724 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:45,725 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:45,732 - api.middleware.logging - INFO - [logging.py:44] - [132ed137] 200 - Time: 0.017s
2025-09-02 11:48:45,732 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:45,732 - api.middleware.logging - INFO - [logging.py:44] - [c35fb206] 200 - Time: 0.026s
2025-09-02 11:48:45,741 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:48:46,068 - api.middleware.logging - INFO - [logging.py:31] - [61b2d7e6] GET /api/admin/meals/1/statistics - Client: 188.253.4.206
2025-09-02 11:48:46,078 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:48:46,079 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:48:46,080 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:48:46,080 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:48:46,082 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:48:46,082 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:48:46,090 - api.middleware.logging - INFO - [logging.py:44] - [61b2d7e6] 200 - Time: 0.022s
2025-09-02 11:48:46,092 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:50:59,240 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:53:46,606 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:53:46,643 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:53:46,643 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:53:46,643 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:53:52,454 - api.middleware.logging - INFO - [logging.py:31] - [41e0703d] GET /api/auth/me - Client: 188.253.4.204
2025-09-02 11:53:52,464 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:52,465 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:52,466 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:52,466 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:52,468 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:52,469 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:52,473 - api.middleware.logging - INFO - [logging.py:44] - [41e0703d] 200 - Time: 0.019s
2025-09-02 11:53:52,474 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:53:54,184 - api.middleware.logging - INFO - [logging.py:31] - [93941e58] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:53:54,192 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:54,193 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:54,193 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:54,193 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:54,196 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:54,196 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:54,202 - api.middleware.logging - INFO - [logging.py:44] - [93941e58] 200 - Time: 0.018s
2025-09-02 11:53:54,204 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:53:54,884 - api.middleware.logging - INFO - [logging.py:31] - [20d56084] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:53:54,891 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:54,892 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:54,892 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:54,892 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:54,894 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:54,894 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:54,901 - api.middleware.logging - INFO - [logging.py:44] - [20d56084] 200 - Time: 0.018s
2025-09-02 11:53:54,903 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:53:56,043 - api.middleware.logging - INFO - [logging.py:31] - [67684c89] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:53:56,051 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:56,052 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:56,052 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:56,052 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:56,054 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:56,054 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:56,060 - api.middleware.logging - INFO - [logging.py:44] - [67684c89] 200 - Time: 0.017s
2025-09-02 11:53:56,063 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:53:56,841 - api.middleware.logging - INFO - [logging.py:31] - [f906c2ff] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:53:56,849 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:56,850 - api.middleware.logging - INFO - [logging.py:31] - [b6728f4d] GET /api/meals/2 - Client: 188.253.4.204
2025-09-02 11:53:56,852 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:56,853 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:56,854 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:56,854 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:56,855 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:56,855 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:56,856 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:56,857 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:56,857 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:56,858 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:56,859 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:56,865 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:53:56,867 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:53:56,868 - api.middleware.logging - INFO - [logging.py:44] - [f906c2ff] 200 - Time: 0.026s
2025-09-02 11:53:56,868 - api.middleware.logging - INFO - [logging.py:44] - [b6728f4d] 200 - Time: 0.018s
2025-09-02 11:53:57,552 - api.middleware.logging - INFO - [logging.py:31] - [703d892d] GET /api/admin/meals/2/statistics - Client: 188.253.4.203
2025-09-02 11:53:57,561 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:53:57,563 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:53:57,563 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:53:57,563 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:53:57,565 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:53:57,566 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:53:57,575 - api.middleware.logging - INFO - [logging.py:44] - [703d892d] 200 - Time: 0.023s
2025-09-02 11:53:57,581 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:54:04,325 - api.middleware.logging - INFO - [logging.py:31] - [9d43ae1e] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:54:04,333 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:54:04,335 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:54:04,335 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:54:04,336 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:54:04,338 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:54:04,338 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:54:04,344 - api.middleware.logging - INFO - [logging.py:44] - [9d43ae1e] 200 - Time: 0.018s
2025-09-02 11:54:04,345 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:56:34,509 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:56:35,220 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:56:35,253 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:56:35,253 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:56:35,253 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:56:46,275 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:56:46,976 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:56:47,010 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:56:47,011 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:56:47,011 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:57:27,233 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 11:57:27,982 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 11:57:28,016 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 11:57:28,017 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 11:57:28,017 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 11:58:26,576 - api.middleware.logging - INFO - [logging.py:31] - [a311eadf] GET /api/auth/me - Client: 188.253.4.206
2025-09-02 11:58:26,586 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:58:26,588 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:58:26,588 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:58:26,588 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:58:26,590 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:58:26,590 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:58:26,593 - api.middleware.logging - INFO - [logging.py:44] - [a311eadf] 200 - Time: 0.018s
2025-09-02 11:58:26,596 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:18,856 - api.middleware.logging - INFO - [logging.py:31] - [60f8973c] GET /api/meals - Client: 188.253.4.203
2025-09-02 11:59:18,864 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:18,866 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:18,866 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:18,866 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:18,868 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:18,868 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:18,876 - api.middleware.logging - INFO - [logging.py:44] - [60f8973c] 200 - Time: 0.020s
2025-09-02 11:59:18,880 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:19,756 - api.middleware.logging - INFO - [logging.py:31] - [5a8b712e] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:59:19,764 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:19,765 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:19,765 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:19,766 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:19,768 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:19,768 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:19,776 - api.middleware.logging - INFO - [logging.py:44] - [5a8b712e] 200 - Time: 0.020s
2025-09-02 11:59:19,778 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:23,166 - api.middleware.logging - INFO - [logging.py:31] - [92c1f723] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:59:23,173 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:23,174 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:23,174 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:23,174 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:23,177 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:23,177 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:23,185 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:23,186 - api.middleware.logging - INFO - [logging.py:44] - [92c1f723] 200 - Time: 0.020s
2025-09-02 11:59:23,830 - api.middleware.logging - INFO - [logging.py:31] - [202ff471] GET /api/admin/addons - Client: 188.253.4.204
2025-09-02 11:59:23,838 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:23,838 - api.middleware.logging - INFO - [logging.py:31] - [68c0ab55] GET /api/meals/2 - Client: 188.253.4.203
2025-09-02 11:59:23,841 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:23,842 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:23,842 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:23,843 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:23,843 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:23,843 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:23,843 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:23,847 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:23,847 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:23,847 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:23,847 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:23,855 - api.middleware.logging - INFO - [logging.py:44] - [68c0ab55] 200 - Time: 0.017s
2025-09-02 11:59:23,855 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:23,857 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:23,858 - api.middleware.logging - INFO - [logging.py:44] - [202ff471] 200 - Time: 0.028s
2025-09-02 11:59:24,151 - api.middleware.logging - INFO - [logging.py:31] - [e110ead8] GET /api/admin/meals/2/statistics - Client: 188.253.4.203
2025-09-02 11:59:24,158 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:24,160 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:24,160 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:24,160 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:24,162 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:24,162 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:24,173 - api.middleware.logging - INFO - [logging.py:44] - [e110ead8] 200 - Time: 0.022s
2025-09-02 11:59:24,175 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:39,492 - api.middleware.logging - INFO - [logging.py:31] - [c3ea81d8] GET /api/auth/me - Client: 188.253.4.206
2025-09-02 11:59:39,500 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:39,501 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:39,501 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:39,501 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:39,503 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:39,503 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:39,506 - api.middleware.logging - INFO - [logging.py:44] - [c3ea81d8] 200 - Time: 0.014s
2025-09-02 11:59:39,507 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:41,204 - api.middleware.logging - INFO - [logging.py:31] - [70ab92c5] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:59:41,211 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:41,212 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:41,212 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:41,213 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:41,214 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:41,214 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:41,220 - api.middleware.logging - INFO - [logging.py:44] - [70ab92c5] 200 - Time: 0.016s
2025-09-02 11:59:41,222 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:42,913 - api.middleware.logging - INFO - [logging.py:31] - [8ea7df47] GET /api/meals - Client: 188.253.4.204
2025-09-02 11:59:42,921 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:42,922 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:42,922 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:42,922 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:42,923 - api.middleware.logging - INFO - [logging.py:31] - [36afdc73] GET /api/meals - Client: 188.253.4.206
2025-09-02 11:59:42,924 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:42,925 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:42,925 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:42,926 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:42,926 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:42,926 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:42,928 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:42,928 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:42,936 - api.middleware.logging - INFO - [logging.py:44] - [8ea7df47] 200 - Time: 0.022s
2025-09-02 11:59:42,936 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:42,939 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:42,939 - api.middleware.logging - INFO - [logging.py:44] - [36afdc73] 200 - Time: 0.016s
2025-09-02 11:59:43,679 - api.middleware.logging - INFO - [logging.py:31] - [4d9bc9c5] GET /api/meals/2 - Client: 188.253.4.204
2025-09-02 11:59:43,687 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:43,687 - api.middleware.logging - INFO - [logging.py:31] - [6297826d] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 11:59:43,688 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:43,689 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:43,689 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:43,689 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:43,690 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:43,690 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:43,690 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:43,693 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:43,693 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:43,693 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:43,694 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:43,699 - api.middleware.logging - INFO - [logging.py:44] - [4d9bc9c5] 200 - Time: 0.020s
2025-09-02 11:59:43,699 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:43,703 - api.middleware.logging - INFO - [logging.py:44] - [6297826d] 200 - Time: 0.016s
2025-09-02 11:59:43,705 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 11:59:44,195 - api.middleware.logging - INFO - [logging.py:31] - [fbd5bf2a] GET /api/admin/meals/2/statistics - Client: 188.253.4.205
2025-09-02 11:59:44,204 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 11:59:44,205 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 11:59:44,206 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 11:59:44,206 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 11:59:44,208 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 11:59:44,208 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 11:59:44,218 - api.middleware.logging - INFO - [logging.py:44] - [fbd5bf2a] 200 - Time: 0.023s
2025-09-02 11:59:44,221 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:00:51,170 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 12:00:51,948 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 12:00:51,986 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 12:00:51,986 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 12:00:51,986 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 12:01:22,757 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
2025-09-02 12:01:23,460 - root - INFO - [logger.py:67] - 日志系统初始化完成，级别: DEBUG
2025-09-02 12:01:23,495 - api.main - INFO - [main.py:35] - 罡好饭API服务启动中...
2025-09-02 12:01:23,495 - api.main - INFO - [main.py:36] - 环境: development
2025-09-02 12:01:23,495 - api.main - INFO - [main.py:37] - 调试模式: True
2025-09-02 12:02:19,777 - api.middleware.logging - INFO - [logging.py:31] - [c7ef885c] GET /api/meals/calendar - Client: 127.0.0.1
2025-09-02 12:02:19,779 - api.middleware.logging - INFO - [logging.py:44] - [c7ef885c] 403 - Time: 0.002s
2025-09-02 12:03:35,162 - api.middleware.logging - INFO - [logging.py:31] - [81342acc] GET /api/auth/me - Client: 188.253.4.203
2025-09-02 12:03:35,172 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:35,174 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:35,175 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:35,175 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:35,177 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:35,178 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:35,180 - api.middleware.logging - INFO - [logging.py:44] - [81342acc] 200 - Time: 0.018s
2025-09-02 12:03:35,182 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:03:36,977 - api.middleware.logging - INFO - [logging.py:31] - [8647d477] GET /api/meals - Client: 188.253.4.203
2025-09-02 12:03:36,986 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:36,987 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:36,987 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:36,988 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:36,990 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:36,990 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:36,997 - api.middleware.logging - INFO - [logging.py:44] - [8647d477] 200 - Time: 0.020s
2025-09-02 12:03:37,000 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:03:37,412 - api.middleware.logging - INFO - [logging.py:31] - [857e3272] GET /api/meals - Client: 188.253.4.203
2025-09-02 12:03:37,421 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:37,422 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:37,423 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:37,423 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:37,425 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:37,425 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:37,432 - api.middleware.logging - INFO - [logging.py:44] - [857e3272] 200 - Time: 0.020s
2025-09-02 12:03:37,434 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:03:39,364 - api.middleware.logging - INFO - [logging.py:31] - [9171f99f] GET /api/meals - Client: 188.253.4.203
2025-09-02 12:03:39,372 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:39,373 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:39,373 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:39,373 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:39,375 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:39,375 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:39,382 - api.middleware.logging - INFO - [logging.py:44] - [9171f99f] 200 - Time: 0.018s
2025-09-02 12:03:39,383 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:03:40,229 - api.middleware.logging - INFO - [logging.py:31] - [c94a804b] GET /api/meals/2 - Client: 188.253.4.203
2025-09-02 12:03:40,230 - api.middleware.logging - INFO - [logging.py:31] - [56de428b] GET /api/admin/addons - Client: 188.253.4.203
2025-09-02 12:03:40,242 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:40,242 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:40,244 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:40,244 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:40,244 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:40,244 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:40,245 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:40,245 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:40,248 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:40,248 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:40,248 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:40,248 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:40,257 - api.middleware.logging - INFO - [logging.py:44] - [56de428b] 200 - Time: 0.027s
2025-09-02 12:03:40,257 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:03:40,259 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:03:40,259 - api.middleware.logging - INFO - [logging.py:44] - [c94a804b] 200 - Time: 0.030s
2025-09-02 12:03:40,568 - api.middleware.logging - INFO - [logging.py:31] - [5030e7f5] GET /api/admin/meals/2/statistics - Client: 188.253.4.205
2025-09-02 12:03:40,576 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:03:40,577 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:03:40,578 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:03:40,578 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:03:40,580 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:03:40,580 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:03:40,590 - api.middleware.logging - INFO - [logging.py:44] - [5030e7f5] 200 - Time: 0.022s
2025-09-02 12:03:40,592 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:08,913 - api.middleware.logging - INFO - [logging.py:31] - [d2bd0411] GET /api/auth/me - Client: 188.253.4.205
2025-09-02 12:04:08,920 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:08,924 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:08,925 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:08,925 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:08,927 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:08,927 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:08,929 - api.middleware.logging - INFO - [logging.py:44] - [d2bd0411] 200 - Time: 0.017s
2025-09-02 12:04:08,931 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:10,467 - api.middleware.logging - INFO - [logging.py:31] - [45f0b9e0] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:10,474 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:10,476 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:10,476 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:10,476 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:10,478 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:10,478 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:10,483 - api.middleware.logging - INFO - [logging.py:44] - [45f0b9e0] 200 - Time: 0.017s
2025-09-02 12:04:10,485 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:11,859 - api.middleware.logging - INFO - [logging.py:31] - [6703340a] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:11,866 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:11,867 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:11,868 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:11,868 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:11,870 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:11,870 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:11,877 - api.middleware.logging - INFO - [logging.py:44] - [6703340a] 200 - Time: 0.018s
2025-09-02 12:04:11,879 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:12,272 - api.middleware.logging - INFO - [logging.py:31] - [041128b8] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:12,282 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:12,298 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:12,299 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:12,299 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:12,301 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:12,301 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:12,306 - api.middleware.logging - INFO - [logging.py:44] - [041128b8] 200 - Time: 0.033s
2025-09-02 12:04:12,308 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:12,517 - api.middleware.logging - INFO - [logging.py:31] - [31eabf73] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 12:04:12,525 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:12,526 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:12,527 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:12,527 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:12,529 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:12,529 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:12,533 - api.middleware.logging - INFO - [logging.py:44] - [31eabf73] 200 - Time: 0.016s
2025-09-02 12:04:12,535 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:12,877 - api.middleware.logging - INFO - [logging.py:31] - [0aebea57] GET /api/admin/meals/2/statistics - Client: 188.253.4.203
2025-09-02 12:04:12,877 - api.middleware.logging - INFO - [logging.py:31] - [2774afae] GET /api/meals/2 - Client: 188.253.4.205
2025-09-02 12:04:12,891 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:12,891 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:12,893 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:12,893 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:12,893 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:12,894 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:12,894 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:12,894 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:12,897 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:12,897 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:12,897 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:12,897 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:12,910 - api.middleware.logging - INFO - [logging.py:44] - [0aebea57] 200 - Time: 0.033s
2025-09-02 12:04:12,910 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:12,913 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:12,914 - api.middleware.logging - INFO - [logging.py:44] - [2774afae] 200 - Time: 0.036s
2025-09-02 12:04:15,551 - api.middleware.logging - INFO - [logging.py:31] - [896ef7cf] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:15,560 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:15,567 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:15,570 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:15,570 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:15,573 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:15,573 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:15,584 - api.middleware.logging - INFO - [logging.py:44] - [896ef7cf] 200 - Time: 0.034s
2025-09-02 12:04:15,588 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:20,251 - api.middleware.logging - INFO - [logging.py:31] - [5acbc035] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 12:04:20,259 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:20,261 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:20,261 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:20,262 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:20,264 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:20,264 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:20,268 - api.middleware.logging - INFO - [logging.py:44] - [5acbc035] 200 - Time: 0.017s
2025-09-02 12:04:20,270 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:27,911 - api.middleware.logging - INFO - [logging.py:31] - [f859d9bc] POST /api/admin/meals - Client: 188.253.4.205
2025-09-02 12:04:27,919 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:27,923 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:27,923 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:27,924 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:27,926 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:27,926 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:27,926 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902120427926716，包含 1 个操作
2025-09-02 12:04:27,927 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902120427926716 中的操作 1/1
2025-09-02 12:04:27,939 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902120427926716 提交成功
2025-09-02 12:04:27,940 - api.middleware.logging - INFO - [logging.py:44] - [f859d9bc] 201 - Time: 0.029s
2025-09-02 12:04:28,042 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:29,947 - api.middleware.logging - INFO - [logging.py:31] - [0f5e7473] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:29,955 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:29,962 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:29,964 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:29,964 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:29,966 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:29,966 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:29,973 - api.middleware.logging - INFO - [logging.py:44] - [0f5e7473] 200 - Time: 0.026s
2025-09-02 12:04:29,977 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:31,122 - api.middleware.logging - INFO - [logging.py:31] - [7bd662e5] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:31,132 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:31,139 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:31,143 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:31,143 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:31,145 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:31,145 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:31,157 - api.middleware.logging - INFO - [logging.py:44] - [7bd662e5] 200 - Time: 0.036s
2025-09-02 12:04:31,160 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:31,875 - api.middleware.logging - INFO - [logging.py:31] - [4afcf27a] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 12:04:31,883 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:31,884 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:31,884 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:31,885 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:31,887 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:31,887 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:31,890 - api.middleware.logging - INFO - [logging.py:44] - [4afcf27a] 200 - Time: 0.015s
2025-09-02 12:04:31,892 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:32,461 - api.middleware.logging - INFO - [logging.py:31] - [878444aa] GET /api/admin/meals/2/statistics - Client: 188.253.4.206
2025-09-02 12:04:32,471 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:32,473 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:32,473 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:32,473 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:32,476 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:32,476 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:32,485 - api.middleware.logging - INFO - [logging.py:44] - [878444aa] 200 - Time: 0.024s
2025-09-02 12:04:32,488 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:33,308 - api.middleware.logging - INFO - [logging.py:31] - [dbc4e85a] GET /api/meals/2 - Client: 188.253.4.206
2025-09-02 12:04:33,317 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:33,323 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:33,331 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:33,331 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:33,333 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:33,334 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:33,342 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:33,342 - api.middleware.logging - INFO - [logging.py:44] - [dbc4e85a] 200 - Time: 0.034s
2025-09-02 12:04:36,751 - api.middleware.logging - INFO - [logging.py:31] - [88930477] GET /api/meals - Client: 188.253.4.206
2025-09-02 12:04:36,760 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:36,761 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:36,761 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:36,762 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:36,763 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:36,764 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:36,773 - api.middleware.logging - INFO - [logging.py:44] - [88930477] 200 - Time: 0.022s
2025-09-02 12:04:36,775 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:38,515 - api.middleware.logging - INFO - [logging.py:31] - [002cb804] GET /api/meals - Client: 188.253.4.206
2025-09-02 12:04:38,523 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:38,524 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:38,525 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:38,525 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:38,527 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:38,527 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:38,533 - api.middleware.logging - INFO - [logging.py:44] - [002cb804] 200 - Time: 0.018s
2025-09-02 12:04:38,537 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:39,202 - api.middleware.logging - INFO - [logging.py:31] - [abbbcbbe] GET /api/admin/addons - Client: 188.253.4.206
2025-09-02 12:04:39,211 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:39,212 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:39,212 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:39,213 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:39,215 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:39,215 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:39,219 - api.middleware.logging - INFO - [logging.py:44] - [abbbcbbe] 200 - Time: 0.017s
2025-09-02 12:04:39,221 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:39,550 - api.middleware.logging - INFO - [logging.py:31] - [85deb993] GET /api/meals/2 - Client: 188.253.4.205
2025-09-02 12:04:39,558 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:39,563 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:39,564 - api.middleware.logging - INFO - [logging.py:31] - [2b20bfe4] GET /api/admin/meals/2/statistics - Client: 188.253.4.205
2025-09-02 12:04:39,565 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:39,566 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:39,566 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:39,568 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:39,568 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:39,569 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:39,570 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:39,570 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:39,573 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:39,574 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:39,576 - api.middleware.logging - INFO - [logging.py:44] - [85deb993] 200 - Time: 0.026s
2025-09-02 12:04:39,576 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:39,584 - api.middleware.logging - INFO - [logging.py:44] - [2b20bfe4] 200 - Time: 0.020s
2025-09-02 12:04:39,588 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:41,016 - api.middleware.logging - INFO - [logging.py:31] - [ff283799] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:41,024 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:41,025 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:41,025 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:41,025 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:41,027 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:41,027 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:41,059 - api.middleware.logging - INFO - [logging.py:44] - [ff283799] 200 - Time: 0.042s
2025-09-02 12:04:41,068 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:43,216 - api.middleware.logging - INFO - [logging.py:31] - [f5f3475a] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:43,225 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:43,227 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:43,227 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:43,228 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:43,230 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:43,230 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:43,237 - api.middleware.logging - INFO - [logging.py:44] - [f5f3475a] 200 - Time: 0.021s
2025-09-02 12:04:43,242 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:43,867 - api.middleware.logging - INFO - [logging.py:31] - [2614845d] GET /api/admin/meals/2/statistics - Client: 188.253.4.206
2025-09-02 12:04:43,868 - api.middleware.logging - INFO - [logging.py:31] - [be1ab2fd] GET /api/meals/2 - Client: 188.253.4.205
2025-09-02 12:04:43,878 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:43,878 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:43,878 - api.middleware.logging - INFO - [logging.py:31] - [e2cf5332] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 12:04:43,880 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:43,883 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:43,883 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:43,883 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:43,884 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:43,884 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:43,884 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:43,885 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:43,885 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:43,885 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:43,888 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:43,888 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:43,889 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:43,889 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:43,889 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:43,889 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:43,894 - api.middleware.logging - INFO - [logging.py:44] - [be1ab2fd] 200 - Time: 0.026s
2025-09-02 12:04:43,895 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:43,907 - api.middleware.logging - INFO - [logging.py:44] - [2614845d] 200 - Time: 0.040s
2025-09-02 12:04:43,907 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:43,910 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:43,913 - api.middleware.logging - INFO - [logging.py:44] - [e2cf5332] 200 - Time: 0.034s
2025-09-02 12:04:45,629 - api.middleware.logging - INFO - [logging.py:31] - [247715bb] GET /api/meals - Client: 188.253.4.205
2025-09-02 12:04:45,638 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:45,643 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:45,644 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:45,644 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:45,646 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:45,647 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:45,653 - api.middleware.logging - INFO - [logging.py:44] - [247715bb] 200 - Time: 0.024s
2025-09-02 12:04:45,656 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:47,330 - api.middleware.logging - INFO - [logging.py:31] - [967647fb] GET /api/admin/addons - Client: 188.253.4.205
2025-09-02 12:04:47,339 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:47,340 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:47,341 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:47,341 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:47,343 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:47,343 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:47,346 - api.middleware.logging - INFO - [logging.py:44] - [967647fb] 200 - Time: 0.016s
2025-09-02 12:04:47,348 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:55,397 - api.middleware.logging - INFO - [logging.py:31] - [c2120dea] POST /api/admin/meals - Client: 188.253.4.204
2025-09-02 12:04:55,407 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:55,408 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:55,409 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:55,409 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:55,412 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:55,412 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:55,412 - DatabaseManager - DEBUG - [manager.py:147] - 开始事务 20250902120455412927，包含 1 个操作
2025-09-02 12:04:55,413 - DatabaseManager - DEBUG - [manager.py:151] - 执行事务 20250902120455412927 中的操作 1/1
2025-09-02 12:04:55,426 - DatabaseManager - INFO - [manager.py:156] - 事务 20250902120455412927 提交成功
2025-09-02 12:04:55,426 - api.middleware.logging - INFO - [logging.py:44] - [c2120dea] 201 - Time: 0.029s
2025-09-02 12:04:55,492 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:57,412 - api.middleware.logging - INFO - [logging.py:31] - [7e76d162] GET /api/meals - Client: 188.253.4.204
2025-09-02 12:04:57,421 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:57,425 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:57,425 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:57,425 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:57,428 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:57,428 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:57,436 - api.middleware.logging - INFO - [logging.py:44] - [7e76d162] 200 - Time: 0.024s
2025-09-02 12:04:57,439 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:04:59,407 - api.middleware.logging - INFO - [logging.py:31] - [3161a96f] GET /api/meals - Client: 188.253.4.204
2025-09-02 12:04:59,417 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:04:59,418 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:04:59,419 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:04:59,419 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:04:59,421 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:04:59,421 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:04:59,426 - api.middleware.logging - INFO - [logging.py:44] - [3161a96f] 200 - Time: 0.019s
2025-09-02 12:04:59,432 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:05:00,199 - api.middleware.logging - INFO - [logging.py:31] - [d06c1e85] GET /api/admin/addons - Client: 188.253.4.204
2025-09-02 12:05:00,209 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:05:00,211 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:05:00,211 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:05:00,212 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:05:00,214 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:05:00,214 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:05:00,218 - api.middleware.logging - INFO - [logging.py:44] - [d06c1e85] 200 - Time: 0.020s
2025-09-02 12:05:00,221 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:05:00,549 - api.middleware.logging - INFO - [logging.py:31] - [3f24beee] GET /api/meals/2 - Client: 188.253.4.203
2025-09-02 12:05:00,549 - api.middleware.logging - INFO - [logging.py:31] - [33eb5872] GET /api/admin/meals/2/statistics - Client: 188.253.4.203
2025-09-02 12:05:00,558 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:05:00,558 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:05:00,560 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:05:00,561 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:05:00,562 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:05:00,562 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:05:00,562 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:05:00,563 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:05:00,566 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:05:00,566 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:05:00,566 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:05:00,567 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:05:00,573 - api.middleware.logging - INFO - [logging.py:44] - [3f24beee] 200 - Time: 0.024s
2025-09-02 12:05:00,573 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:05:00,582 - api.middleware.logging - INFO - [logging.py:44] - [33eb5872] 200 - Time: 0.033s
2025-09-02 12:05:00,585 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:05:34,625 - api.middleware.logging - INFO - [logging.py:31] - [63f9ff22] GET /api/meals - Client: 188.253.4.206
2025-09-02 12:05:34,632 - DatabaseManager - INFO - [manager.py:60] - 成功连接到数据库: /home/pp/mp/ganghaofan_cc/data/gang_hao_fan_dev.db
2025-09-02 12:05:34,633 - DatabaseManager - DEBUG - [manager.py:99] - 数据库优化参数配置完成
2025-09-02 12:05:34,633 - api.auth.routes - DEBUG - [routes.py:48] - 收到Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
2025-09-02 12:05:34,634 - api.auth.routes - DEBUG - [routes.py:53] - JWT解码成功: user_id=3, open_id=mock_openid_d547a2d9e720f839
2025-09-02 12:05:34,636 - api.auth.routes - DEBUG - [routes.py:62] - 数据库查询用户: user_id=3, found=True
2025-09-02 12:05:34,636 - api.auth.routes - DEBUG - [routes.py:81] - 用户认证成功: user_id=3
2025-09-02 12:05:34,641 - api.middleware.logging - INFO - [logging.py:44] - [63f9ff22] 200 - Time: 0.016s
2025-09-02 12:05:34,643 - DatabaseManager - INFO - [manager.py:78] - 数据库连接已关闭
2025-09-02 12:06:52,468 - api.main - INFO - [main.py:42] - 罡好饭API服务关闭中...
